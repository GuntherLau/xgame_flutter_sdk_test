import{a3 as b,r as l,H as o,j as e,T as t,M as m,a5 as d,Y as h}from"./index.sdk-0.0.1.js";import{N as v}from"./normal-layout.js";import{b as j}from"./deposit.js";import"./main-layout.js";import"./popover.js";import"./Modal.js";import"./lazy-load-component.js";function T(){var x,c;const{orderId:r}=b(),[a,n]=l.useState(null);l.useEffect(()=>{const s=setInterval(async()=>{i()},3e3);return()=>clearInterval(s)},[]);const i=async()=>{try{const s=await j({page:1,rows:1,orderNo:r});s&&s.id&&n(s)}catch(s){console.log(s)}};return l.useEffect(()=>{(a==null?void 0:a.status)==3&&o.navigateBack(),(a==null?void 0:a.status)==4&&o.navigate("/deposit/failed",{replace:!0})},[a]),e.jsx(v,{title:t.recharge_details(),className:"max-w-[800px] mx-auto ",children:a&&r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col justify-center items-center pt-10",children:[e.jsx("div",{className:"p-6 bg-[var(--active)] rounded-full",children:e.jsx(m,{color:"#000000",name:"ic_white_history_icon",className:"w-[52px] h-[52px]"})}),e.jsx("span",{className:"text-xl text-[var(--active)] mt-3",children:t.order_in_progress()})]}),e.jsxs("div",{className:"w-full px-3  mt-[9vh] flex flex-col gap-4",children:[e.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[e.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.recharge_amount()}),e.jsx("span",{className:"text-[var(--active)]",children:(a==null?void 0:a.amount)==0?"< 0.0001":`+${a==null?void 0:a.amount}`}),e.jsx("span",{className:"ml-1",children:a==null?void 0:a.currency})]}),e.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[e.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.discount_amount()}),e.jsxs("span",{className:"text-[var(--active)]",children:["+",a==null?void 0:a.discountAmount]}),e.jsx("span",{className:"ml-1",children:a==null?void 0:a.currency})]}),e.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[e.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.order_number()}),e.jsxs("div",{className:"flex  max-w-[65%] items-center gap-2",children:[e.jsx("label",{className:"overflow-hidden overflow-ellipsis w-full",children:a==null?void 0:a.orderNo})," ",e.jsx(m,{onClick:()=>o.copy((a==null?void 0:a.orderNo)??""),color:"var(--text-color)",name:"ic_copy",className:"w-3.5 h-3.5"})]})]}),((a==null?void 0:a.payTypeName)||(a==null?void 0:a.payType))&&e.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[e.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.recharge_methods()}),e.jsx("span",{className:"",children:(a==null?void 0:a.payTypeName)||(a==null?void 0:a.payType)})]}),e.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[e.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.recharge_time()}),(a==null?void 0:a.addTime)&&e.jsx("span",{className:"",children:d(new Date(a==null?void 0:a.addTime))})]}),(a==null?void 0:a.remarks)&&e.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[e.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.remark()}),e.jsx("span",{className:"font-medium mr-1 text-ellipsis overflow-hidden",children:(c=(x=a==null?void 0:a.remarks)==null?void 0:x.split("ï¼š"))==null?void 0:c.pop()})]})]})]}):e.jsx(h,{className:"grow"})})}export{T as RechargeDetailView};
