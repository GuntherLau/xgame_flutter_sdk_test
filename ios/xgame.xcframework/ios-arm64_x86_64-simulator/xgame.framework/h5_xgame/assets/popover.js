var ze=Object.defineProperty;var Oe=(e,t,o)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var B=(e,t,o)=>Oe(e,typeof t!="symbol"?t+"":t,o);import{r,j as y,y as ye,a_ as Ie,u as Me,l as $e,L as ke}from"./index.sdk-0.0.1.js";import{a as Ee,g as we,s as _,m as We,u as xe,j as Re,b as K,i as ce,d as Te,k as ue,l as Ae,n as De,o as pe,M as He,p as fe,q as de,t as ve}from"./Modal.js";function Ne(e,t=166){let o;function c(...a){const i=()=>{e.apply(this,a)};clearTimeout(o),o=setTimeout(i,t)}return c.clear=()=>{clearTimeout(o)},c}const he={};function Ue(e,t){const o=r.useRef(he);return o.current===he&&(o.current=e(t)),o}const qe=[];function Fe(e){r.useEffect(e,qe)}class J{constructor(){B(this,"currentId",null);B(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});B(this,"disposeEffect",()=>this.clear)}static create(){return new J}start(t,o){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,o()},t)}}function Be(){const e=Ue(J.create).current;return Fe(e.disposeEffect),e}function Ge(e){return we("MuiPaper",e)}Ee("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ve=e=>{const{square:t,elevation:o,variant:c,classes:a}=e,i={root:["root",c,!t&&"rounded",c==="elevation"&&`elevation${o}`]};return Te(i,Ge,a)},Ye=_("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],!o.square&&t.rounded,o.variant==="elevation"&&t[`elevation${o.elevation}`]]}})(We(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ke=r.forwardRef(function(t,o){var l;const c=xe({props:t,name:"MuiPaper"}),a=Re(),{className:i,component:p="div",elevation:f=1,square:g=!1,variant:O="elevation",...j}=c,E={...c,component:p,elevation:f,square:g,variant:O},T=Ve(E);return y.jsx(Ye,{as:p,ownerState:E,className:K(T.root,i),ref:o,...j,style:{...O==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[f],...a.vars&&{"--Paper-overlay":(l=a.vars.overlays)==null?void 0:l[f]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ce("#fff",ue(f))}, ${ce("#fff",ue(f))})`}},...j.style}})});function Xe(e){return typeof e=="string"}function X(e){return`scale(${e}, ${e**2})`}const Ze={entering:{opacity:1,transform:X(1)},entered:{opacity:1,transform:"none"}},V=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Z=r.forwardRef(function(t,o){const{addEndListener:c,appear:a=!0,children:i,easing:p,in:f,onEnter:g,onEntered:O,onEntering:j,onExit:E,onExited:T,onExiting:l,style:d,timeout:h="auto",TransitionComponent:k=Ae,...S}=t,P=Be(),M=r.useRef(),b=Re(),$=r.useRef(null),N=ye($,Ie(i),o),C=n=>L=>{if(n){const w=$.current;L===void 0?n(w):n(w,L)}},G=C(j),z=C((n,L)=>{De(n);const{duration:w,delay:v,easing:x}=pe({style:d,timeout:h,easing:p},{mode:"enter"});let I;h==="auto"?(I=b.transitions.getAutoHeightDuration(n.clientHeight),M.current=I):I=w,n.style.transition=[b.transitions.create("opacity",{duration:I,delay:v}),b.transitions.create("transform",{duration:V?I:I*.666,delay:v,easing:x})].join(","),g&&g(n,L)}),D=C(O),H=C(l),U=C(n=>{const{duration:L,delay:w,easing:v}=pe({style:d,timeout:h,easing:p},{mode:"exit"});let x;h==="auto"?(x=b.transitions.getAutoHeightDuration(n.clientHeight),M.current=x):x=L,n.style.transition=[b.transitions.create("opacity",{duration:x,delay:w}),b.transitions.create("transform",{duration:V?x:x*.666,delay:V?w:w||x*.333,easing:v})].join(","),n.style.opacity=0,n.style.transform=X(.75),E&&E(n)}),q=C(T),F=n=>{h==="auto"&&P.start(M.current||0,n),c&&c($.current,n)};return y.jsx(k,{appear:a,in:f,nodeRef:$,onEnter:z,onEntered:D,onEntering:G,onExit:U,onExited:q,onExiting:H,addEndListener:F,timeout:h==="auto"?null:h,...S,children:(n,L)=>r.cloneElement(i,{style:{opacity:0,transform:X(.75),visibility:n==="exited"&&!f?"hidden":void 0,...Ze[n],...d,...i.props.style},ref:N,...L})})});Z&&(Z.muiSupportAuto=!0);function _e(e){return we("MuiPopover",e)}Ee("MuiPopover",["root","paper"]);function me(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function ge(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function Pe(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Y(e){return typeof e=="function"?e():e}const Je=e=>{const{classes:t}=e;return Te({root:["root"],paper:["paper"]},_e,t)},Qe=_(He,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),et=_(Ke,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),tt=r.forwardRef(function(t,o){const c=xe({props:t,name:"MuiPopover"}),{action:a,anchorEl:i,anchorOrigin:p={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:g="anchorEl",children:O,className:j,container:E,elevation:T=8,marginThreshold:l=16,open:d,PaperProps:h={},slots:k={},slotProps:S={},transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:M=Z,transitionDuration:b="auto",TransitionProps:{onEntering:$,...N}={},disableScrollLock:C=!1,...G}=c,z=(S==null?void 0:S.paper)??h,D=r.useRef(),H={...c,anchorOrigin:p,anchorReference:g,elevation:T,marginThreshold:l,externalPaperSlotProps:z,transformOrigin:P,TransitionComponent:M,transitionDuration:b,TransitionProps:N},U=Je(H),q=r.useCallback(()=>{if(g==="anchorPosition")return f;const s=Y(i),m=(s&&s.nodeType===1?s:fe(D.current).body).getBoundingClientRect();return{top:m.top+me(m,p.vertical),left:m.left+ge(m,p.horizontal)}},[i,p.horizontal,p.vertical,f,g]),F=r.useCallback(s=>({vertical:me(s,P.vertical),horizontal:ge(s,P.horizontal)}),[P.horizontal,P.vertical]),n=r.useCallback(s=>{const u={width:s.offsetWidth,height:s.offsetHeight},m=F(u);if(g==="none")return{top:null,left:null,transformOrigin:Pe(m)};const ne=q();let W=ne.top-m.vertical,A=ne.left-m.horizontal;const re=W+u.height,ie=A+u.width,se=de(Y(i)),ae=se.innerHeight-l,le=se.innerWidth-l;if(l!==null&&W<l){const R=W-l;W-=R,m.vertical+=R}else if(l!==null&&re>ae){const R=re-ae;W-=R,m.vertical+=R}if(l!==null&&A<l){const R=A-l;A-=R,m.horizontal+=R}else if(ie>le){const R=ie-le;A-=R,m.horizontal+=R}return{top:`${Math.round(W)}px`,left:`${Math.round(A)}px`,transformOrigin:Pe(m)}},[i,g,q,F,l]),[L,w]=r.useState(d),v=r.useCallback(()=>{const s=D.current;if(!s)return;const u=n(s);u.top!==null&&s.style.setProperty("top",u.top),u.left!==null&&(s.style.left=u.left),s.style.transformOrigin=u.transformOrigin,w(!0)},[n]);r.useEffect(()=>(C&&window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)),[i,C,v]);const x=(s,u)=>{$&&$(s,u),v()},I=()=>{w(!1)};r.useEffect(()=>{d&&v()}),r.useImperativeHandle(a,()=>d?{updatePosition:()=>{v()}}:null,[d,v]),r.useEffect(()=>{if(!d)return;const s=Ne(()=>{v()}),u=de(i);return u.addEventListener("resize",s),()=>{s.clear(),u.removeEventListener("resize",s)}},[i,d,v]);let Q=b;b==="auto"&&!M.muiSupportAuto&&(Q=void 0);const be=E||(i?fe(Y(i)).body:void 0),ee={slots:k,slotProps:{...S,paper:z}},[Ce,te]=ve("paper",{elementType:et,externalForwardedProps:ee,additionalProps:{elevation:T,className:K(U.paper,z==null?void 0:z.className),style:L?z.style:{...z.style,opacity:0}},ownerState:H}),[oe,{slotProps:Le,...je}]=ve("root",{elementType:Qe,externalForwardedProps:ee,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:be,open:d},ownerState:H,className:K(U.root,j)}),Se=ye(D,te.ref);return y.jsx(oe,{...je,...!Xe(oe)&&{slotProps:Le,disableScrollLock:C},...G,ref:o,children:y.jsx(M,{appear:!0,in:d,onEntering:x,onExited:I,timeout:Q,...N,children:y.jsx(Ce,{...te,ref:Se,children:O})})})});function at({className:e="",index:t="",onClick:o}){var a;const{i18n:{language:c}}=Me();return y.jsx($e,{onClick:o,src:`/assets/theme/${(a=ke.getInstance().getLang(c))==null?void 0:a.theme}/logo${t}.png`,alt:"",className:e})}function ot({actionEL:e,children:t,className:o="",style:c,actionELClassName:a,disabled:i,alignRight:p,alignCenter:f,popupRef:g,disableAutoClose:O=!1}){var S;const j=r.useRef(null),[E,T]=r.useState(null),l=!!E,d=P=>{P.stopPropagation(),T(E?null:P.currentTarget)},h=P=>{P.stopPropagation(),T(null)},k=()=>{T(null)};return r.useEffect(()=>(window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)),[]),r.useImperativeHandle(g,()=>({closePop:h})),y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:j,onClick:i?void 0:d,className:a,children:e}),l&&y.jsx(tt,{open:l,anchorEl:E,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:f?"center":p?"right":"left"},transformOrigin:{vertical:"top",horizontal:f?"center":p?"right":"left"},classes:{paper:"mui-popover-paper"},children:y.jsx("div",{style:{...c,minWidth:(S=j.current)==null?void 0:S.clientWidth},className:`popover-custom-class ${o}`,onClick:O?void 0:h,children:t})})]})}const nt=r.forwardRef((e,t)=>y.jsx(ot,{...e,popupRef:t}));nt.displayName="CustomPopoverWithRef";export{ot as C,at as L,Ke as P,Be as a,nt as b,Ne as d,Ue as u};
