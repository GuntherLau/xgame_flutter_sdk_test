import{b as w,h as Y,r as m,af as i,j as e,T as a,M,a8 as o,ai as p}from"./index.sdk-0.0.1.js";import{N as C}from"./normal-layout.js";import{D as R}from"./date-picker-bottom-sheet.js";import{g as S}from"./agent2.js";import"./main-layout.js";import"./popover.js";import"./Modal.js";import"./lazy-load-component.js";import"./Drawer.js";import"./index7.js";function O(){var d,u,x;const{extInfo:n}=w(Y),[c,y]=m.useState(i(new Date).format("YYYY-MM-DD")),[h,l]=m.useState(!1),[s,j]=m.useState(null),f=()=>{const r=((s==null?void 0:s.rwReports)??[]).map(t=>({currency:t.currency,amount:t.rechMoney}));return o.convertToSystemCurrency(r)},b=()=>{const r=((s==null?void 0:s.busDayReportDl)??[]).map(t=>({currency:t.currency,amount:t.liveBetReport.bettingMoney+t.ftBetReport.bettingMoney+t.cpBetReport.bettingMoney}));return o.convertToSystemCurrency(r)},v=()=>{const r=((s==null?void 0:s.busDayReportDl)??[]).map(t=>({currency:t.currency,amount:t.dlDayWage+t.dlBonuus}));return o.convertToSystemCurrency(r)},D=r=>{l(!1);const t=i(r).format("YYYY-MM-DD");t!==c&&y(t)},N=()=>{const r=new Date(c);r.setHours(23,59,59,999);const t=new Date(c);t.setHours(0,0,0,0),S({userId:n.userId,beginDate:p(t),endDate:p(r)}).then(g=>j(g))};return m.useEffect(()=>{n!=null&&n.userId&&N()},[c,n==null?void 0:n.userId]),e.jsx(C,{title:a.commission_details(),className:"max-w-[800px] mx-auto",hideRightEl:!0,children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"flex gap-3 pb-2.5 bm-3",children:e.jsxs("div",{onClick:()=>l(!0),className:"min-w-[150px] flex items-center justify-between gap-3 text-sm text-[var(--text-content-color)] px-3 bg-[var(--agent-searchbox-bg)] rounded-full py-2",children:[c," ",e.jsx(M,{color:"#4b4b52",name:"ic_arrow_down",className:"w-2.5 h-2.5"})]})}),e.jsxs("div",{className:"rounded-md bg-[var(--box-bg)] text-xs text-[#69696e] p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xl text-[var(--active)]",children:["+",v()," ",e.jsx("span",{className:"text-xs",children:(d=o.defaultCurrency)==null?void 0:d.currency})]}),e.jsx("div",{className:"text-[#e5c36f] text-sm",children:a.settlement_successful()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-[#]",children:[e.jsx("div",{children:a.get_commission()}),e.jsx("div",{children:i(new Date).format("YYYY-MM-DD HH:mm:ss")})]}),e.jsx("div",{className:"h-[1px] w-full bg-[var(--box-separator)] my-2"}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("div",{children:a.deposit_amount()}),e.jsxs("div",{className:"text-base text-[#d3d3d3] mb-1",children:[f()," ",e.jsx("span",{className:"text-xs",children:(u=o.defaultCurrency)==null?void 0:u.currency})]}),e.jsx("div",{children:a.number_of_bettors()}),e.jsx("div",{className:"text-base text-[#d3d3d3]",children:s==null?void 0:s.userBetCount})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("div",{children:a.bet_amount()}),e.jsxs("div",{className:"text-base text-[#d3d3d3] mb-1",children:[b()," ",e.jsx("span",{className:"text-xs",children:(x=o.defaultCurrency)==null?void 0:x.currency})]}),e.jsx("div",{children:a.statistics_time()}),e.jsx("div",{className:"text-base text-[#d3d3d3]",children:i(new Date).format("YYYY-MM-DD HH:mm:ss")})]})]})]}),e.jsx(R,{isOpen:h,initialDate:i(c).toDate(),onCancel:()=>l(!1),onConfirm:D,maxDate:new Date})]})})}export{O as CommissionDetails};
