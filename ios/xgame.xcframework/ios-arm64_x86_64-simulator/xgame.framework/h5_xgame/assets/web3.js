import{r as y,N as Ke,y as Ze,O as Ge,j as a,H as P,T as E,l as Z,M as G,a as Ae,i as Je,S as Oe,b as _e,P as Pe,Q as Le,R as De,U as et,V as tt,z as nt,h as ot,W as st,p as rt,Y as it,Z as ct,_ as lt}from"./index.sdk-0.0.1.js";import{N as at}from"./normal-layout.js";import{C as ft}from"./modals.js";import{b as ut}from"./browser2.js";import{B as Me}from"./bottom-sheet.js";import{g as dt,a as mt,u as pt,P as ht,b as gt}from"./index6.js";import{d as xt}from"./Modal.js";import{C as yt}from"./ClickAwayListener.js";import"./main-layout.js";import"./popover.js";import"./lazy-load-component.js";import"./SwipeableDrawer.js";import"./Drawer.js";import"./index7.js";const re=Math.min,z=Math.max,ie=Math.round,oe=Math.floor,H=e=>({x:e,y:e}),bt={left:"right",right:"left",bottom:"top",top:"bottom"},wt={start:"end",end:"start"};function we(e,t,n){return z(e,re(t,n))}function fe(e,t){return typeof e=="function"?e(t):e}function U(e){return e.split("-")[0]}function ue(e){return e.split("-")[1]}function Ie(e){return e==="x"?"y":"x"}function Fe(e){return e==="y"?"height":"width"}function de(e){return["top","bottom"].includes(U(e))?"y":"x"}function Ve(e){return Ie(de(e))}function vt(e,t,n){n===void 0&&(n=!1);const o=ue(e),s=Ve(e),c=Fe(s);let i=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(i=ce(i)),[i,ce(i)]}function kt(e){const t=ce(e);return[he(e),t,he(t)]}function he(e){return e.replace(/start|end/g,t=>wt[t])}function Ct(e,t,n){const o=["left","right"],s=["right","left"],c=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:o:t?o:s;case"left":case"right":return t?c:i;default:return[]}}function St(e,t,n,o){const s=ue(e);let c=Ct(U(e),n==="start",o);return s&&(c=c.map(i=>i+"-"+s),t&&(c=c.concat(c.map(he)))),c}function ce(e){return e.replace(/left|right|bottom|top/g,t=>bt[t])}function Rt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tt(e){return typeof e!="number"?Rt(e):{top:e,right:e,bottom:e,left:e}}function le(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function ve(e,t,n){let{reference:o,floating:s}=e;const c=de(t),i=Ve(t),r=Fe(i),l=U(t),f=c==="y",u=o.x+o.width/2-s.width/2,d=o.y+o.height/2-s.height/2,h=o[r]/2-s[r]/2;let m;switch(l){case"top":m={x:u,y:o.y-s.height};break;case"bottom":m={x:u,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:d};break;case"left":m={x:o.x-s.width,y:d};break;default:m={x:o.x,y:o.y}}switch(ue(t)){case"start":m[i]-=h*(n&&f?-1:1);break;case"end":m[i]+=h*(n&&f?-1:1);break}return m}const Nt=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:c=[],platform:i}=n,r=c.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=ve(f,o,l),h=o,m={},b=0;for(let g=0;g<r.length;g++){const{name:k,fn:x}=r[g],{x:v,y:C,data:p,reset:w}=await x({x:u,y:d,initialPlacement:o,placement:h,strategy:s,middlewareData:m,rects:f,platform:i,elements:{reference:e,floating:t}});u=v??u,d=C??d,m={...m,[k]:{...m[k],...p}},w&&b<=50&&(b++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(f=w.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:u,y:d}=ve(f,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:m}};async function $e(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:c,rects:i,elements:r,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=fe(t,e),b=Tt(m),k=r[h?d==="floating"?"reference":"floating":d],x=le(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(k)))==null||n?k:k.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(r.floating)),boundary:f,rootBoundary:u,strategy:l})),v=d==="floating"?{x:o,y:s,width:i.floating.width,height:i.floating.height}:i.reference,C=await(c.getOffsetParent==null?void 0:c.getOffsetParent(r.floating)),p=await(c.isElement==null?void 0:c.isElement(C))?await(c.getScale==null?void 0:c.getScale(C))||{x:1,y:1}:{x:1,y:1},w=le(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:v,offsetParent:C,strategy:l}):v);return{top:(x.top-w.top+b.top)/p.y,bottom:(w.bottom-x.bottom+b.bottom)/p.y,left:(x.left-w.left+b.left)/p.x,right:(w.right-x.right+b.right)/p.x}}const jt=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:c,rects:i,initialPlacement:r,platform:l,elements:f}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...k}=fe(e,t);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const x=U(s),v=U(r)===r,C=await(l.isRTL==null?void 0:l.isRTL(f.floating)),p=h||(v||!g?[ce(r)]:kt(r));!h&&b!=="none"&&p.push(...St(r,g,b,C));const w=[r,...p],S=await $e(t,k),T=[];let A=((o=c.flip)==null?void 0:o.overflows)||[];if(u&&T.push(S[x]),d){const N=vt(s,i,C);T.push(S[N[0]],S[N[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(N=>N<=0)){var X,$;const N=(((X=c.flip)==null?void 0:X.index)||0)+1,B=w[N];if(B)return{data:{index:N,overflows:A},reset:{placement:B}};let I=($=A.filter(j=>j.overflows[0]<=0).sort((j,F)=>j.overflows[1]-F.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(m){case"bestFit":{var M;const j=(M=A.map(F=>[F.placement,F.overflows.filter(R=>R>0).reduce((R,Y)=>R+Y,0)]).sort((F,R)=>F[1]-R[1])[0])==null?void 0:M[0];j&&(I=j);break}case"initialPlacement":I=r;break}if(s!==I)return{reset:{placement:I}}}return{}}}};async function Et(e,t){const{placement:n,platform:o,elements:s}=e,c=await(o.isRTL==null?void 0:o.isRTL(s.floating)),i=U(n),r=ue(n),l=de(n)==="y",f=["left","top"].includes(i)?-1:1,u=c&&l?-1:1,d=fe(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return r&&typeof b=="number"&&(m=r==="end"?b*-1:b),l?{x:m*u,y:h*f}:{x:h*f,y:m*u}}const At=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:c,placement:i,middlewareData:r}=t,l=await Et(t,e);return i===((n=r.offset)==null?void 0:n.placement)&&(o=r.arrow)!=null&&o.alignmentOffset?{}:{x:s+l.x,y:c+l.y,data:{...l,placement:i}}}}},Ot=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:c=!0,crossAxis:i=!1,limiter:r={fn:k=>{let{x,y:v}=k;return{x,y:v}}},...l}=fe(e,t),f={x:n,y:o},u=await $e(t,l),d=de(U(s)),h=Ie(d);let m=f[h],b=f[d];if(c){const k=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=m+u[k],C=m-u[x];m=we(v,m,C)}if(i){const k=d==="y"?"top":"left",x=d==="y"?"bottom":"right",v=b+u[k],C=b-u[x];b=we(v,b,C)}const g=r.fn({...t,[h]:m,[d]:b});return{...g,data:{x:g.x-n,y:g.y-o}}}}};function ee(e){return Be(e)?(e.nodeName||"").toLowerCase():"#document"}function O(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function V(e){var t;return(t=(Be(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Be(e){return e instanceof Node||e instanceof O(e).Node}function L(e){return e instanceof Element||e instanceof O(e).Element}function D(e){return e instanceof HTMLElement||e instanceof O(e).HTMLElement}function ke(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof O(e).ShadowRoot}function ne(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=_(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(s)}function _t(e){return["table","td","th"].includes(ee(e))}function Pt(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ge(e){const t=xe(),n=_(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Lt(e){let t=W(e);for(;D(t)&&!J(t);){if(Pt(t))return null;if(ge(t))return t;t=W(t)}return null}function xe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function J(e){return["html","body","#document"].includes(ee(e))}function _(e){return O(e).getComputedStyle(e)}function me(e){return L(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function W(e){if(ee(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ke(e)&&e.host||V(e);return ke(t)?t.host:t}function He(e){const t=W(e);return J(t)?e.ownerDocument?e.ownerDocument.body:e.body:D(t)&&ne(t)?t:He(t)}function te(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=He(e),c=s===((o=e.ownerDocument)==null?void 0:o.body),i=O(s);return c?t.concat(i,i.visualViewport||[],ne(s)?s:[],i.frameElement&&n?te(i.frameElement):[]):t.concat(s,te(s,[],n))}function We(e){const t=_(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=D(e),c=s?e.offsetWidth:n,i=s?e.offsetHeight:o,r=ie(n)!==c||ie(o)!==i;return r&&(n=c,o=i),{width:n,height:o,$:r}}function ye(e){return L(e)?e:e.contextElement}function K(e){const t=ye(e);if(!D(t))return H(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:c}=We(t);let i=(c?ie(n.width):n.width)/o,r=(c?ie(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!r||!Number.isFinite(r))&&(r=1),{x:i,y:r}}const Dt=H(0);function ze(e){const t=O(e);return!xe()||!t.visualViewport?Dt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mt(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==O(e)?!1:t}function Q(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),c=ye(e);let i=H(1);t&&(o?L(o)&&(i=K(o)):i=K(e));const r=Mt(c,n,o)?ze(c):H(0);let l=(s.left+r.x)/i.x,f=(s.top+r.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(c){const h=O(c),m=o&&L(o)?O(o):o;let b=h,g=b.frameElement;for(;g&&o&&m!==b;){const k=K(g),x=g.getBoundingClientRect(),v=_(g),C=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*k.x,p=x.top+(g.clientTop+parseFloat(v.paddingTop))*k.y;l*=k.x,f*=k.y,u*=k.x,d*=k.y,l+=C,f+=p,b=O(g),g=b.frameElement}}return le({width:u,height:d,x:l,y:f})}const It=[":popover-open",":modal"];function be(e){return It.some(t=>{try{return e.matches(t)}catch{return!1}})}function Ft(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const c=s==="fixed",i=V(o),r=t?be(t.floating):!1;if(o===i||r&&c)return n;let l={scrollLeft:0,scrollTop:0},f=H(1);const u=H(0),d=D(o);if((d||!d&&!c)&&((ee(o)!=="body"||ne(i))&&(l=me(o)),D(o))){const h=Q(o);f=K(o),u.x=h.x+o.clientLeft,u.y=h.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+u.x,y:n.y*f.y-l.scrollTop*f.y+u.y}}function Vt(e){return Array.from(e.getClientRects())}function Ue(e){return Q(V(e)).left+me(e).scrollLeft}function $t(e){const t=V(e),n=me(e),o=e.ownerDocument.body,s=z(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),c=z(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+Ue(e);const r=-n.scrollTop;return _(o).direction==="rtl"&&(i+=z(t.clientWidth,o.clientWidth)-s),{width:s,height:c,x:i,y:r}}function Bt(e,t){const n=O(e),o=V(e),s=n.visualViewport;let c=o.clientWidth,i=o.clientHeight,r=0,l=0;if(s){c=s.width,i=s.height;const f=xe();(!f||f&&t==="fixed")&&(r=s.offsetLeft,l=s.offsetTop)}return{width:c,height:i,x:r,y:l}}function Ht(e,t){const n=Q(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,c=D(e)?K(e):H(1),i=e.clientWidth*c.x,r=e.clientHeight*c.y,l=s*c.x,f=o*c.y;return{width:i,height:r,x:l,y:f}}function Ce(e,t,n){let o;if(t==="viewport")o=Bt(e,n);else if(t==="document")o=$t(V(e));else if(L(t))o=Ht(t,n);else{const s=ze(e);o={...t,x:t.x-s.x,y:t.y-s.y}}return le(o)}function Qe(e,t){const n=W(e);return n===t||!L(n)||J(n)?!1:_(n).position==="fixed"||Qe(n,t)}function Wt(e,t){const n=t.get(e);if(n)return n;let o=te(e,[],!1).filter(r=>L(r)&&ee(r)!=="body"),s=null;const c=_(e).position==="fixed";let i=c?W(e):e;for(;L(i)&&!J(i);){const r=_(i),l=ge(i);!l&&r.position==="fixed"&&(s=null),(c?!l&&!s:!l&&r.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ne(i)&&!l&&Qe(e,i))?o=o.filter(u=>u!==i):s=r,i=W(i)}return t.set(e,o),o}function zt(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const i=[...n==="clippingAncestors"?be(t)?[]:Wt(t,this._c):[].concat(n),o],r=i[0],l=i.reduce((f,u)=>{const d=Ce(t,u,s);return f.top=z(d.top,f.top),f.right=re(d.right,f.right),f.bottom=re(d.bottom,f.bottom),f.left=z(d.left,f.left),f},Ce(t,r,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ut(e){const{width:t,height:n}=We(e);return{width:t,height:n}}function Qt(e,t,n){const o=D(t),s=V(t),c=n==="fixed",i=Q(e,!0,c,t);let r={scrollLeft:0,scrollTop:0};const l=H(0);if(o||!o&&!c)if((ee(t)!=="body"||ne(s))&&(r=me(t)),o){const d=Q(t,!0,c,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else s&&(l.x=Ue(s));const f=i.left+r.scrollLeft-l.x,u=i.top+r.scrollTop-l.y;return{x:f,y:u,width:i.width,height:i.height}}function pe(e){return _(e).position==="static"}function Se(e,t){return!D(e)||_(e).position==="fixed"?null:t?t(e):e.offsetParent}function Xe(e,t){const n=O(e);if(be(e))return n;if(!D(e)){let s=W(e);for(;s&&!J(s);){if(L(s)&&!pe(s))return s;s=W(s)}return n}let o=Se(e,t);for(;o&&_t(o)&&pe(o);)o=Se(o,t);return o&&J(o)&&pe(o)&&!ge(o)?n:o||Lt(e)||n}const Xt=async function(e){const t=this.getOffsetParent||Xe,n=this.getDimensions,o=await n(e.floating);return{reference:Qt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Yt(e){return _(e).direction==="rtl"}const qt={convertOffsetParentRelativeRectToViewportRelativeRect:Ft,getDocumentElement:V,getClippingRect:zt,getOffsetParent:Xe,getElementRects:Xt,getClientRects:Vt,getDimensions:Ut,getScale:K,isElement:L,isRTL:Yt};function Kt(e,t){let n=null,o;const s=V(e);function c(){var r;clearTimeout(o),(r=n)==null||r.disconnect(),n=null}function i(r,l){r===void 0&&(r=!1),l===void 0&&(l=1),c();const{left:f,top:u,width:d,height:h}=e.getBoundingClientRect();if(r||t(),!d||!h)return;const m=oe(u),b=oe(s.clientWidth-(f+d)),g=oe(s.clientHeight-(u+h)),k=oe(f),v={rootMargin:-m+"px "+-b+"px "+-g+"px "+-k+"px",threshold:z(0,re(1,l))||1};let C=!0;function p(w){const S=w[0].intersectionRatio;if(S!==l){if(!C)return i();S?i(!1,S):o=setTimeout(()=>{i(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(p,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(p,v)}n.observe(e)}return i(!0),c}function Re(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,f=ye(e),u=s||c?[...f?te(f):[],...te(t)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),c&&x.addEventListener("resize",n)});const d=f&&r?Kt(f,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===f&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(t)})),n()}),f&&!l&&m.observe(f),m.observe(t));let b,g=l?Q(e):null;l&&k();function k(){const x=Q(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,b=requestAnimationFrame(k)}return n(),()=>{var x;u.forEach(v=>{s&&v.removeEventListener("scroll",n),c&&v.removeEventListener("resize",n)}),d==null||d(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const Zt=At,Gt=Ot,Jt=jt,en=(e,t,n)=>{const o=new Map,s={platform:qt,...n},c={...s.platform,_c:o};return Nt(e,t,{...s,platform:c})};var se=typeof document<"u"?y.useLayoutEffect:y.useEffect;function ae(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!ae(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){const c=s[o];if(!(c==="_owner"&&e.$$typeof)&&!ae(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Ye(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Te(e,t){const n=Ye(e);return Math.round(t*n)/n}function Ne(e){const t=y.useRef(e);return se(()=>{t.current=e}),t}function tn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:c,floating:i}={},transform:r=!0,whileElementsMounted:l,open:f}=e,[u,d]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(o);ae(h,o)||m(o);const[b,g]=y.useState(null),[k,x]=y.useState(null),v=y.useCallback(R=>{R!==S.current&&(S.current=R,g(R))},[]),C=y.useCallback(R=>{R!==T.current&&(T.current=R,x(R))},[]),p=c||b,w=i||k,S=y.useRef(null),T=y.useRef(null),A=y.useRef(u),X=l!=null,$=Ne(l),M=Ne(s),N=y.useCallback(()=>{if(!S.current||!T.current)return;const R={placement:t,strategy:n,middleware:h};M.current&&(R.platform=M.current),en(S.current,T.current,R).then(Y=>{const q={...Y,isPositioned:!0};B.current&&!ae(A.current,q)&&(A.current=q,Ke.flushSync(()=>{d(q)}))})},[h,t,n,M]);se(()=>{f===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[f]);const B=y.useRef(!1);se(()=>(B.current=!0,()=>{B.current=!1}),[]),se(()=>{if(p&&(S.current=p),w&&(T.current=w),p&&w){if($.current)return $.current(p,w,N);N()}},[p,w,N,$,X]);const I=y.useMemo(()=>({reference:S,floating:T,setReference:v,setFloating:C}),[v,C]),j=y.useMemo(()=>({reference:p,floating:w}),[p,w]),F=y.useMemo(()=>{const R={position:n,left:0,top:0};if(!j.floating)return R;const Y=Te(j.floating,u.x),q=Te(j.floating,u.y);return r?{...R,transform:"translate("+Y+"px, "+q+"px)",...Ye(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:q}},[n,r,j.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:N,refs:I,elements:j,floatingStyles:F}),[u,N,I,j,F])}const je=(e,t)=>({...Zt(e),options:[e,t]}),nn=(e,t)=>({...Gt(e),options:[e,t]}),on=(e,t)=>({...Jt(e),options:[e,t]}),qe="Popup";function sn(e){return mt(qe,e)}dt(qe,["root","open"]);const rn=y.createContext(null);function cn(e){const[t,n]=y.useState(!0),o=y.useRef(!1),s=y.useRef(0),[c,i]=y.useState(!1),r=y.useRef(e);y.useEffect(()=>{!e&&s.current>0&&r.current!==e&&(o.current=!0,n(!1)),r.current=e},[e]);const l=y.useCallback(()=>{o.current=!1,n(!0)},[]),f=y.useCallback(()=>(s.current+=1,i(!0),()=>{s.current-=1,s.current===0&&i(!1)}),[]);let u;return c?e?u=!1:u=!o.current&&t:u=!e,{contextValue:y.useMemo(()=>({requestedEnter:e,onExited:l,registerTransition:f,hasExited:u}),[l,e,f,u]),hasExited:u}}const ln=y.createContext(null);function an(e){const{open:t}=e;return xt({root:["root",t&&"open"]},gt(sn))}function fn(e){return typeof e=="function"?e():e}const un=y.forwardRef(function(t,n){const{anchor:o,children:s,container:c,disablePortal:i=!1,keepMounted:r=!1,middleware:l,offset:f=0,open:u=!1,placement:d="bottom",slotProps:h={},slots:m={},strategy:b="absolute",...g}=t,{refs:k,elements:x,floatingStyles:v,update:C,placement:p}=tn({elements:{reference:fn(o)},open:u,middleware:l??[je(f??0),on(),nn()],placement:d,strategy:b,whileElementsMounted:r?void 0:Re}),w=Ze(k.setFloating,n);Ge(()=>{if(r&&u&&x.reference&&x.floating)return Re(x.reference,x.floating,C)},[r,u,x,C]);const S={...t,disablePortal:i,keepMounted:r,offset:je,open:u,placement:d,finalPlacement:p,strategy:b},{contextValue:T,hasExited:A}=cn(u),X=r&&A?"hidden":void 0,$=an(S),M=(m==null?void 0:m.root)??"div",N=pt({elementType:M,externalSlotProps:h.root,externalForwardedProps:g,ownerState:S,className:$.root,additionalProps:{ref:w,role:"tooltip",style:{...v,visibility:X}}}),B=y.useMemo(()=>({placement:p}),[p]);return r||!A?a.jsx(ht,{disablePortal:i,container:c,children:a.jsx(ln.Provider,{value:B,children:a.jsx(rn.Provider,{value:T,children:a.jsx(M,{...N,children:s})})})}):null});function dn({open:e,onClose:t,anchor:n,chains:o,onChange:s}){const c=e?"simple-popup":void 0,i=r=>{s(r),t()};return P.isMobile()?a.jsx(Me,{onClose:t,open:e,title:E.recharge_network(),children:o.map((r,l)=>a.jsxs("div",{onClick:()=>i(r),children:[a.jsxs("div",{className:"rounded p-4 flex gap-3 items-center",children:[a.jsx(Z,{src:P.getChainIcon(r.bcToken.chainId),alt:"",className:"h-10"}),a.jsxs("span",{className:"text-lg",children:[r.bcToken.network," ",r.bcToken.id]}),a.jsx("span",{className:"grow"}),a.jsx(G,{name:"ic_chevon_right",color:"var(--text-content-color)",className:"w-3 h-3"})]}),a.jsx("div",{className:"separator !bg-[var(--bottomsheet-separator)]"})]},`chain_${l}`))}):a.jsx(un,{id:c,open:e,anchor:n,className:"z-[20] bg-[#2f2f31] hover:bg-[var(--box-bg)] rounded-lg mt-1",style:{width:n==null?void 0:n.clientWidth},children:a.jsx(yt,{onClickAway:t,children:a.jsx("div",{children:o.map((r,l)=>a.jsxs("div",{onClick:()=>i(r),children:[a.jsxs("div",{className:"rounded p-4 flex gap-3 items-center",children:[a.jsx(Z,{src:P.getChainIcon(r.bcToken.chainId),alt:"",className:"h-10"}),a.jsx("span",{className:"text-lg",children:r.bcToken.network}),a.jsx("span",{className:"grow"}),a.jsx(G,{name:"ic_chevon_right",color:"var(--text-content-color)",className:"w-3 h-3"})]}),l<o.length-1&&a.jsx("div",{className:"separator !bg-[var(--bottomsheet-separator)]"})]},`lang_${l}`))})})})}function mn({isOpen:e,onClose:t,tokens:n,onSelected:o}){return a.jsx(Me,{open:e,onClose:t,title:E.currency_selection(),className:"!bg-[#2b2b31] !p-0 !rounded-t-xl",children:a.jsx("ul",{children:n.map((s,c)=>a.jsxs("li",{onClick:()=>{o(s),t&&t()},className:"flex items-center my-7 px-4",children:[a.jsx(Z,{src:P.getChainIcon(s.chainId),alt:"",className:"w-9 aspect-square"}),a.jsx("div",{className:"mx-3 w-full",children:a.jsxs("div",{className:"text-sm",children:[s.tokenSymbol," (",s.network,")"]})}),a.jsx(G,{name:"ic_chevon_right",color:"var(--text-content-color)",className:"w-4 aspect-square"})]},c))})})}function pn({symbol:e}){return a.jsxs("div",{className:"flex items-center gap-2.5",children:[e?a.jsx(Z,{src:P.getCurrencyIcon(e),alt:"",className:"w-8 h-8 circle"}):a.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-[var(--menu-bg)] rounded-full",children:a.jsx("div",{className:"loader-dot"})}),a.jsxs("span",{children:[e," ",E.deposit()]}),a.jsx(G,{color:"var(--arrow-color)",name:"ic_arrow_down",className:"w-2.5 h-2.5"})]})}function En({showModal:e=!1}){const t=Ae(),{appSetting:n,updateSetting:o}=Je(),s=new Oe(t.search),c=_e(Pe),[i,r]=y.useState(),[l,f]=y.useState(!1),u=Le();if(y.useEffect(()=>{if(u.length==0)return;const h=s.findNumber("configId",-1),m=u.find(g=>g.bcToken.id==h);if(!m){P.navigate(De.home);return}const b=c.find(g=>g.chainId==m.bcToken.chainId&&g.tokenSymbol==m.bcToken.tokenSymbol);r(b)},[c,u]),e)return a.jsx(et,{container:()=>document.body,children:a.jsx(ft,{open:n.showCryptoDepositModal,onClose:()=>o("showCryptoDepositModal",!1),title:(i==null?void 0:i.tokenSymbol)+E.deposit(),className:"!bg-[var(--page-mob-bg)] !p-0 rounded-lg !w-[800px]",children:a.jsx(Ee,{wallet:i})})});const d=()=>{f(!0)};return a.jsx(at,{title:E.deposit(),className:"bg-[var(--page-mob-bg)]",titleEl:a.jsx("div",{onClick:d,children:a.jsx(pn,{symbol:(i==null?void 0:i.tokenSymbol)??"",onChange:()=>{}})}),children:a.jsxs("div",{className:"overflow-hidden overflow-y-auto hide-scrollbar h-full pb-3 grow flex flex-col",children:[a.jsx(Ee,{wallet:i}),a.jsx(mn,{isOpen:l,onSelected:h=>r(h),onClose:()=>f(!1),tokens:c})]})})}function Ee({wallet:e}){var C;const t=Ae(),n=new Oe(t.search),o=_e(Pe),s=Le(),c=tt(),i=nt(ot),[r,l]=y.useState(e),[f,u]=y.useState(!1),[d,h]=y.useState(null),[m,b]=y.useState(""),g=y.useRef(!1);y.useEffect(()=>{if(l(e),e!=null){const p=s.find(w=>w.bcToken.chainId==e.chainId&&w.bcToken.tokenSymbol==e.tokenSymbol);p&&v(p)}},[e]),y.useEffect(()=>{if(s.length>1&&!g.current&&e){const p=s.filter(w=>w.bcToken.tokenSymbol==(e==null?void 0:e.tokenSymbol));(p==null?void 0:p.length)>1&&(g.current=!0,u(!0))}},[s,e]);const k=p=>{s.length<2||(h(d?null:p.currentTarget),u(!0))},x=()=>{h(null),u(!1)},v=async p=>{n.setVal("configId",p.bcToken.id),P.navigate(`${De.web3Deposit}${n.toSearchQuery()}`,{replace:!0});const w=o.find(S=>S.tokenSymbol==p.bcToken.tokenSymbol&&S.chainId==p.bcToken.chainId);if(!w){if(!(await st({chainId:p.bcToken.chainId,chainName:p.bcToken.chainName,network:p.bcToken.network,tokenName:p.bcToken.tokenName,tokenSymbol:p.bcToken.tokenSymbol})).success){P.showError(E.crypto_not_available());return}const T=await rt();T!=null&&i(T)}if(w){l(w),ut.toDataURL(w.address,{errorCorrectionLevel:"Q"},(S,T)=>{b(T)});for(const S of o)S.tokenSymbol==w.tokenSymbol}};return e?a.jsxs("div",{className:"p-3 bg-[var(--page-mob-bg)]",children:[a.jsx(dn,{open:f,onClose:x,anchor:d,chains:s.filter(p=>p.bcToken.tokenSymbol==e.tokenSymbol),onChange:v}),a.jsxs("div",{className:"flex items-center gap-3 py-2.5 px-3 bg-[var(--box-bg)] rounded-lg cursor-pointer",onClick:k,children:[a.jsx("span",{className:"text-[var(--text-label)] grow",children:E.network()}),a.jsx(Z,{src:P.getChainIcon(r==null?void 0:r.chainId),alt:"",className:"w-8 h-8"}),a.jsx("span",{className:" ",children:r==null?void 0:r.network}),a.jsx(G,{color:"var(--text-content-color)",name:"ic_chevon_right",className:"w-3.5 h-3.5 pc:rotate-90"})]}),a.jsxs("div",{className:"py-2.5 px-3 bg-[var(--box-bg)] rounded-lg mt-3 pb-5",children:[a.jsx("div",{className:"text-[var(--text-label)]",children:E.receiving_cryptocurrency_address()}),a.jsxs("div",{className:"rounded-md p-2 text-md flex items-center justify-end bg-[var(--deposit-wallet-address-bg)] border border-[var(--deposit-wallet-address-border)] mt-1",children:[a.jsx("span",{className:"grow text-clip overflow-hidden text-lg text-nowrap whitespace-nowrap",children:ct((r==null?void 0:r.address)??"")}),a.jsx("span",{className:"rounded-md bg-[var(--deposit-address-copy-bg)] text-[10px] py-1 px-2 uppercase text-nowrap whitespace-nowrap cursor-pointer",onClick:()=>P.copy((r==null?void 0:r.address)??""),children:E.copy_address()})]}),m&&a.jsxs("div",{className:"flex flex-col items-center gap-3 p-3 py-5",children:[a.jsx(Z,{src:m,alt:"",className:"w-[200px] rounded-lg"}),a.jsx("button",{onClick:()=>lt(m,`xgame_${r==null?void 0:r.tokenSymbol}_${r==null?void 0:r.chainName}.png`),className:"bg-[var(--active)] rounded-full py-1.5 w-[220px] text-black",children:E.save_payment_QR_code()})]}),a.jsxs("div",{className:"bg-[var(--deposit-alert-bg)] px-3 py-2 rounded-lg flex items-center gap-2 text-[var(--deposit-alert-text)] text-xs",children:[a.jsx(G,{color:"#ffdd00",name:"ic_warn",className:"w-7 h-7"}),a.jsx("p",{children:E.crypto_deposit_warning({_cur:r==null?void 0:r.tokenSymbol,_net:r==null?void 0:r.network})})]}),a.jsxs("div",{className:"flex items-end justify-between mt-3 py-3 border-b border-b-[var(--deposit-separator)]",children:[a.jsx("span",{className:"text-[var(--text-label)] text-sm",children:E.exchange_rate()}),a.jsxs("span",{className:"font-semibold text-sm",children:["1 ",e.tokenSymbol," ≈ ",Math.round(e.exchangeRate*(1-e.exchangeInFluctuation)*1e4)/1e4," ",e.exchangeCurrency]})]}),a.jsxs("div",{className:"flex items-end justify-between mt-3 py-3 border-b border-b-[var(--deposit-separator)]",children:[a.jsx("span",{className:"text-[var(--text-label)] text-sm",children:E.estimated_arrival_time()}),a.jsxs("span",{className:"font-semibold text-sm",children:["3 ",E.minutes()]})]}),a.jsxs("div",{className:"flex items-end justify-between mt-3 py-3 border-b border-b-[var(--deposit-separator)]",children:[a.jsx("span",{className:"text-[var(--text-label)] text-sm",children:E.min_deposit_amount()}),a.jsxs("span",{className:"font-semibold text-sm",children:[((C=c.find(p=>p.tokenSymbol==e.tokenSymbol))==null?void 0:C.minDeposit)??""," ",e.tokenSymbol]})]})]})]}):a.jsx(it,{className:"grow h-full"})}export{En as Web3DepositView};
