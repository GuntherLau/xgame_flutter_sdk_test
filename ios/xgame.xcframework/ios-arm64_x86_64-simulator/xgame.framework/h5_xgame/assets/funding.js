import{a as N,S as y,r as o,H as S,R as D,j as e,M as i,T as b,ai as g}from"./index.sdk-0.0.1.js";import{N as O}from"./normal-layout.js";import{C as V}from"./currency-selector.js";import{S as W}from"./tabs.js";import{C as v}from"./popover.js";import{T as C,g as q,F as H,d as Q,f as E}from"./common2.js";import{g as _}from"./common.js";import{N as I}from"./no-record.js";import{B as L,D as $,W as F,C as R,g as k}from"./funding-item.js";import"./main-layout.js";import"./lazy-load-component.js";import"./SwipeableDrawer.js";import"./Drawer.js";import"./Modal.js";import"./index7.js";import"./home-layout.js";import"./mqtt-controller.js";import"./browser.js";import"./game.dto.js";function B(){var d,u;const p=N(),n=new y(p.search),[s,h]=o.useState(n.findNumber("time",1)),[r,f]=o.useState(n.findNumber("filter",C.ALL)),[c,x]=o.useState([]),l=_(),a=q(),m=async()=>{try{const t=new Date;t.setHours(23,59,59,999);const w=new Date(t);w.setDate(t.getDate()-s+1),w.setHours(0,0,0,0);const j={page:1,rows:30,dateFromIso:g(w),dateToIso:g(t),transferType:r},T=await k(j);x(T.data)}catch(t){console.log(t)}};return o.useEffect(()=>{n.setVal("time",s),n.setVal("filter",r),S.navigate(`${D.fundingHistory}${n.toSearchQuery()}`,{replace:!0}),m()},[s,r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-3 flex gap-3",children:[e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(d=l.find(t=>t.value==s))==null?void 0:d.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:l.map(t=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(t.value),children:[e.jsx("span",{className:`${t.value==s?"text-[var(--active)] font-semibold":""}`,children:t.name}),t.value==s&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},t.name))}),e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52] text-nowrap whitespace-nowrap overflow-hidden text-ellipsis ",children:(u=a.find(t=>t.value==r))==null?void 0:u.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3 shrink-0"})]}),children:a.map(t=>e.jsxs("div",{onClick:()=>f(t.value),className:"flex items-center justify-between px-4 py-2",children:[e.jsx("span",{className:`${t.value==r?"text-[var(--active)] font-semibold":""}`,children:t.name}),t.value==r&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},t.name))})]}),e.jsxs("div",{className:"py-3 flex grow flex-col gap-2",children:[c.length==0?e.jsx(I,{className:"grow"}):c.map(t=>t.bonusClassify==3||t.bonusClassify==4?e.jsx(L,{item:t},t.id):t.type==H.DEPOSIT?e.jsx($,{item:t},t.id):t.type==H.WITHDRAW?e.jsx(F,{item:t},t.id):e.jsx(R,{item:t},t.id)),c.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function A(){var d,u;const p=N(),n=new y(p.search),[s,h]=o.useState(n.findNumber("time",1)),[r,f]=o.useState(n.findNumber("filter",-1)),[c,x]=o.useState([]),l=_(),a=Q(),m=async()=>{try{const t=new Date;t.setHours(23,59,59,999);const w=new Date(t);w.setDate(t.getDate()-s+1),w.setHours(0,0,0,0);const j={page:1,rows:30,dateFromIso:g(w),dateToIso:g(t),transferType:C.DEPOSIT};r!=-1&&(j.status=r);const T=await k(j);x(T.data)}catch(t){console.log(t)}};return o.useEffect(()=>{n.setVal("time",s),n.setVal("filter",r),S.navigate(`${D.fundingHistory}${n.toSearchQuery()}`,{replace:!0}),m()},[s,r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-3 flex gap-3",children:[e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(d=l.find(t=>t.value==s))==null?void 0:d.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:l.map(t=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(t.value),children:[e.jsx("span",{className:`${t.value==s?"text-[var(--active)] font-semibold":""}`,children:t.name}),t.value==s&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},t.name))}),e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52] text-nowrap whitespace-nowrap overflow-hidden text-ellipsis ",children:(u=a.find(t=>t.value==r))==null?void 0:u.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3 shrink-0"})]}),children:a.map(t=>e.jsxs("div",{onClick:()=>f(t.value),className:"flex items-center justify-between px-4 py-2",children:[e.jsx("span",{className:`${t.value==r?"text-[var(--active)] font-semibold":""}`,children:t.name}),t.value==r&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},t.name))})]}),e.jsxs("div",{className:"py-3 flex flex-col grow gap-2",children:[c.length==0?e.jsx(I,{className:"grow"}):c.map(t=>e.jsx($,{item:t},t.id)),c.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function M(){var d,u;const p=N(),n=new y(p.search),[s,h]=o.useState(n.findNumber("time",1)),[r,f]=o.useState(n.findNumber("filter",-1)),[c,x]=o.useState([]),l=_(),a=E(),m=async()=>{try{const t=new Date;t.setHours(23,59,59,59);const w=new Date(t);w.setDate(t.getDate()-s+1),w.setHours(0,0,0,0);const j={page:1,rows:30,dateFromIso:g(w),dateToIso:g(t),transferType:C.WITHDRAW};r!=-1&&(j.status=r);const T=await k(j);x(T.data)}catch(t){console.log(t)}};return o.useEffect(()=>{n.setVal("time",s),n.setVal("filter",r),S.navigate(`${D.fundingHistory}${n.toSearchQuery()}`,{replace:!0}),m()},[s,r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-3 flex gap-3",children:[e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(d=l.find(t=>t.value==s))==null?void 0:d.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:l.map(t=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(t.value),children:[e.jsx("span",{className:`${t.value==s?"text-[var(--active)] font-semibold":""}`,children:t.name}),t.value==s&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},t.name))}),e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52] text-nowrap whitespace-nowrap overflow-hidden text-ellipsis ",children:(u=a.find(t=>t.value==r))==null?void 0:u.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3 shrink-0"})]}),children:a.map(t=>e.jsxs("div",{onClick:()=>f(t.value),className:"flex items-center justify-between px-4 py-2",children:[e.jsx("span",{className:`${t.value==r?"text-[var(--active)] font-semibold":""}`,children:t.name}),t.value==r&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},t.name))})]}),e.jsxs("div",{className:"py-3 flex flex-col gap-2 grow",children:[c.length==0?e.jsx(I,{className:"grow"}):c.map(t=>e.jsx(F,{item:t},t.id)),c.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function P(){var l;const p=N(),n=new y(p.search),[s,h]=o.useState(n.findNumber("time",1)),[r,f]=o.useState([]),c=_();E();const x=async()=>{try{const a=new Date;a.setHours(23,59,59,59);const m=new Date(a);m.setDate(a.getDate()-s+1),m.setHours(0,0,0,0);const d={page:1,rows:30,dateFromIso:g(m),dateToIso:g(a),transferType:C.COMMISSION},u=await k(d);f(u.data)}catch(a){console.log(a)}};return o.useEffect(()=>{n.setVal("time",s),S.navigate(`${D.fundingHistory}${n.toSearchQuery()}`,{replace:!0}),x()},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"py-3 flex gap-3",children:e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(l=c.find(a=>a.value==s))==null?void 0:l.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:c.map(a=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(a.value),children:[e.jsx("span",{className:`${a.value==s?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==s&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))})}),e.jsxs("div",{className:"py-3 flex flex-col gap-2 grow",children:[r.length==0?e.jsx(I,{className:"grow"}):r.map(a=>e.jsx(R,{item:a},a.id)),r.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function U(){var l;const p=N(),n=new y(p.search),[s,h]=o.useState(n.findNumber("time",1)),[r,f]=o.useState([]),c=_();E();const x=async()=>{try{const a=new Date;a.setHours(23,59,59,59);const m=new Date(a);m.setDate(a.getDate()-s+1),m.setHours(0,0,0,0);const d={page:1,rows:30,dateFromIso:g(m),dateToIso:g(a),transferType:C.BONUS},u=await k(d);f(u.data)}catch(a){console.log(a)}};return o.useEffect(()=>{n.setVal("time",s),S.navigate(`${D.fundingHistory}${n.toSearchQuery()}`,{replace:!0}),x()},[s]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"py-3 flex gap-3",children:e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(l=c.find(a=>a.value==s))==null?void 0:l.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:c.map(a=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(a.value),children:[e.jsx("span",{className:`${a.value==s?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==s&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))})}),e.jsxs("div",{className:"py-3 flex flex-col gap-2 grow",children:[r.length==0?e.jsx(I,{className:"grow"}):r.map(a=>e.jsx(L,{item:a},a.id)),r.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function ue(){const p=N(),n=new y(p.search),[s,h]=o.useState(n.findNumber("tab",0)),[r,f]=o.useState(!1),c=l=>{n.setVal("tab",l),n.del("filter"),S.navigate(`${D.fundingHistory}${n.toSearchQuery()}`,{replace:!0}),h(l)},x=[b.all(),b.deposit(),b.withdrawal(),b.event_bonus(),b.agent_bonus()];return e.jsx(O,{title:b.fundings(),className:"max-w-[800px] mx-auto ",hideRightEl:!0,tabEl:e.jsx(W,{onChange:c,selected:s,tabs:x,className:"px-2 sticky top-0"}),children:e.jsxs("div",{className:"flex flex-col p-3 overflow-hidden overflow-y-auto hide-scrollbar h-full grow",children:[s==0&&e.jsx(B,{}),s==1&&e.jsx(A,{}),s==2&&e.jsx(M,{}),s==3&&e.jsx(U,{}),s==4&&e.jsx(P,{}),e.jsx(V,{onChange:()=>{},onClose:()=>f(!1),open:r})]})})}export{ue as FundingHistory};
