import{c as q,d as K,u as Z,i as G,r as J,b as w,h as T,z as Q,a7 as W,ab as X,e as Y,j as e,H as p,R as o,l as j,M as n,T as t,aj as y,a8 as I,L as O,ak as ee,p as se}from"./index.sdk-0.0.1.js";import{L as ne}from"./language-selector.js";import{u as te,C as ae}from"./main-layout.js";import{u as ce,W as re}from"./chains.js";import{a as oe}from"./avatar-selector.js";import{u as F}from"./useConnections.js";import{S as le}from"./SwipeableDrawer.js";import"./Modal.js";import"./popover.js";import"./lazy-load-component.js";import"./Drawer.js";import"./index7.js";async function ie(a,x={}){var v,h;let l;if(x.connector)l=x.connector;else{const{connections:c,current:d}=a.state,i=c.get(d);l=i==null?void 0:i.connector}const u=a.state.connections;l&&(await l.disconnect(),l.emitter.off("change",a._internal.events.change),l.emitter.off("disconnect",a._internal.events.disconnect),l.emitter.on("connect",a._internal.events.connect),u.delete(l.uid)),a.setState(c=>{if(u.size===0)return{...c,connections:new Map,current:null,status:"disconnected"};const d=u.values().next().value;return{...c,connections:new Map(u),current:d.connector.uid}});{const c=a.state.current;if(!c)return;const d=(v=a.state.connections.get(c))==null?void 0:v.connector;if(!d)return;await((h=a.storage)==null?void 0:h.setItem("recentConnectorId",d.id))}}function de(a){return{mutationFn(x){return ie(a,x)},mutationKey:["disconnect"]}}function me(a={}){const{mutation:x}=a,l=q(a),u=de(l),{mutate:v,mutateAsync:h,...c}=K({...x,...u});return{...c,connectors:F({config:l}).map(d=>d.connector),disconnect:v,disconnectAsync:h}}function _e(){var k,S,L,M,z;const{i18n:{language:a}}=Z(),{appSetting:x,updateSetting:l}=G(),[u,v]=J.useState(!1),{extInfo:h,userInfo:c}=w(T),d=Q(T),{isLogin:i}=w(W),H=w(X),R=s=>s.stopPropagation(),$=ce(),_=F(),N=me(),C=(k=re)==null?void 0:k.getInstance().wallets,{defaultWallet:b,allWalletsHasMoney:D,balanceAllWallet:P}=te(),{signout:U}=Y(),g=()=>{p.isMobile()&&l("showSideMenu",!1)},B=()=>{g(),v(!0)},r=(s,m,f)=>{if(f&&!i){p.navigate(o.login);return}g(),setTimeout(()=>{p.navigate(s,m)},0)},E=async()=>{_&&_.map(s=>{var m;s&&((m=s==null?void 0:s.connector)==null||m.disconnect()),N.disconnectAsync({connector:s==null?void 0:s.connector})}),C&&C.map(s=>{var m;s&&((m=s==null?void 0:s.connector)==null||m.disconnect()),N.disconnectAsync({connector:s==null?void 0:s.connector})}),await $.map(async s=>{try{await(s==null?void 0:s.disconnect()),N.disconnectAsync({connector:s})}catch{}}),N.disconnect(),await U(),g()},V=async(s,m)=>{if(s.checked){p.showInfoToast(t.off_main_wallet_hint());return}const f={currency:s.tokenSymbol||s.currency};await ee(f);const A=await se();A!=null&&d(A)};return e.jsx(le,{variant:p.isMobile()?"temporary":"permanent",anchor:"left",open:x.showSideMenu,onClose:g,onOpen:()=>{},classes:{paper:"!border-r-[var(--separator)]"},children:e.jsxs("div",{style:{height:"var(--client-height)"},className:"text-[--menu-text] overflow-y-auto w-[var(--side-menu-width)] min-w-[var(--side-menu-width)] p-3 bg-[var(--menu-bg)] hide-scrollbar",onClick:R,children:[e.jsxs("div",{className:"flex items-start justify-between pt-[50px]",children:[i?e.jsxs("div",{className:"flex gap-2 items-center",onClick:()=>r(o.personalInfo),children:[e.jsx("div",{className:"rounded-full overflow-hidden bg-[#c8ff00] w-10 h-10 flex items-center justify-center",children:e.jsx(j,{src:((S=oe.find(s=>s.id==(c==null?void 0:c.avatarId)))==null?void 0:S.value)??"/assets/icon/ic_x.png",alt:"",className:"max-h-10 max-w-10"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg text-[var(--menu-account-text)] font-semibold flex items-center gap-2",children:[h==null?void 0:h.account,e.jsx("span",{className:"w-3 h-3 bg-[var(--menu-chevon-color)] rounded-[50%] flex items-center justify-center",children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_chevon_right",className:"h-2 w-2"})})]}),e.jsxs("div",{className:"text-sm text-[var(--menu-text)]",children:["VIP",(c==null?void 0:c.vipLevel)??1]})]}),e.jsx("div",{className:"grow"})]}):e.jsx("div",{className:"grow"}),i&&e.jsx(n,{onClick:g,color:"var(--menu-chevon-color)",name:"ic_close",className:"w-4 h-4 pc:hidden"})]}),e.jsxs("div",{className:`rounded-lg bg-[var(--menu-wallet-bg)] text-[var(--menu-wallet-text)] p-3 flex flex-col gap-2 text-sm ${i?"mt-3":"mt-0"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:i?"":"invisible",children:[t.total_assets(),":"]}),!i&&e.jsx(n,{onClick:g,color:"var(--menu-chevon-color)",name:"ic_close",className:"w-4 h-4 pc:hidden"})]}),i&&e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"text-white text-2xl font-semibold pt-1 leading-none",children:["~ ",y((P||0).toFixed(2))," ",e.jsx("span",{className:"text-sm font-light",children:(L=I.defaultCurrency)==null?void 0:L.currency})]})}),e.jsxs("div",{className:"flex gap-2 py-2",children:[e.jsx("button",{onClick:()=>r("/wallet?type=withdraw&method=crypto",void 0,!0),className:"w-1/2 rounded-lg bg-[var(--menu-withdraw-btn-bg)] text-white p-1.5 text-lg",children:t.withdrawal()}),e.jsx("button",{onClick:()=>r(o.wallet+"?type=deposit&method=crypto",void 0,!1),className:"w-1/2 rounded-lg bg-[var(--menu-deposit-btn-bg)] text-black p-1.5 text-lg",children:t.deposit()})]}),!!b&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"capitalize",children:t.current_wallet().toLocaleLowerCase()}),e.jsxs("div",{className:"flex items-center justify-between text-sm py-1 font-light",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{src:p.getCurrencyIcon(b.currency),alt:"",className:"h-6 rounded-[100%]"}),e.jsxs("div",{className:"ml-3",children:[b.currency," ",b.currencyName?`(${b.currencyName})`:null]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"text-base leading-none pt-1 mr-3",children:y((H||0).toFixed(6))})})]})]}),e.jsx("div",{className:"capitalize",children:t.other_wallets().toLocaleLowerCase()}),D.map(s=>e.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm py-1 font-light",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{src:p.getCurrencyIcon(s.currency),alt:"",className:"h-6 rounded-[100%]"}),e.jsxs("div",{className:"ml-3 uppercase",children:[s.currency," ",s.currencyName?`(${s.currencyName})`:null]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-base leading-none pt-1 mr-3",children:y(((s==null?void 0:s.money)||0).toFixed(6))}),e.jsx(ae,{checked:s==null?void 0:s.checked,onChange:m=>V(s)})]})]},s.currency)),e.jsxs("div",{onClick:()=>r(o.walletToken,void 0,!0),className:"border-t border-t-[#2d2d30] flex items-center gap-3 pt-3 pb-1",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_wallet",className:"w-6 h-6"}),e.jsx("div",{className:"grow text-base leading-none font-light pt-1",children:t.wallet_management()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3",style:{fontWeight:300},children:[e.jsxs("div",{onClick:()=>r(o.vip,void 0,!1),className:"rounded-xl flex-center flex-col gap-2 w-1/3 bg-[#312b29] py-3",children:[e.jsx(j,{src:"/assets/icon/ic_menu_vip.png",alt:"",className:"h-6"}),e.jsx("span",{className:"leading-none text-[#beaa7f]",children:"VIP"})]}),e.jsxs("div",{onClick:()=>r(o.agent,void 0,!1),className:"rounded-xl flex-center flex-col gap-2 w-1/3 bg-[#252938] py-3",children:[e.jsx(j,{src:"/assets/icon/ic_menu_acting.png",alt:"",className:"h-6"}),e.jsx("span",{className:"leading-none text-[#8f9ed1]",children:t.menu_agent()})]}),e.jsxs("div",{onClick:()=>r(o.eventBonus,void 0,!0),className:"rounded-xl flex-center flex-col gap-2 w-1/3 bg-[#223528] py-3",children:[e.jsx(j,{src:"/assets/icon/bonus-green-icon.png",alt:"",className:"h-6"}),e.jsx("span",{className:"leading-none text-[#81c292]",children:t.your_bonus()})]})]}),e.jsxs("div",{onClick:()=>r(o.betHistory),className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)] mt-2",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_menu_bet",className:"w-5 h-5"}),e.jsx("span",{className:"grow pt-1 capitalize",children:t.bet_records()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsxs("div",{onClick:()=>r(o.fundingHistory),className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_menu_detail",className:"w-5 h-5"}),e.jsx("span",{className:"grow",children:t.fundings()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsxs("div",{onClick:()=>r(o.news),className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_menu_noti",className:"w-5 h-5"}),e.jsx("span",{className:"grow",children:t.notification()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsx("div",{className:"text-base font-semibold mt-5 uppercase",children:t.dividend()}),e.jsxs("div",{onClick:()=>r(o.cashBack),className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_menu_cashback",className:"w-5 h-5"}),e.jsx("span",{className:"grow",children:t.cash_back()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsx("div",{className:"text-base font-semibold mt-5 uppercase",children:t.other()}),e.jsxs("div",{className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",onClick:()=>r(o.security),children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_menu_security",className:"w-5 h-5"}),e.jsx("span",{className:"grow",children:t.security()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsxs("div",{onClick:()=>r(o.help),className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_menu_help",className:"w-5 h-5"}),e.jsx("span",{className:"grow",children:t.help()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsxs("div",{onClick:B,className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_language",className:"w-5 h-5"}),e.jsx("span",{children:t.language()}),e.jsx("span",{className:"grow"}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[var(--menu-chevon-color)]",children:a=="zh"?(M=O.getInstance().getLang(a))==null?void 0:M.chineseName:(z=O.getInstance().getLang(a))==null?void 0:z.name}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"w-3 h-3"})]})]}),e.jsxs("div",{className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",onClick:()=>r(o.setting),children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_setting",className:"w-5 h-5"}),e.jsx("span",{className:"grow",children:t.setting()}),e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"h-3 w-2.5"})]}),e.jsxs("div",{onClick:()=>r(o.home),className:"hover:cursor-pointer  flex gap-3 items-center py-3.5 text-sm text-[var(--menu-text)] border-solid border-b border-b-[var(--menu-divider)]",children:[e.jsx(n,{color:"var(--menu-text)",name:"ic_home",className:"w-5 h-5"}),e.jsx("span",{children:t.home_page()}),e.jsx("span",{className:"grow"}),e.jsx("span",{className:"flex items-center gap-2",children:e.jsx(n,{color:"var(--menu-chevon-color)",name:"ic_chevon_right",className:"w-3 h-3"})})]}),i&&e.jsx("button",{onClick:E,className:`p-2 w-full bg-[var(--menu-box-bg)] rounded-md mt-6 uppercase ${i?"text-white":"text-[var(--menu-chevon-color)]"}`,children:t.quit()}),e.jsx(ne,{open:u,onClose:()=>v(!1)})]})})}export{_e as SideMenu};
