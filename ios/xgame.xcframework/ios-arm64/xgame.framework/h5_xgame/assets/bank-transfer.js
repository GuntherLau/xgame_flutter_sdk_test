import{a as O,i as z,r,a2 as F,j as e,T as a,H as c,M as n,l as J,Y}from"./index.sdk-0.0.1.js";import{N as $}from"./normal-layout.js";import{A as q}from"./button.js";import{C as G}from"./modals.js";import{a as K,g as Q,d as W}from"./deposit.js";import"./main-layout.js";import"./popover.js";import"./Modal.js";import"./lazy-load-component.js";function re(){var h,N,v,y,w,_,k,A,g,C,P,S,T,E;const L=O(),{companyConf:u}=z(),[s,p]=r.useState(null),d=new URLSearchParams(L.search).get("info"),[U,f]=r.useState(!1),[x,j]=r.useState(!1),[i,b]=r.useState();r.useEffect(()=>{if(d)try{const t=JSON.parse(F(d));p(t),D(t==null?void 0:t.payType,t==null?void 0:t.payAccountId,t==null?void 0:t.tpPayChannelId)}catch(t){console.error(t)}},[d]),r.useEffect(()=>{i&&p(t=>({...t,payAccount:i,payType:i.payTypeEntity}))},[i]);const D=async(t,o,l)=>{try{if(l){const M=await K({payType:t,tpPayChannelId:l});M.length&&b(M[0]);return}const m=await Q({payType:t,payAccountId:o});m.length&&b(m[0])}catch(m){console.log(m)}},V=()=>{var t;u.olUrl&&((t=window.open(u.olUrl,"_blank"))==null||t.focus())},B=()=>{f(!0)},H=async()=>{var t;if(!x)try{const o={payAccountId:(t=s==null?void 0:s.payAccount)==null?void 0:t.id,rechargePerson:s==null?void 0:s.rechargePerson,amount:s==null?void 0:s.amount,remark:s==null?void 0:s.remark,validateCaptcha:s==null?void 0:s.captchaValidate};j(!0);const l=await W(o);l!=null&&l.orderNo&&c.navigate(`/recharge-detail/${l.orderNo}`,{replace:!0})}catch(o){const{response:{data:{message:l}}}=o;c.showInfoToast(l)}finally{j(!1)}};return e.jsx($,{title:a.deposit_info(),className:"max-w-[800px] mx-auto ",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full pt-7 pb-6 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"w-full text-center text-[var(--active)] text-2xl flex font-medium items-baseline justify-center",children:[e.jsxs("span",{className:"font-medium text-5xl",children:[" ",s.amount," "]}),e.jsx("span",{className:"ml-1",children:(N=(h=s==null?void 0:s.payAccount)==null?void 0:h.payTypeEntity)==null?void 0:N.currency}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>c.copy(s.amount),children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("p",{className:"text-base mt-2 px-3",children:[a.complete_payment(),"“",e.jsxs("span",{className:"text-[var(--active)]",children:[" ",a.submit_request()," "]}),"”"]})]}),e.jsx("div",{className:"w-full mt-3 border-b border-[var(--separator2)]",children:e.jsxs("div",{className:"w-full p-3 flex items-center justify-between",children:[e.jsx("div",{className:"text-base font-medium",children:a.official_account()}),e.jsxs("div",{className:"text-xs text-[var(--active)]",children:[" ",a.please_deposit_official_account()," "]})]})}),e.jsxs("div",{className:"w-full p-3  border-b border-[var(--separator2)]",children:[e.jsx("div",{className:"w-full flex items-center ",children:e.jsxs("div",{className:"flex items-center py-3",children:[e.jsx(J,{src:"/assets/img/img_bank_card.png",alt:"icon",className:"h-[24px]",loading:"lazy"}),e.jsx("h3",{className:"mb-0 text-lg ml-3",children:(v=s.payAccount)==null?void 0:v.bankName})]})}),e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center font-medium",children:[e.jsxs("div",{className:"text-base ",children:[a.name(),": "]}),e.jsx("span",{className:"ml-3",children:(y=s.payAccount)==null?void 0:y.owner})]}),((w=s.payAccount)==null?void 0:w.owner)&&e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})]}),e.jsx("div",{className:"w-full p-3  border-b border-[var(--separator2)]",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center font-medium",children:[e.jsxs("div",{className:"text-base",children:[a.player_name(),": "]}),e.jsx("span",{className:"ml-3",children:(_=s.payAccount)==null?void 0:_.account})]}),((k=s.payAccount)==null?void 0:k.account)&&e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.account)},children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})}),e.jsx("div",{className:"w-full p-3  border-b border-[var(--separator2)]",children:e.jsxs("div",{className:"w-full flex align-baseline justify-between",children:[e.jsxs("div",{className:"flex align-baseline",children:[e.jsxs("div",{className:"text-base font-medium",children:[a.amount_deposit(),": "]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium ml-3 text-xl text-[var(--active)]",children:[" ",s.amount]}),e.jsx("span",{className:"ml-1",children:(g=(A=s==null?void 0:s.payAccount)==null?void 0:A.payTypeEntity)==null?void 0:g.currency}),e.jsxs("p",{className:"text-sm text-[var(--active)] mt-1 ml-3",children:[" ",a.the_correct_amount()]})]})]}),s.amount&&e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>c.copy(s.amount),children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})}),e.jsx("div",{className:"w-full p-3  border-b border-[var(--separator2)]",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center font-medium",children:[e.jsxs("div",{className:"text-base",children:[a.address_deposit(),": "]}),e.jsx("span",{className:"ml-3",children:(C=s==null?void 0:s.payAccount)==null?void 0:C.bankAddress})]}),((P=s==null?void 0:s.payAccount)==null?void 0:P.bankAddress)&&e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.bankAddress)},children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})}),((S=s==null?void 0:s.payAccount)==null?void 0:S.orderRemarkStatus)==0&&e.jsx("div",{className:"w-full p-3  border-b border-[var(--separator2)]",children:e.jsxs("div",{className:"w-full flex align-baseline justify-between",children:[e.jsxs("div",{className:"flex align-baseline",children:[e.jsxs("div",{className:"text-base font-medium",children:[a.remark(),": "]}),e.jsxs("span",{className:"font-medium ml-3",children:[" ",s.remark]})]}),s.remark&&e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>c.copy(s.remark),children:e.jsx(n,{color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})}),e.jsx("div",{className:"mt-3 p-3",children:e.jsx(q,{title:a.submit_request(),onClick:B,className:"uppercase"})}),e.jsxs("div",{className:"p-3",children:[e.jsxs("p",{className:"text-xs font-medium text-[#c50000]",children:["* ",a.important_notice()]}),e.jsxs("ol",{className:"list-decimal text-xs ml-2 mt-2 text-[#bbbbbc]",children:[e.jsx("li",{children:a.important_deposit_notice_1()}),e.jsx("li",{className:"mt-0.5",children:a.important_deposit_notice_2()}),e.jsx("li",{className:"mt-0.5",children:a.important_deposit_notice_3()}),e.jsx("li",{className:"mt-0.5",children:a.important_deposit_notice_4()}),e.jsxs("li",{className:"mt-0.5",children:[a.important_deposit_notice_5(),e.jsx("a",{href:"",className:"text-[var(--active)] border-b border-solid border-[var(--active)]",onClick:()=>{V()},children:a.online_service()})]})]})]}),e.jsx(G,{open:U,onClose:()=>{f(!1)},showTitle:!1,title:"no",className:"!m-w-[200px] !w-[80%] bg-white text-black !top-[30%] !translate-y-0 !translate-x-[-50%] flex justify-center",children:e.jsxs("div",{className:"relative w-full flex flex-col px-4 py-2",children:[e.jsx("span",{className:"text-center w-full text-lg mb-6 font-bold",children:a.please_check_info_transfer()}),e.jsxs("div",{className:"flex mb-5 align-baseline flex-wrap justify-start",children:[e.jsxs("div",{className:"text-base",children:[a.depositor_name(),"："]}),e.jsx("div",{className:"text-[var(--active)] text-base",children:s.rechargePerson})]}),e.jsxs("div",{className:"flex mb-5 align-baseline whitespace-nowrap flex-wrap justify-start",children:[e.jsxs("div",{className:"text-base",children:[a.deposit_amount(),"："]}),e.jsxs("div",{className:"text-[var(--active)] text-base",children:[e.jsx("span",{className:"text-xl mx-1",children:s.amount}),((T=s==null?void 0:s.payType)==null?void 0:T.currency)&&e.jsx("span",{children:(E=s==null?void 0:s.payType)==null?void 0:E.currency})]})]}),e.jsxs("span",{className:"text-xs",children:[a.please_check_before_transfer()," "]}),e.jsx(q,{title:a.confirm(),onClick:H,className:"uppercase mt-8",loading:x,disable:x})]})})]}):e.jsx(Y,{className:"grow"})})}export{re as BankTransferView};
