import{r as m,j as e,b as I,aJ as k,l as N,T as W,H as S,bn as R}from"./index.sdk-0.0.1.js";import{S as H,a as A}from"./swiper-react.js";import{N as C}from"./no-record.js";/* empty css       */import{A as B}from"./autoplay.js";import{M as $}from"./Modal.js";function E({dataBanner:i,onChange:f,selected:o,tabs:w,className:h="",itemClassName:v="",selectedItemClassName:j="",fontSize:s=!0}){const r=m.useRef(null),d=a=>{f(a),l(a)},l=a=>{var u;if(!r.current)return;let n=0;const c=r.current.children[a].clientWidth,x=((u=r.current.parentElement)==null?void 0:u.clientWidth)||0;for(let b=0;b<a;b++)n+=r.current.children[b].clientWidth;r.current.scrollTo({left:n-x/2+c/2,behavior:"smooth"})};return m.useEffect(()=>{l(o)},[o]),e.jsx("div",{ref:r,className:`flex pl-2 items-center ${h} overflow-x-auto hide-scrollbar w-full ads-container`,children:w.map((a,n)=>{var c;return e.jsx("div",{className:"pb-[3px] mr-2",style:{borderBottom:a==o?"2px solid #cfff29":"1px solid transparent"},children:e.jsx("button",{onClick:()=>d(n),style:{height:"100%",padding:"0.5vw 1vw 1vw 1vw",width:"auto",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("span",{style:{lineHeight:"1rem"},className:`text-nowrap font-semibold whitespace-nowrap ${s?"text-xl":""} ${a==o?"text-[#cfff29]":"text-[#6c6c6c]"}`,children:(c=i==null?void 0:i[n])==null?void 0:c.noticeTitle})})},a)})})}function U({dataBanner:i,onChange:f,selected:o,tabs:w,className:h="",itemClassName:v="",selectedItemClassName:j=""}){const s=m.useRef(null),r=l=>{f(l),d(l)},d=l=>{var x;if(!s.current)return;let a=0;const n=s.current.children[l].clientWidth,c=((x=s.current.parentElement)==null?void 0:x.clientWidth)||0;for(let u=0;u<l;u++)a+=s.current.children[u].clientWidth;s.current.scrollTo({left:a-c/2+n/2,behavior:"smooth"})};return m.useEffect(()=>{d(o)},[o]),e.jsx("div",{ref:s,className:`flex pl-2 items-center justify-center ${h} overflow-x-auto hide-scrollbar w-full ads-container`,children:w.map((l,a)=>e.jsx("div",{className:"pb-[3px] mr-[2px]",style:{},children:e.jsx("button",{onClick:()=>r(a),style:{height:"100%",padding:"0.5vw 1vw 0.5vw 0.5vw",width:"auto",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("span",{style:{lineHeight:"1rem"},className:`text-nowrap font-semibold whitespace-nowrap text-xl ${l==o?"text-[#cfff29]":"text-[#6c6c6c]"}`,children:e.jsx("div",{className:`p-[0.18rem] ${l==o?"bg-[#cfff29] px-3 transition-all duration-300":"bg-[#9a9a9a]"} rounded-full`})})})},l))})}function F({onClose:i,open:f}){const h=.8787808011211025,{data:v,isShowNewAdsBlack:j}=I(k),[s,r]=m.useState(0),[d,l]=m.useState(),a=0,n=[...v],c=[];n.map((t,p)=>{c.push(p)});const x=t=>{t!=s&&(r(t),d==null||d.slideToLoop(t))},u=t=>{try{return e.jsx(e.Fragment,{children:t&&e.jsx("div",{dangerouslySetInnerHTML:{__html:R(t).body.innerHTML}})})}catch{return e.jsx(C,{className:"grow mt-10"})}},b=t=>{var p,g,y;if(t!=null&&t.redirectUrl)if((p=t.redirectUrl)!=null&&p.includes("https://xgame.cgcg.cc")){const T=(g=t.redirectUrl)==null?void 0:g.replace("https://xgame.cgcg.cc","");S.navigate(T),i()}else(y=window.open(t.redirectUrl,"_blank"))==null||y.focus()};return e.jsx($,{open:f,onClose:()=>i(),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:"relative",children:n&&n.length&&j?e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 !z-[10] w-[300px] h-[480px] bg-cover bg-center border-none bg-[url('/assets/icon/ads-banner-v2.png')]",style:{border:"none",boxShadow:"none",outline:"none"},children:[e.jsxs("div",{children:[e.jsx(N,{src:"/assets/icon/xgame-white.png",alt:"",className:"object-contain mt-7 ml-5",style:{width:"100px",height:"auto"}}),e.jsx("span",{className:"text-[#f5ffe8] text-xs ml-5",children:W.global_leader()})]}),e.jsx("div",{className:"w-full mt-6 px-1",children:e.jsx(E,{dataBanner:n,tabs:c,selected:s,onChange:x,fontSize:!1})}),e.jsx("div",{className:"w-full px-2 pt-2",children:e.jsx(H,{id:"swiper-wrapper-container",onSwiper:t=>{l(t)},onTransitionEnd:t=>{const g=t.slides[t.activeIndex].getAttribute("data-swiper-slide-index");r(Number(g))},initialSlide:a,centeredSlides:!0,slidesPerView:1,autoplay:{delay:3e3},spaceBetween:10,loop:!0,modules:[B],className:"mySwiperBlack",children:n.map((t,p)=>e.jsx(A,{id:t.id,children:e.jsx("div",{className:"bg-transparent !z-0 rounded-3xl mx-auto h-full relative w-[100%]",children:e.jsx("div",{className:"rounded-3xl w-full",children:e.jsx("div",{className:"rounded-3xl",children:t.popupType==1&&t.noticeContent?e.jsx("div",{style:{aspectRatio:h,boxShadow:"0px -5px 10px -5px rgba(0, 0, 0, 0.3)"},className:"w-full h-full flex p-3 overflow-scroll hidden-scroll word-break: auto text-black rounded-xl",children:t.noticeContent?u(t.noticeContent):e.jsx(C,{className:"grow"})}):e.jsx("div",{className:"w-full h-full flex overflow-hidden word-break: auto text-black rounded-xl",style:{boxShadow:"0px -5px 10px -5px rgba(0, 0, 0, 0.3)"},onClick:()=>{b(t)},children:e.jsx(N,{src:S.getRemoteImgPath(t.noticeImgUrl)||"/assets/icon/banner-bg.png",alt:"",style:{height:"auto",aspectRatio:h},className:"mx-auto w-full h-full object-contain rounded-xl"})})})})})},`${t.id}-${p}`))})}),e.jsx("div",{className:"w-full mt-1.5",children:e.jsx(U,{dataBanner:n,tabs:c,selected:s,onChange:x})}),e.jsx(N,{onClick:i,src:"/assets/icon/close-banner-icon.png",alt:"",className:"w-[2rem] h-[2rem] mx-auto object-contain absolute z-[400] -bottom-10 left-1/2 translate-x-[-50%] cursor-pointer"})]}):e.jsx(e.Fragment,{})})}export{F as AdsHomeBlackBannerModal};
