import{a as O,a3 as V,i as B,r as o,a2 as J,T as l,H as c,j as e,M as n,l as W,a4 as Y,Y as $}from"./index.sdk-0.0.1.js";import{N as z}from"./normal-layout.js";import{a as G,g as K,b as X}from"./deposit.js";import"./main-layout.js";import"./popover.js";import"./Modal.js";import"./lazy-load-component.js";function le(){var y,N,v,k,g,_,C,A,q,P,T,S,E,F;const Q=O(),{orderId:r}=V(),{companyConf:U}=B(),f=new URLSearchParams(Q.search),[s,h]=o.useState(null),[i,D]=o.useState(null),[m,j]=o.useState(),[d,x]=o.useState(null);o.useEffect(()=>{if(r&&f.get("info")!=null){const a=JSON.parse(J(f.get("info")??""));h(a),console.log(a),H(a==null?void 0:a.payType,a==null?void 0:a.payAccountId,a==null?void 0:a.tpPayChannelId)}const t=setInterval(async()=>{M()},3e3);return()=>clearInterval(t)},[]),o.useEffect(()=>{m&&h(t=>({...t,payAccount:m,payType:m.payTypeEntity}))},[m]),o.useEffect(()=>{var t,a,u;if((t=s==null?void 0:s.payAccount)!=null&&t.payType)switch((a=s==null?void 0:s.payAccount)==null?void 0:a.payType){case"alipay":{x({top:l.alipay_deposit_information(),label:l.alipay_account()});break}case"wechat":{x({top:l.wechat_deposit_information(),label:l.wechat_account()});break}case"qq":{x({top:l.qq_deposit_information(),label:l.qq_account()});break}default:switch((u=s==null?void 0:s.payAccount)==null?void 0:u.bankFlag){case 2:{x({top:l.recharge_details(),label:l.transfer_agree()});break}default:x({top:l.recharge_details(),label:l.payee()});break}}},[s]);const H=async(t,a,u)=>{try{if(u){const L=await G({payType:t,tpPayChannelId:u});L.length&&j(L[0]);return}const p=await K({payType:t,payAccountId:a});p.length&&j(p[0])}catch(p){console.log(p)}};o.useEffect(()=>{(i==null?void 0:i.status)==3&&c.navigateBack(),(i==null?void 0:i.status)==4&&c.navigate("/deposit/failed",{replace:!0})},[i]);const M=async()=>{try{const t=await X({orderNo:r});t&&t.id&&D(t)}catch(t){console.log(t)}},w=()=>{var t;(t=window.open(U.olUrl,"_blank"))==null||t.focus()},b=()=>Number(s==null?void 0:s.amount);return e.jsx(z,{title:d?d.top:"",className:"max-w-[800px] mx-auto ",children:m&&r&&d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full pt-7 pb-6 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"w-full text-center text-[var(--active)] text-2xl flex font-medium items-baseline justify-center",children:[e.jsxs("span",{className:"text-5xl",children:[" ",b()]})," ",e.jsx("span",{className:"ml-2",children:s==null?void 0:s.currency}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full ml-4 self-center cursor-pointer",onClick:()=>c.copy(b()),children:e.jsx(n,{onClick:()=>c.copy(b()),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("p",{className:"text-base mt-2 px-4",children:[l.please()," ",e.jsx("span",{className:"text-[var(--active)]",children:l.transfer_money()}),l.as_soon_as()]}),e.jsxs("p",{className:"text-center text-[#f17e3b] px-4",children:[" (",l.note_transfer_deposit(),") "]})]}),e.jsx("div",{className:"w-full mt-3",children:e.jsxs("div",{className:"w-full p-4 flex items-center justify-between border-b border-[var(--separator2)]",children:[e.jsx("div",{className:"text-base font-medium",children:l.payment_QR_code()}),e.jsxs("div",{className:"text-xs text-[var(--text-content-color)]",children:[" ",l.pls_scan_QR_code()," "]})]})}),e.jsxs("div",{className:"w-full p-3",children:[e.jsx("div",{className:"w-full flex items-center justify-center",children:((y=s.payAccount)==null?void 0:y.qrCode)&&e.jsxs("div",{className:"flex flex-col items-center gap-3 p-3 py-5",children:[e.jsx(W,{src:c.getRemoteImgPath((N=s.payAccount)==null?void 0:N.qrCode),alt:"",className:"w-[200px] rounded-lg"}),e.jsx("button",{onClick:()=>{var t;return Y(c.getRemoteImgPath((t=s.payAccount)==null?void 0:t.qrCode),`xgame_${r}.png`)},className:"bg-[var(--active)] rounded-full py-1.5 w-[220px] text-black",children:l.save_payment_QR_code()})]})}),((v=s.payAccount)==null?void 0:v.payType)==="alipay"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"text-base",children:[e.jsxs("label",{className:"font-light  inline-block uppercase",children:[l.alipay_name(),"："]}),e.jsx("span",{className:"font-medium",children:(k=s.payAccount)==null?void 0:k.owner})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.owner)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[" ",l.deposit_amount(),"："]}),e.jsxs("div",{className:" font-medium text-ellipsis overflow-hidden",children:[" ",s.amount," ",e.jsx("span",{className:"ml-1",children:s==null?void 0:s.currency})]})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(s.amount),children:e.jsx(n,{onClick:()=>c.copy(s.amount),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[d.label,"："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:(g=s==null?void 0:s.payAccount)==null?void 0:g.account})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.account)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.account)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[e.jsx("span",{className:"font-light  inline-block whitespace-nowrap",children:l.order_number()}),"："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:r})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(r),children:e.jsx(n,{onClick:()=>c.copy(r),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})]}),((_=s.payAccount)==null?void 0:_.payType)==="wechat"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"text-base",children:[e.jsxs("label",{className:"font-light  inline-block uppercase",children:[l.wechat_name(),"："]}),e.jsx("span",{className:"font-medium",children:(C=s.payAccount)==null?void 0:C.owner})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[" ",l.deposit_amount(),"："]}),e.jsxs("div",{className:" font-medium text-ellipsis overflow-hidden",children:[" ",s.amount," ",e.jsx("span",{className:"ml-1",children:s==null?void 0:s.currency})]})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(s.amount),children:e.jsx(n,{onClick:()=>c.copy(s.amount),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[e.jsx("span",{children:d.label})," ："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:(A=s.payAccount)==null?void 0:A.account})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.account)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.account)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[e.jsx("span",{className:"font-light  inline-block whitespace-nowrap",children:l.order_number()}),"："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:r})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(r),children:e.jsx(n,{onClick:()=>c.copy(r),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})]}),((q=s.payAccount)==null?void 0:q.payType)==="qq"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"text-base",children:[e.jsxs("label",{className:"font-light  inline-block uppercase",children:[" ",l.qq_wallet_name(),"："]}),e.jsx("span",{className:"font-medium",children:(P=s.payAccount)==null?void 0:P.owner})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[" ",l.deposit_amount(),"："]}),e.jsxs("div",{className:" font-medium text-ellipsis overflow-hidden",children:[" ",s.amount," ",e.jsx("span",{className:"ml-1",children:s==null?void 0:s.currency})]})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(s.amount),children:e.jsx(n,{onClick:()=>c.copy(s.amount),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[e.jsx("span",{children:d.label})," ："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:(T=s.payAccount)==null?void 0:T.account})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.account)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.account)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[e.jsx("span",{className:"font-light  inline-block whitespace-nowrap",children:l.order_number()}),"："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:r})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(r),children:e.jsx(n,{onClick:()=>c.copy(r),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})]}),!["alipay","wechat","qq"].includes((S=s.payAccount)==null?void 0:S.payType)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"text-base",children:[e.jsxs("label",{className:"font-light  inline-block uppercase",children:[l.payee(),"："]}),e.jsx("span",{className:"font-medium",children:(E=s.payAccount)==null?void 0:E.owner})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.owner)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.owner)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[" ",l.deposit_amount(),"："]}),e.jsxs("div",{className:" font-medium text-ellipsis overflow-hidden",children:[" ",s.amount," ",e.jsx("span",{className:"ml-1",children:s==null?void 0:s.currency})]})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(s.amount),children:e.jsx(n,{onClick:()=>c.copy(s.amount),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[l.receiving_account_v2(),"："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden line-clamp-2",children:(F=s==null?void 0:s.payAccount)==null?void 0:F.account})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>{var t;return c.copy((t=s.payAccount)==null?void 0:t.account)},children:e.jsx(n,{onClick:()=>{var t;return c.copy((t=s==null?void 0:s.payAccount)==null?void 0:t.account)},color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[e.jsx("span",{className:"font-light  inline-block whitespace-nowrap",children:l.order_number()}),"："]}),e.jsx("div",{className:" font-medium text-ellipsis overflow-hidden",children:r})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(r),children:e.jsx(n,{onClick:()=>c.copy(r),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})]}),(s==null?void 0:s.remark)&&e.jsxs("div",{className:"w-full flex items-center justify-between py-3 border-b border-[var(--separator2)]",children:[e.jsxs("div",{className:"grow text-base flex items-center",children:[e.jsxs("label",{className:"font-light  inline-block whitespace-nowrap",children:[" ",l.remark(),"："]}),e.jsxs("div",{className:" font-medium text-ellipsis overflow-hidden",children:[" ",s.remark," "]})]}),e.jsx("button",{className:"w-7 h-7 bg-[var(--box-bg)] flex items-center justify-center rounded-full self-center cursor-pointer",onClick:()=>c.copy(s.remark),children:e.jsx(n,{onClick:()=>c.copy(s.remark),color:"var(--text-content-color)",name:"ic_copy",className:"w-3.5 h-3.5 inline cursor-pointer"})})]})]}),e.jsx("div",{className:"px-4 pt-4 pb-1",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs font-medium text-[#c50000]",children:["* ",l.important_reminder()]}),e.jsxs("ol",{className:"text-xs ml-2 mt-2 text-[#bbbbbc]",children:[e.jsxs("li",{className:"flex items-baseline",children:[e.jsx("span",{className:"mr-1.5",children:"1."}),e.jsxs("p",{className:"leading-[1.5]",children:[l.unsure_deposit(),e.jsx("span",{children:l.deposit_tutorial()}),l.visit_deposit(),e.jsx("span",{className:"text-[#f16d00] border-b border-solid border-[#f16d00] cursor-pointer",onClick:()=>w(),children:l.online_service()})]})]}),e.jsxs("li",{className:"flex items-baseline mt-0.5",children:[e.jsx("span",{className:"mr-1.5",children:"2. "}),e.jsx("p",{children:l.validity_period_deposit()})]}),e.jsxs("li",{className:"flex items-center mt-0.5",children:[e.jsx("span",{className:"mr-1.5",children:"3. "}),e.jsxs("p",{children:[" ",l.any_question(),e.jsx("span",{className:"text-[#f16d00] border-b border-solid border-[#f16d00] cursor-pointer",onClick:()=>w(),children:l.online_service()})]})]})]})]})})]}):e.jsx($,{className:"grow"})})}export{le as CryptoWalletTransferView};
