const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./chat-menu.js","./index.sdk-0.0.1.js","./index.css","./ClickAwayListener.js","./Modal.js"])))=>i.map(i=>d[i]);
var qr=Object.defineProperty;var Jr=(r,o,a)=>o in r?qr(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a;var fe=(r,o,a)=>Jr(r,typeof o!="symbol"?o+"":o,a);import{j as h,r as S,y as Wt,q as pt,G as gt,bz as Yt,l as Gt,by as ve,an as vt,K as we,H as te,b5 as rt,bx as Ce,aP as Xe,bA as Ze,aQ as Qr,bu as Xr,bv as Zr,bw as ut,bB as en,bC as tn,bD as rn,bE as nn,bF as qt,bG as on,bH as sn,br as an,aE as cn,b as ln,h as At,z as un,M as dn,T as We,R as Mt,bI as Lt,bq as dt,bd as fn,p as hn}from"./index.sdk-0.0.1.js";import{l as mn,L as pn}from"./lazy-load-component.js";import{B as gn,C as vn,x as yn,D as bn,E as Oe,F as Jt,G as xn,H as Sn,I as wn,p as Ie,q as yt,h as Dt,J as Ot,d as _n,b as Qt}from"./Modal.js";import{e as En,g as Cn,a as In,u as Pt,P as Tn,b as Rn}from"./index6.js";import{G as kn,c as bt}from"./emotion-react.browser.esm.js";import{R as Nn}from"./index7.js";import{C as An}from"./modals.js";import{A as Mn}from"./button.js";function Ln(r){return r==null||Object.keys(r).length===0}function Dn(r){const{styles:o,defaultTheme:a={}}=r,l=typeof o=="function"?f=>o(Ln(f)?a:f):o;return h.jsx(kn,{styles:l})}const Te=gn(),Xt=S.createContext(null);function xt(){return S.useContext(Xt)}const On=typeof Symbol=="function"&&Symbol.for,Pn=On?Symbol.for("mui.nested"):"__THEME_NESTED__";function jn(r,o){return typeof o=="function"?o(r):{...r,...o}}function Bn(r){const{children:o,theme:a}=r,l=xt(),f=S.useMemo(()=>{const v=l===null?{...a}:jn(l,a);return v!=null&&(v[Pn]=l!==null),v},[a,l]);return h.jsx(Xt.Provider,{value:f,children:o})}const jt={};function Bt(r,o,a,l=!1){return S.useMemo(()=>{const f=r&&o[r]||o;if(typeof a=="function"){const v=a(f),p=r?{...o,[r]:v}:v;return l?()=>p:p}return r?{...o,[r]:a}:{...o,...a}},[r,o,a,l])}function Zt(r){const{children:o,theme:a,themeId:l}=r,f=vn(jt),v=xt()||jt,p=Bt(l,f,a),E=Bt(l,v,a,!0),R=p.direction==="rtl";return h.jsx(Bn,{theme:E,children:h.jsx(yn.Provider,{value:p,children:h.jsx(Nn,{value:R,children:h.jsx(bn,{value:p==null?void 0:p.components,children:o})})})})}const St="mode",wt="color-scheme",Fn="data-color-scheme";function $n(r){const{defaultLightColorScheme:o="light",defaultDarkColorScheme:a="dark",modeStorageKey:l=St,colorSchemeStorageKey:f=wt,attribute:v=Fn,colorSchemeNode:p="document.documentElement",nonce:E}=r||{};let R="",A=v;if(v==="class"&&(A=".%s"),v==="data"&&(A="[data-%s]"),A.startsWith(".")){const m=A.substring(1);R+=`${p}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${p}.classList.add('${m}'.replace('%s', colorScheme));`}const j=A.match(/\[([^\]]+)\]/);if(j){const[m,I]=j[1].split("=");I||(R+=`${p}.removeAttribute('${m}'.replace('%s', light));
      ${p}.removeAttribute('${m}'.replace('%s', dark));`),R+=`
      ${p}.setAttribute('${m}'.replace('%s', colorScheme), ${I?`${I}.replace('%s', colorScheme)`:'""'});`}else R+=`${p}.setAttribute('${A}', colorScheme);`;return h.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?E:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${l}') || 'system';
  const dark = localStorage.getItem('${f}-dark') || '${a}';
  const light = localStorage.getItem('${f}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${R}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Ft(r){if(typeof window<"u"&&typeof window.matchMedia=="function"&&r==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function er(r,o){if(r.mode==="light"||r.mode==="system"&&r.systemMode==="light")return o("light");if(r.mode==="dark"||r.mode==="system"&&r.systemMode==="dark")return o("dark")}function Hn(r){return er(r,o=>{if(o==="light")return r.lightColorScheme;if(o==="dark")return r.darkColorScheme})}function ft(r,o){if(typeof window>"u")return;let a;try{a=localStorage.getItem(r)||void 0,a||localStorage.setItem(r,o)}catch{}return a||o}function Un(r){const{defaultMode:o="light",defaultLightColorScheme:a,defaultDarkColorScheme:l,supportedColorSchemes:f=[],modeStorageKey:v=St,colorSchemeStorageKey:p=wt,storageWindow:E=typeof window>"u"?void 0:window}=r,R=f.join(","),A=f.length>1,[j,m]=S.useState(()=>{const _=ft(v,o),L=ft(`${p}-light`,a),u=ft(`${p}-dark`,l);return{mode:_,systemMode:Ft(_),lightColorScheme:L,darkColorScheme:u}}),[,I]=S.useState(!1),B=S.useRef(!1);S.useEffect(()=>{A&&I(!0),B.current=!0},[A]);const k=Hn(j),$=S.useCallback(_=>{m(L=>{if(_===L.mode)return L;const u=_??o;try{localStorage.setItem(v,u)}catch{}return{...L,mode:u,systemMode:Ft(u)}})},[v,o]),M=S.useCallback(_=>{_?typeof _=="string"?_&&!R.includes(_)?console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`):m(L=>{const u={...L};return er(L,T=>{try{localStorage.setItem(`${p}-${T}`,_)}catch{}T==="light"&&(u.lightColorScheme=_),T==="dark"&&(u.darkColorScheme=_)}),u}):m(L=>{const u={...L},T=_.light===null?a:_.light,w=_.dark===null?l:_.dark;if(T)if(!R.includes(T))console.error(`\`${T}\` does not exist in \`theme.colorSchemes\`.`);else{u.lightColorScheme=T;try{localStorage.setItem(`${p}-light`,T)}catch{}}if(w)if(!R.includes(w))console.error(`\`${w}\` does not exist in \`theme.colorSchemes\`.`);else{u.darkColorScheme=w;try{localStorage.setItem(`${p}-dark`,w)}catch{}}return u}):m(L=>{try{localStorage.setItem(`${p}-light`,a),localStorage.setItem(`${p}-dark`,l)}catch{}return{...L,lightColorScheme:a,darkColorScheme:l}})},[R,p,a,l]),V=S.useCallback(_=>{j.mode==="system"&&m(L=>{const u=_!=null&&_.matches?"dark":"light";return L.systemMode===u?L:{...L,systemMode:u}})},[j.mode]),H=S.useRef(V);return H.current=V,S.useEffect(()=>{if(typeof window.matchMedia!="function"||!A)return;const _=(...u)=>H.current(...u),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(_),_(L),()=>{L.removeListener(_)}},[A]),S.useEffect(()=>{if(E&&A){const _=L=>{const u=L.newValue;typeof L.key=="string"&&L.key.startsWith(p)&&(!u||R.match(u))&&(L.key.endsWith("light")&&M({light:u}),L.key.endsWith("dark")&&M({dark:u})),L.key===v&&(!u||["light","dark","system"].includes(u))&&$(u||o)};return E.addEventListener("storage",_),()=>{E.removeEventListener("storage",_)}}},[M,$,v,p,R,o,E,A]),{...j,mode:B.current||!A?j.mode:void 0,systemMode:B.current||!A?j.systemMode:void 0,colorScheme:B.current||!A?k:void 0,setMode:$,setColorScheme:M}}const zn="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Vn(r){const{themeId:o,theme:a={},modeStorageKey:l=St,colorSchemeStorageKey:f=wt,disableTransitionOnChange:v=!1,defaultColorScheme:p,resolveTheme:E}=r,R={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},A=S.createContext(void 0),j=()=>S.useContext(A)||R;function m($){var Be,Fe,$e,He,Ue;const{children:M,theme:V,modeStorageKey:H=l,colorSchemeStorageKey:_=f,disableTransitionOnChange:L=v,storageWindow:u=typeof window>"u"?void 0:window,documentNode:T=typeof document>"u"?void 0:document,colorSchemeNode:w=typeof document>"u"?void 0:document.documentElement,disableNestedContext:P=!1,disableStyleSheetGeneration:F=!1,defaultMode:K="system"}=$,W=S.useRef(!1),Q=xt(),q=S.useContext(A),se=!!q&&!P,le=S.useMemo(()=>V||(typeof a=="function"?a():a),[V]),C=le[o],{colorSchemes:D={},components:Y={},cssVarPrefix:me,...re}=C||le,ae=Object.keys(D).filter(Z=>!!D[Z]).join(","),ie=S.useMemo(()=>ae.split(","),[ae]),pe=typeof p=="string"?p:p.light,Re=typeof p=="string"?p:p.dark,ke=D[pe]&&D[Re]?K:((Fe=(Be=D[re.defaultColorScheme])==null?void 0:Be.palette)==null?void 0:Fe.mode)||(($e=re.palette)==null?void 0:$e.mode),{mode:O,setMode:z,systemMode:X,lightColorScheme:be,darkColorScheme:_e,colorScheme:Ne,setColorScheme:qe}=Un({supportedColorSchemes:ie,defaultLightColorScheme:pe,defaultDarkColorScheme:Re,modeStorageKey:H,colorSchemeStorageKey:_,defaultMode:ke,storageWindow:u});let Pe=O,de=Ne;se&&(Pe=q.mode,de=q.colorScheme);const ge=de||re.defaultColorScheme,nt=((He=re.generateThemeVars)==null?void 0:He.call(re))||re.vars,ue={...re,components:Y,colorSchemes:D,cssVarPrefix:me,vars:nt};if(typeof ue.generateSpacing=="function"&&(ue.spacing=ue.generateSpacing()),ge){const Z=D[ge];Z&&typeof Z=="object"&&Object.keys(Z).forEach(ee=>{Z[ee]&&typeof Z[ee]=="object"?ue[ee]={...ue[ee],...Z[ee]}:ue[ee]=Z[ee]})}const ye=re.colorSchemeSelector;S.useEffect(()=>{if(de&&w&&ye&&ye!=="media"){const Z=ye;let ee=ye;if(Z==="class"&&(ee=".%s"),Z==="data"&&(ee="[data-%s]"),Z!=null&&Z.startsWith("data-")&&!Z.includes("%s")&&(ee=`[${Z}="%s"]`),ee.startsWith("."))w.classList.remove(...ie.map(Ee=>ee.substring(1).replace("%s",Ee))),w.classList.add(ee.substring(1).replace("%s",de));else{const Ee=ee.replace("%s",de).match(/\[([^\]]+)\]/);if(Ee){const[ze,Le]=Ee[1].split("=");Le||ie.forEach(Je=>{w.removeAttribute(ze.replace(de,Je))}),w.setAttribute(ze,Le?Le.replace(/"|'/g,""):"")}else w.setAttribute(ee,de)}}},[de,ye,w,ie]),S.useEffect(()=>{let Z;if(L&&W.current&&T){const ee=T.createElement("style");ee.appendChild(T.createTextNode(zn)),T.head.appendChild(ee),window.getComputedStyle(T.body),Z=setTimeout(()=>{T.head.removeChild(ee)},1)}return()=>{clearTimeout(Z)}},[de,L,T]),S.useEffect(()=>(W.current=!0,()=>{W.current=!1}),[]);const je=S.useMemo(()=>({allColorSchemes:ie,colorScheme:de,darkColorScheme:_e,lightColorScheme:be,mode:Pe,setColorScheme:qe,setMode:z,systemMode:X}),[ie,de,_e,be,Pe,qe,z,X]);let Ae=!0;(F||re.cssVariables===!1||se&&(Q==null?void 0:Q.cssVarPrefix)===me)&&(Ae=!1);const Me=h.jsxs(S.Fragment,{children:[h.jsx(Zt,{themeId:C?o:void 0,theme:E?E(ue):ue,children:M}),Ae&&h.jsx(Dn,{styles:((Ue=ue.generateStyleSheets)==null?void 0:Ue.call(ue))||[]})]});return se?Me:h.jsx(A.Provider,{value:je,children:Me})}const I=typeof p=="string"?p:p.light,B=typeof p=="string"?p:p.dark;return{CssVarsProvider:m,useColorScheme:j,getInitColorSchemeScript:$=>$n({colorSchemeStorageKey:f,defaultLightColorScheme:I,defaultDarkColorScheme:B,modeStorageKey:l,...$})}}function $t({theme:r,...o}){const a=Oe in r?r[Oe]:void 0;return h.jsx(Zt,{...o,themeId:a?Oe:void 0,theme:a||r})}const et={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:Kn,useColorScheme:Xo,getInitColorSchemeScript:Zo}=Vn({themeId:Oe,theme:()=>Jt({cssVariables:!0}),colorSchemeStorageKey:et.colorSchemeStorageKey,modeStorageKey:et.modeStorageKey,defaultColorScheme:{light:et.defaultLightColorScheme,dark:et.defaultDarkColorScheme},resolveTheme:r=>{const o={...r,typography:xn(r.palette,r.typography)};return o.unstable_sx=function(l){return Sn({sx:l,theme:this})},o}}),Wn=Kn;function Yn({theme:r,...o}){return typeof r=="function"?h.jsx($t,{theme:r,...o}):"colorSchemes"in(Oe in r?r[Oe]:r)?h.jsx(Wn,{theme:r,...o}):h.jsx($t,{theme:r,...o})}function Gn(r){const o=getComputedStyle(r).overflowY;return r===document.scrollingElement&&o==="visible"?!0:!(o!=="scroll"&&o!=="auto")}function qn(r,o){return Gn(r)?r.scrollTop>0:!1}function tr(r,o){return qn(r)?!0:r.parentElement==null?!1:tr(r.parentElement)}function rr(r,o={}){if(!r||typeof document>"u")return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",o.insertAt==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),"styleSheet"in l?l.styleSheet.cssText=r:l.appendChild(document.createTextNode(r))}const Jn=`.lds-ellipsis {
  display: inline-block;
  position: relative;
  width: 64px;
  height: 64px; }

.lds-ellipsis div {
  position: absolute;
  top: 27px;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #363636;
  animation-timing-function: cubic-bezier(0, 1, 1, 0); }

.lds-ellipsis div:nth-child(1) {
  left: 6px;
  animation: lds-ellipsis1 0.6s infinite; }

.lds-ellipsis div:nth-child(2) {
  left: 6px;
  animation: lds-ellipsis2 0.6s infinite; }

.lds-ellipsis div:nth-child(3) {
  left: 26px;
  animation: lds-ellipsis2 0.6s infinite; }

.lds-ellipsis div:nth-child(4) {
  left: 45px;
  animation: lds-ellipsis3 0.6s infinite; }

@keyframes lds-ellipsis1 {
  0% {
    transform: scale(0); }
  100% {
    transform: scale(1); } }

@keyframes lds-ellipsis3 {
  0% {
    transform: scale(1); }
  100% {
    transform: scale(0); } }

@keyframes lds-ellipsis2 {
  0% {
    transform: translate(0, 0); }
  100% {
    transform: translate(19px, 0); } }
`;rr(Jn);const Qn=()=>h.jsxs("div",{className:"lds-ellipsis",children:[h.jsx("div",{}),h.jsx("div",{}),h.jsx("div",{}),h.jsx("div",{})]}),Xn=()=>h.jsx("div",{children:h.jsx("p",{children:"⇧ pull to refresh ⇧"})}),Zn=`.ptr,
.ptr__children {
  height: 100%;
  width: 100%;
 scrollbar-width: none;
 overflow: hidden;
 overflow-y: hidden;
 -webkit-overflow-scrolling: touch;
  position: relative; }

.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {
  display: block; }

.ptr__fetch-more {
  display: none; }

/**
  * Pull down transition 
  */
.ptr__children,
.ptr__pull-down {
  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }

.ptr__pull-down {
  position: absolute;
  overflow: hidden;
  left: 0;
  right: 0;
  top: 0;
  visibility: hidden; }
  .ptr__pull-down > div {
    display: none; }

.ptr--dragging {
  /**
    * Hide PullMore content is treshold breached
    */
  /**
    * Otherwize, display content
    */ }
  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {
    display: none; }
  .ptr--dragging .ptr__pull-down--pull-more {
    display: block; }

.ptr--pull-down-treshold-breached {
  /**
    * Force opacity to 1 is pull down trashold breached
    */
  /**
    * And display loader
    */ }
  .ptr--pull-down-treshold-breached .ptr__pull-down {
    opacity: 1 !important; }
  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {
    display: block; }

.ptr__loader {
  margin: 0 auto;
  text-align: center; }
`;rr(Zn);const nr=S.forwardRef(({isPullable:r=!0,canFetchMore:o=!1,onRefresh:a,onFetchMore:l,refreshingContent:f=h.jsx(Qn,{}),pullingContent:v=h.jsx(Xn,{}),children:p,pullDownThreshold:E=67,fetchMoreThreshold:R=100,maxPullDownDistance:A=95,resistance:j=1,backgroundColor:m,className:I="",onBodyScroll:B},k)=>{const $=S.useRef(null),M=S.useRef(null),V=S.useRef(null),H=S.useRef(null);let _=!1,L=!1,u=!1,T=0,w=0;S.useEffect(()=>{if(!r||!M||!M.current)return;const C=M.current;return C.addEventListener("touchstart",K,{passive:!0}),C.addEventListener("mousedown",K),C.addEventListener("touchmove",W,{passive:!1}),C.addEventListener("mousemove",W),window.addEventListener("scroll",Q),C.addEventListener("touchend",q),C.addEventListener("mouseup",q),document.body.addEventListener("mouseleave",q),()=>{C.removeEventListener("touchstart",K),C.removeEventListener("mousedown",K),C.removeEventListener("touchmove",W),C.removeEventListener("mousemove",W),window.removeEventListener("scroll",Q),C.removeEventListener("touchend",q),C.removeEventListener("mouseup",q),document.body.removeEventListener("mouseleave",q)}},[p,r,a,E,A,o,R]),S.useEffect(()=>{var D,Y;(D=$.current)!=null&&D.classList.contains("ptr--fetch-more-treshold-breached")||o&&P()<R&&l&&((Y=$.current)==null||Y.classList.add("ptr--fetch-more-treshold-breached"),L=!0,l().then(F).catch(F))},[o,p]);const P=()=>{if(!M.current)return-1;const C=window.scrollY;return M.current.scrollHeight-C-window.innerHeight},F=()=>{requestAnimationFrame(()=>{var C,D,Y;M.current&&(M.current.style.overflowX="hidden",M.current.style.overflowY="auto",M.current.style.transform="unset"),V.current&&(V.current.style.opacity="0"),(C=$.current)==null||C.classList.remove("ptr--pull-down-treshold-breached"),(D=$.current)==null||D.classList.remove("ptr--dragging"),(Y=$.current)==null||Y.classList.remove("ptr--fetch-more-treshold-breached"),_=!1,L=!1})},K=C=>{var D,Y;if(u=!1,C instanceof MouseEvent&&(T=C.pageY),C instanceof TouchEvent&&(T=C.touches[0].pageY),w=T,!((C.type==="touchstart"||C.type==="mousedown")&&tr(C.target))&&!((((D=M.current)==null?void 0:D.getBoundingClientRect().top)??0)<0))if(((Y=M.current)==null?void 0:Y.scrollTop)===0)u=!0;else return},W=C=>{var Y,me,re;if(!u)return;if(w=C instanceof TouchEvent?C.touches[0].pageY:C.pageY,(Y=$.current)==null||Y.classList.add("ptr--dragging"),w<T){u=!1;return}C.preventDefault();const D=Math.min((w-T)/j,A);D>=E&&(u=!0,_=!0,(me=$.current)==null||me.classList.remove("ptr--dragging"),(re=$.current)==null||re.classList.add("ptr--pull-down-treshold-breached")),!(D>=A)&&(V.current.style.opacity=`${D/65}`,M.current.style.overflow="visible",M.current.style.transform=`translate(0px, ${D}px)`,V.current.style.visibility="visible")},Q=()=>{var C;console.log("p-scroll"),!L&&o&&P()<R&&l&&(L=!0,(C=$.current)==null||C.classList.add("ptr--fetch-more-treshold-breached"),l().then(F).catch(F))},q=()=>{if(u=!1,T=0,w=0,!_){V.current.style.visibility="hidden",F();return}M.current.style.overflow="visible",M.current.style.transform=`translate(0px, ${E}px)`,a().then(F).catch(F)},se=(C="smooth")=>{M.current&&M.current.scrollTo({top:M.current.scrollHeight,behavior:C})},le=C=>{M.current&&(M.current.scrollTop=C)};return S.useImperativeHandle(k,()=>({scrollToBottom:se,setScrollPos:le})),h.jsxs("div",{className:`ptr ${I}`,style:{backgroundColor:m},ref:$,children:[h.jsxs("div",{className:"ptr__pull-down",ref:V,children:[h.jsx("div",{className:"ptr__loader ptr__pull-down--loading",children:f}),h.jsx("div",{className:"ptr__pull-down--pull-more",children:v})]}),h.jsxs("div",{className:"ptr__children flex flex-col",id:"ptr__children",ref:M,onScroll:B,children:[h.jsx("div",{className:"grow"}),p,h.jsx("div",{className:"ptr__fetch-more",ref:H,children:h.jsx("div",{className:"ptr__loader ptr__fetch-more--loading",children:f})})]})]})});nr.displayName="PullToRefreshCopy";function eo(r){const o=Ie(r);return o.body===r?yt(r).innerWidth>o.documentElement.clientWidth:r.scrollHeight>r.clientHeight}function Ye(r,o){o?r.setAttribute("aria-hidden","true"):r.removeAttribute("aria-hidden")}function Ht(r){return parseInt(yt(r).getComputedStyle(r).paddingRight,10)||0}function to(r){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(r.tagName)!==-1,l=r.tagName==="INPUT"&&r.getAttribute("type")==="hidden";return a||l}function Ut(r,o,a,l,f){const v=[o,a,...l];[].forEach.call(r.children,p=>{const E=v.indexOf(p)===-1,R=!to(p);E&&R&&Ye(p,f)})}function ht(r,o){let a=-1;return r.some((l,f)=>o(l)?(a=f,!0):!1),a}function ro(r,o){const a=[],l=r.container;if(!o.disableScrollLock){if(eo(l)){const p=wn(Ie(l));a.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Ht(l)+p}px`;const E=Ie(l).querySelectorAll(".mui-fixed");[].forEach.call(E,R=>{a.push({value:R.style.paddingRight,property:"padding-right",el:R}),R.style.paddingRight=`${Ht(R)+p}px`})}let v;if(l.parentNode instanceof DocumentFragment)v=Ie(l).body;else{const p=l.parentElement,E=yt(l);v=(p==null?void 0:p.nodeName)==="HTML"&&E.getComputedStyle(p).overflowY==="scroll"?p:l}a.push({value:v.style.overflow,property:"overflow",el:v},{value:v.style.overflowX,property:"overflow-x",el:v},{value:v.style.overflowY,property:"overflow-y",el:v}),v.style.overflow="hidden"}return()=>{a.forEach(({value:v,el:p,property:E})=>{v?p.style.setProperty(E,v):p.style.removeProperty(E)})}}function no(r){const o=[];return[].forEach.call(r.children,a=>{a.getAttribute("aria-hidden")==="true"&&o.push(a)}),o}class oo{constructor(){this.modals=[],this.containers=[]}add(o,a){let l=this.modals.indexOf(o);if(l!==-1)return l;l=this.modals.length,this.modals.push(o),o.modalRef&&Ye(o.modalRef,!1);const f=no(a);Ut(a,o.mount,o.modalRef,f,!0);const v=ht(this.containers,p=>p.container===a);return v!==-1?(this.containers[v].modals.push(o),l):(this.containers.push({modals:[o],container:a,restore:null,hiddenSiblings:f}),l)}mount(o,a){const l=ht(this.containers,v=>v.modals.indexOf(o)!==-1),f=this.containers[l];f.restore||(f.restore=ro(f,a))}remove(o,a=!0){const l=this.modals.indexOf(o);if(l===-1)return l;const f=ht(this.containers,p=>p.modals.indexOf(o)!==-1),v=this.containers[f];if(v.modals.splice(v.modals.indexOf(o),1),this.modals.splice(l,1),v.modals.length===0)v.restore&&v.restore(),o.modalRef&&Ye(o.modalRef,a),Ut(v.container,o.mount,o.modalRef,v.hiddenSiblings,!1),this.containers.splice(f,1);else{const p=v.modals[v.modals.length-1];p.modalRef&&Ye(p.modalRef,!1)}return l}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function so(r){return typeof r=="function"?r():r}function io(r){return r?r.props.hasOwnProperty("in"):!1}const ao=new oo;function co(r){const{container:o,disableEscapeKeyDown:a=!1,disableScrollLock:l=!1,manager:f=ao,closeAfterTransition:v=!1,onTransitionEnter:p,onTransitionExited:E,children:R,onClose:A,open:j,rootRef:m}=r,I=S.useRef({}),B=S.useRef(null),k=S.useRef(null),$=Wt(k,m),[M,V]=S.useState(!j),H=io(R);let _=!0;(r["aria-hidden"]==="false"||r["aria-hidden"]===!1)&&(_=!1);const L=()=>Ie(B.current),u=()=>(I.current.modalRef=k.current,I.current.mount=B.current,I.current),T=()=>{f.mount(u(),{disableScrollLock:l}),k.current&&(k.current.scrollTop=0)},w=Dt(()=>{const C=so(o)||L().body;f.add(u(),C),k.current&&T()}),P=S.useCallback(()=>f.isTopModal(u()),[f]),F=Dt(C=>{B.current=C,C&&(j&&P()?T():k.current&&Ye(k.current,_))}),K=S.useCallback(()=>{f.remove(u(),_)},[_,f]);S.useEffect(()=>()=>{K()},[K]),S.useEffect(()=>{j?w():(!H||!v)&&K()},[j,K,H,v,w]);const W=C=>D=>{var Y;(Y=C.onKeyDown)==null||Y.call(C,D),!(D.key!=="Escape"||D.which===229||!P())&&(a||(D.stopPropagation(),A&&A(D,"escapeKeyDown")))},Q=C=>D=>{var Y;(Y=C.onClick)==null||Y.call(C,D),D.target===D.currentTarget&&A&&A(D,"backdropClick")};return{getRootProps:(C={})=>{const D=En(r);delete D.onTransitionEnter,delete D.onTransitionExited;const Y={...D,...C};return{role:"presentation",...Y,onKeyDown:W(Y),ref:$}},getBackdropProps:(C={})=>{const D=C;return{"aria-hidden":!0,...D,onClick:Q(D),open:j}},getTransitionProps:()=>{const C=()=>{V(!1),p&&p()},D=()=>{V(!0),E&&E(),v&&K()};return{onEnter:Ot(C,R==null?void 0:R.props.onEnter),onExited:Ot(D,R==null?void 0:R.props.onExited)}},rootRef:$,portalRef:F,isTopModal:P,exited:M,hasTransition:H}}const lo=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function uo(r){const o=parseInt(r.getAttribute("tabindex")||"",10);return Number.isNaN(o)?r.contentEditable==="true"||(r.nodeName==="AUDIO"||r.nodeName==="VIDEO"||r.nodeName==="DETAILS")&&r.getAttribute("tabindex")===null?0:r.tabIndex:o}function fo(r){if(r.tagName!=="INPUT"||r.type!=="radio"||!r.name)return!1;const o=l=>r.ownerDocument.querySelector(`input[type="radio"]${l}`);let a=o(`[name="${r.name}"]:checked`);return a||(a=o(`[name="${r.name}"]`)),a!==r}function ho(r){return!(r.disabled||r.tagName==="INPUT"&&r.type==="hidden"||fo(r))}function mo(r){const o=[],a=[];return Array.from(r.querySelectorAll(lo)).forEach((l,f)=>{const v=uo(l);v===-1||!ho(l)||(v===0?o.push(l):a.push({documentOrder:f,tabIndex:v,node:l}))}),a.sort((l,f)=>l.tabIndex===f.tabIndex?l.documentOrder-f.documentOrder:l.tabIndex-f.tabIndex).map(l=>l.node).concat(o)}function po(){return!0}function go(r){const{children:o,disableAutoFocus:a=!1,disableEnforceFocus:l=!1,disableRestoreFocus:f=!1,getTabbable:v=mo,isEnabled:p=po,open:E}=r,R=S.useRef(!1),A=S.useRef(null),j=S.useRef(null),m=S.useRef(null),I=S.useRef(null),B=S.useRef(!1),k=S.useRef(null),$=Wt(o.ref,k),M=S.useRef(null);S.useEffect(()=>{!E||!k.current||(B.current=!a)},[a,E]),S.useEffect(()=>{if(!E||!k.current)return;const _=Ie(k.current);return k.current.contains(_.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),B.current&&k.current.focus()),()=>{f||(m.current&&m.current.focus&&(R.current=!0,m.current.focus()),m.current=null)}},[E]),S.useEffect(()=>{if(!E||!k.current)return;const _=Ie(k.current),L=w=>{M.current=w,!(l||!p()||w.key!=="Tab")&&_.activeElement===k.current&&w.shiftKey&&(R.current=!0,j.current&&j.current.focus())},u=()=>{var F,K;const w=k.current;if(w===null)return;if(!_.hasFocus()||!p()||R.current){R.current=!1;return}if(w.contains(_.activeElement)||l&&_.activeElement!==A.current&&_.activeElement!==j.current)return;if(_.activeElement!==I.current)I.current=null;else if(I.current!==null)return;if(!B.current)return;let P=[];if((_.activeElement===A.current||_.activeElement===j.current)&&(P=v(k.current)),P.length>0){const W=!!((F=M.current)!=null&&F.shiftKey&&((K=M.current)==null?void 0:K.key)==="Tab"),Q=P[0],q=P[P.length-1];typeof Q!="string"&&typeof q!="string"&&(W?q.focus():Q.focus())}else w.focus()};_.addEventListener("focusin",u),_.addEventListener("keydown",L,!0);const T=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&u()},50);return()=>{clearInterval(T),_.removeEventListener("focusin",u),_.removeEventListener("keydown",L,!0)}},[a,l,f,p,E,v]);const V=_=>{m.current===null&&(m.current=_.relatedTarget),B.current=!0,I.current=_.target;const L=o.props.onFocus;L&&L(_)},H=_=>{m.current===null&&(m.current=_.relatedTarget),B.current=!0};return h.jsxs(S.Fragment,{children:[h.jsx("div",{tabIndex:E?0:-1,onFocus:H,ref:A,"data-testid":"sentinelStart"}),S.cloneElement(o,{ref:$,onFocus:V}),h.jsx("div",{tabIndex:E?0:-1,onFocus:H,ref:j,"data-testid":"sentinelEnd"})]})}const or="Modal";function vo(r){return In(or,r)}Cn(or,["root","hidden","backdrop"]);const yo=r=>{const{open:o,exited:a}=r;return _n({root:["root",!o&&a&&"hidden"],backdrop:["backdrop"]},Rn(vo))},sr=S.forwardRef(function(o,a){const{children:l,closeAfterTransition:f=!1,container:v,disableAutoFocus:p=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:R=!1,disablePortal:A=!1,disableRestoreFocus:j=!1,disableScrollLock:m=!1,hideBackdrop:I=!1,keepMounted:B=!1,onBackdropClick:k,onClose:$,onKeyDown:M,open:V,onTransitionEnter:H,onTransitionExited:_,slotProps:L={},slots:u={},...T}=o,w={...o,closeAfterTransition:f,disableAutoFocus:p,disableEnforceFocus:E,disableEscapeKeyDown:R,disablePortal:A,disableRestoreFocus:j,disableScrollLock:m,hideBackdrop:I,keepMounted:B},{getRootProps:P,getBackdropProps:F,getTransitionProps:K,portalRef:W,isTopModal:Q,exited:q,hasTransition:se}=co({...w,rootRef:a}),le={...w,exited:q,hasTransition:se},C=yo(le),D={};if(l.props.tabIndex===void 0&&(D.tabIndex="-1"),se){const{onEnter:ie,onExited:pe}=K();D.onEnter=ie,D.onExited=pe}const Y=u.root??"div",me=Pt({elementType:Y,externalSlotProps:L.root,externalForwardedProps:T,getSlotProps:P,className:C.root,ownerState:le}),re=u.backdrop,ae=Pt({elementType:re,externalSlotProps:L.backdrop,getSlotProps:ie=>F({...ie,onClick:pe=>{k&&k(pe),ie!=null&&ie.onClick&&ie.onClick(pe)}}),className:C.backdrop,ownerState:le});return!B&&!V&&(!se||q)?null:h.jsx(Tn,{ref:W,container:v,disablePortal:A,children:h.jsxs(Y,{...me,children:[!I&&re?h.jsx(re,{...ae}):null,h.jsx(go,{disableEnforceFocus:E,disableAutoFocus:p,disableRestoreFocus:j,isEnabled:Q,open:V,children:S.cloneElement(l,D)})]})})});function bo(){const[r,o]=S.useState(null);S.useEffect(()=>(pt.on(gt.showInstantMessageDialog,l=>{o(l)}),()=>{pt.remove(gt.showInstantMessageDialog)}),[]);const a=Jt({palette:{mode:"dark"}});return h.jsx("div",{children:h.jsx(Yn,{theme:a,children:h.jsx(xo,{"aria-labelledby":"unstyled-modal-title","aria-describedby":"unstyled-modal-description",open:!!r,onClose:()=>o(null),slots:{backdrop:So},children:h.jsxs(wo,{sx:{width:300},children:[h.jsx("h2",{id:"unstyled-modal-title",className:"modal-title",children:r==null?void 0:r.msgHeader}),h.jsx("p",{id:"unstyled-modal-description",className:"modal-description",children:r==null?void 0:r.msgContent})]})})})})}const ir=S.forwardRef((r,o)=>{const{open:a,className:l,...f}=r;return h.jsx("div",{className:Qt({"base-Backdrop-open":a},l),ref:o,...f})});ir.displayName="Backdrop-2";const zt={200:"#99CCFF",300:"#66B2FF",400:"#3399FF",500:"#007FFF",600:"#0072E5",700:"#0066CC"},ce={50:"#F3F6F9",100:"#E5EAF2",200:"#DAE2ED",300:"#C7D0DD",400:"#B0B8C4",500:"#9DA8B7",600:"#6B7A90",700:"#434D5B",800:"#303740",900:"#1C2025"},xo=Te(sr)`
  position: fixed;
  z-index: 1300;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
`,So=Te(ir)`
  z-index: -1;
  position: fixed;
  inset: 0;
  background-color: rgb(0 0 0 / 0.5);
  -webkit-tap-highlight-color: transparent;
`,wo=Te("div")(({theme:r})=>bt`
    font-family: 'IBM Plex Sans', sans-serif;
    font-weight: 500;
    text-align: start;
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 8px;
    overflow: hidden;
    background-color: ${r.palette.mode==="dark"?ce[900]:"#fff"};
    border-radius: 8px;
    border: 1px solid ${r.palette.mode==="dark"?ce[700]:ce[200]};
    box-shadow: 0 4px 12px ${r.palette.mode==="dark"?"rgb(0 0 0 / 0.5)":"rgb(0 0 0 / 0.2)"};
    padding: 24px;
    color: ${r.palette.mode==="dark"?ce[50]:ce[900]};

    & .modal-title {
      margin: 0;
      line-height: 1.5rem;
      margin-bottom: 8px;
    }

    & .modal-description {
      margin: 0;
      line-height: 1.5rem;
      font-weight: 400;
      color: ${r.palette.mode==="dark"?ce[400]:ce[800]};
      margin-bottom: 4px;
    }
  `);Te("button")(({theme:r})=>bt`
    font-family: 'IBM Plex Sans', sans-serif;
    font-weight: 600;
    font-size: 0.875rem;
    line-height: 1.5;
    padding: 8px 16px;
    border-radius: 8px;
    transition: all 150ms ease;
    cursor: pointer;
    background: ${r.palette.mode==="dark"?ce[900]:"#fff"};
    border: 1px solid ${r.palette.mode==="dark"?ce[700]:ce[200]};
    color: ${r.palette.mode==="dark"?ce[200]:ce[900]};
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);

    &:hover {
      background: ${r.palette.mode==="dark"?ce[800]:ce[50]};
      border-color: ${r.palette.mode==="dark"?ce[600]:ce[300]};
    }

    &:active {
      background: ${r.palette.mode==="dark"?ce[700]:ce[100]};
    }

    &:focus-visible {
      box-shadow: 0 0 0 4px ${r.palette.mode==="dark"?zt[300]:zt[200]};
      outline: none;
    }
  `);const _o=({message:r})=>{const[o,a]=S.useState(""),[l,f]=S.useState(""),[v,p]=S.useState(!1),E=()=>p(!0),R=()=>p(!1),A=()=>{let j="",m="";try{j=JSON.parse(r.content).originUrl,m=JSON.parse(r.content).thumbUrl}catch{j=r.content,m=r.content}a(j),f(m)};return S.useEffect(()=>{A()},[r]),h.jsxs("div",{children:[h.jsx(Yt,{src:l,fallback:o,alt:"Thumbnail",onClick:E},l+r.id),h.jsx(Eo,{"aria-labelledby":"unstyled-modal-title","aria-describedby":"unstyled-modal-description",open:v,onClose:R,slots:{backdrop:Co},children:h.jsx(Io,{children:h.jsx("div",{style:{overflowY:"auto",maxHeight:window.innerHeight+"px",scrollbarWidth:"none"},children:h.jsx(Gt,{onClick:()=>R(),src:o,alt:"Full Screen Image"})})})})]})},ar=S.forwardRef((r,o)=>{const{open:a,className:l,...f}=r;return h.jsx("div",{className:Qt({"base-Backdrop-open":a},l),ref:o,...f})});ar.displayName="Backdrop";const tt={50:"#F3F6F9",100:"#E5EAF2",200:"#DAE2ED",300:"#C7D0DD",400:"#B0B8C4",500:"#9DA8B7",600:"#6B7A90",700:"#434D5B",800:"#303740",900:"#1C2025"},Eo=Te(sr)`
  position: fixed;
  z-index: 1300;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
`,Co=Te(ar)`
  z-index: -1;
  position: fixed;
  inset: 0;
  background-color: rgb(0 0 0 / 0.5);
  -webkit-tap-highlight-color: transparent;
`,Io=Te("div")(({theme:r})=>bt`
    font-family: 'IBM Plex Sans', sans-serif;
    font-weight: 500;
    text-align: start;
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 8px;
    overflow: hidden;
    background-color: ${tt[900]};
    border-radius: 8px;
    border: 1px solid ${tt[700]};
    box-shadow: 0 4px 12px ${"rgb(0 0 0 / 0.5)"};
    padding: 24px;
    color: ${tt[50]};

    & .modal-title {
      margin: 0;
      line-height: 1.5rem;
      margin-bottom: 8px;
    }

    & .modal-description {
      margin: 0;
      line-height: 1.5rem;
      font-weight: 400;
      color: ${tt[400]};
      margin-bottom: 4px;
    }
  `);function Vt({message:r}){var o;return r.type==ve.image?h.jsx(_o,{message:r}):h.jsx("span",{className:`${(o=r.content)!=null&&o.includes(" ")?"break-words":"break-all"}`,children:r.content})}function To({message:r,className:o="",myId:a}){return r.sendId!=a?h.jsxs("div",{className:"flex "+o,id:r.id,children:[h.jsx(Yt,{src:r.userHead?r.userHead:"/assets/dummy/avatar1.png",fallback:"/assets/dummy/avatar1.png",alt:"",className:"w-10 h-10 mr-2",style:{borderRadius:"50%"}}),h.jsxs("div",{className:"max-w-[70%] flex flex-col",children:[h.jsxs("div",{className:"flex items-center text-2xs gap-1",children:[h.jsx("span",{className:"ml-1 text-[var(--text-label)]",children:r.sendNickName}),h.jsxs("span",{className:"bg-[var(--active)] text-black rounded-full px-2 pt-[3px] pb-[1px] leading-none flex items-center justify-center text-xs font-bold",children:["VIP ",r.userVipLv]})]}),h.jsxs("div",{className:"rounded-lg bg-[var(--box-bg)] px-3 py-2 mt-1",children:[h.jsx(Vt,{message:r}),h.jsx("div",{className:"text-[var(--text-label)] text-xs",children:new Date(r.sendTime??0).toLocaleString()})]})]})]}):h.jsxs("div",{className:"flex "+o,id:r.id,children:[h.jsx("div",{className:"grow"}),h.jsxs("div",{className:"max-w-[70%] flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-end text-2xs",children:[h.jsx("span",{className:"mr-1 text-[var(--text-label)]",children:r.sendNickName}),h.jsxs("span",{className:"bg-[var(--active)] text-black rounded-full px-2 pt-[3px] pb-[1px] leading-none flex items-center justify-center text-xs font-bold",children:["VIP ",r.userVipLv]})]}),h.jsxs("div",{className:"flex flex-col items-end rounded-lg bg-[var(--box-bg)] px-3 py-2 mt-1",children:[h.jsx(Vt,{message:r}),h.jsx("div",{className:"text-[var(--text-label)] text-xs",children:new Date(r.sendTime??0).toLocaleString()})]})]}),h.jsx(Gt,{src:r.userHead?r.userHead:"/assets/dummy/avatar3.png",alt:"",className:"w-10 h-10 ml-2",style:{borderRadius:"50%"}})]})}function Ro({message:r,className:o="",myId:a}){switch(r.type){case ve.tipText:return h.jsx("div",{className:"center-flex",id:r.id,children:h.jsx("span",{className:"ml-1 text-[var(--text-label)]",children:r.content})});default:return h.jsx(To,{message:r,className:o,myId:a})}}async function ko(r){return(await vt(we.chatApiUrl+"/message/customer/getAction?groupId="+r,{headers:{accessToken:te.chatToken()}})).data}async function No(r){try{return(await rt(we.chatApiUrl+"/message/customer/historyPage",{headers:{accessToken:te.chatToken()}},r)).data.datas.map(a=>new Ce(a))}catch(o){return console.error(o),[]}}var cr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,o){(function(a){r.exports=a()})(function(){return function a(l,f,v){function p(A,j){if(!f[A]){if(!l[A]){var m=typeof Ze=="function"&&Ze;if(!j&&m)return m(A,!0);if(E)return E(A,!0);var I=new Error("Cannot find module '"+A+"'");throw I.code="MODULE_NOT_FOUND",I}var B=f[A]={exports:{}};l[A][0].call(B.exports,function(k){var $=l[A][1][k];return p($||k)},B,B.exports,a,l,f,v)}return f[A].exports}for(var E=typeof Ze=="function"&&Ze,R=0;R<v.length;R++)p(v[R]);return p}({1:[function(a,l,f){(function(v){var p=v.MutationObserver||v.WebKitMutationObserver,E;if(p){var R=0,A=new p(k),j=v.document.createTextNode("");A.observe(j,{characterData:!0}),E=function(){j.data=R=++R%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var m=new v.MessageChannel;m.port1.onmessage=k,E=function(){m.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?E=function(){var M=v.document.createElement("script");M.onreadystatechange=function(){k(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},v.document.documentElement.appendChild(M)}:E=function(){setTimeout(k,0)};var I,B=[];function k(){I=!0;for(var M,V,H=B.length;H;){for(V=B,B=[],M=-1;++M<H;)V[M]();H=B.length}I=!1}l.exports=$;function $(M){B.push(M)===1&&!I&&E()}}).call(this,typeof Xe<"u"?Xe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,l,f){var v=a(1);function p(){}var E={},R=["REJECTED"],A=["FULFILLED"],j=["PENDING"];l.exports=m;function m(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,u!==p&&$(this,u)}m.prototype.catch=function(u){return this.then(null,u)},m.prototype.then=function(u,T){if(typeof u!="function"&&this.state===A||typeof T!="function"&&this.state===R)return this;var w=new this.constructor(p);if(this.state!==j){var P=this.state===A?u:T;B(w,P,this.outcome)}else this.queue.push(new I(w,u,T));return w};function I(u,T,w){this.promise=u,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}I.prototype.callFulfilled=function(u){E.resolve(this.promise,u)},I.prototype.otherCallFulfilled=function(u){B(this.promise,this.onFulfilled,u)},I.prototype.callRejected=function(u){E.reject(this.promise,u)},I.prototype.otherCallRejected=function(u){B(this.promise,this.onRejected,u)};function B(u,T,w){v(function(){var P;try{P=T(w)}catch(F){return E.reject(u,F)}P===u?E.reject(u,new TypeError("Cannot resolve promise with itself")):E.resolve(u,P)})}E.resolve=function(u,T){var w=M(k,T);if(w.status==="error")return E.reject(u,w.value);var P=w.value;if(P)$(u,P);else{u.state=A,u.outcome=T;for(var F=-1,K=u.queue.length;++F<K;)u.queue[F].callFulfilled(T)}return u},E.reject=function(u,T){u.state=R,u.outcome=T;for(var w=-1,P=u.queue.length;++w<P;)u.queue[w].callRejected(T);return u};function k(u){var T=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof T=="function")return function(){T.apply(u,arguments)}}function $(u,T){var w=!1;function P(Q){w||(w=!0,E.reject(u,Q))}function F(Q){w||(w=!0,E.resolve(u,Q))}function K(){T(F,P)}var W=M(K);W.status==="error"&&P(W.value)}function M(u,T){var w={};try{w.value=u(T),w.status="success"}catch(P){w.status="error",w.value=P}return w}m.resolve=V;function V(u){return u instanceof this?u:E.resolve(new this(p),u)}m.reject=H;function H(u){var T=new this(p);return E.reject(T,u)}m.all=_;function _(u){var T=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=u.length,P=!1;if(!w)return this.resolve([]);for(var F=new Array(w),K=0,W=-1,Q=new this(p);++W<w;)q(u[W],W);return Q;function q(se,le){T.resolve(se).then(C,function(D){P||(P=!0,E.reject(Q,D))});function C(D){F[le]=D,++K===w&&!P&&(P=!0,E.resolve(Q,F))}}}m.race=L;function L(u){var T=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=u.length,P=!1;if(!w)return this.resolve([]);for(var F=-1,K=new this(p);++F<w;)W(u[F]);return K;function W(Q){T.resolve(Q).then(function(q){P||(P=!0,E.resolve(K,q))},function(q){P||(P=!0,E.reject(K,q))})}}},{1:1}],3:[function(a,l,f){(function(v){typeof v.Promise!="function"&&(v.Promise=a(2))}).call(this,typeof Xe<"u"?Xe:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,l,f){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function E(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var R=E();function A(){try{if(!R||!R.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function j(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(s){if(s.name!=="TypeError")throw s;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new t,c=0;c<e.length;c+=1)i.append(e[c]);return i.getBlob(n.type)}}typeof Promise>"u"&&a(3);var m=Promise;function I(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function B(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function k(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function $(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var M="local-forage-detect-blob-support",V=void 0,H={},_=Object.prototype.toString,L="readonly",u="readwrite";function T(e){for(var n=e.length,t=new ArrayBuffer(n),i=new Uint8Array(t),c=0;c<n;c++)i[c]=e.charCodeAt(c);return t}function w(e){return new m(function(n){var t=e.transaction(M,u),i=j([""]);t.objectStore(M).put(i,"key"),t.onabort=function(c){c.preventDefault(),c.stopPropagation(),n(!1)},t.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);n(s||!c||parseInt(c[1],10)>=43)}}).catch(function(){return!1})}function P(e){return typeof V=="boolean"?m.resolve(V):w(e).then(function(n){return V=n,V})}function F(e){var n=H[e.name],t={};t.promise=new m(function(i,c){t.resolve=i,t.reject=c}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function K(e){var n=H[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function W(e,n){var t=H[e.name],i=t.deferredOperations.pop();if(i)return i.reject(n),i.promise}function Q(e,n){return new m(function(t,i){if(H[e.name]=H[e.name]||ie(),e.db)if(n)F(e),e.db.close();else return t(e.db);var c=[e.name];n&&c.push(e.version);var s=R.open.apply(R,c);n&&(s.onupgradeneeded=function(d){var g=s.result;try{g.createObjectStore(e.storeName),d.oldVersion<=1&&g.createObjectStore(M)}catch(y){if(y.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw y}}),s.onerror=function(d){d.preventDefault(),i(s.error)},s.onsuccess=function(){var d=s.result;d.onversionchange=function(g){g.target.close()},t(d),K(e)}})}function q(e){return Q(e,!1)}function se(e){return Q(e,!0)}function le(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,c=e.version>e.db.version;if(i&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),c||t){if(t){var s=e.db.version+1;s>e.version&&(e.version=s)}return!0}return!1}function C(e){return new m(function(n,t){var i=new FileReader;i.onerror=t,i.onloadend=function(c){var s=btoa(c.target.result||"");n({__local_forage_encoded_blob:!0,data:s,type:e.type})},i.readAsBinaryString(e)})}function D(e){var n=T(atob(e.data));return j([n],{type:e.type})}function Y(e){return e&&e.__local_forage_encoded_blob}function me(e){var n=this,t=n._initReady().then(function(){var i=H[n._dbInfo.name];if(i&&i.dbReady)return i.dbReady});return B(t,e,e),t}function re(e){F(e);for(var n=H[e.name],t=n.forages,i=0;i<t.length;i++){var c=t[i];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null)}return e.db=null,q(e).then(function(s){return e.db=s,le(e)?se(e):s}).then(function(s){e.db=n.db=s;for(var d=0;d<t.length;d++)t[d]._dbInfo.db=s}).catch(function(s){throw W(e,s),s})}function ae(e,n,t,i){i===void 0&&(i=1);try{var c=e.db.transaction(e.storeName,n);t(null,c)}catch(s){if(i>0&&(!e.db||s.name==="InvalidStateError"||s.name==="NotFoundError"))return m.resolve().then(function(){if(!e.db||s.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),se(e)}).then(function(){return re(e).then(function(){ae(e,n,t,i-1)})}).catch(t);t(s)}}function ie(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function pe(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=e[i];var c=H[t.name];c||(c=ie(),H[t.name]=c),c.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=me);var s=[];function d(){return m.resolve()}for(var g=0;g<c.forages.length;g++){var y=c.forages[g];y!==n&&s.push(y._initReady().catch(d))}var b=c.forages.slice(0);return m.all(s).then(function(){return t.db=c.db,q(t)}).then(function(x){return t.db=x,le(t,n._defaultConfig.version)?se(t):x}).then(function(x){t.db=c.db=x,n._dbInfo=t;for(var N=0;N<b.length;N++){var U=b[N];U!==n&&(U._dbInfo.db=t.db,U._dbInfo.version=t.version)}})}function Re(e,n){var t=this;e=k(e);var i=new m(function(c,s){t.ready().then(function(){ae(t._dbInfo,L,function(d,g){if(d)return s(d);try{var y=g.objectStore(t._dbInfo.storeName),b=y.get(e);b.onsuccess=function(){var x=b.result;x===void 0&&(x=null),Y(x)&&(x=D(x)),c(x)},b.onerror=function(){s(b.error)}}catch(x){s(x)}})}).catch(s)});return I(i,n),i}function ke(e,n){var t=this,i=new m(function(c,s){t.ready().then(function(){ae(t._dbInfo,L,function(d,g){if(d)return s(d);try{var y=g.objectStore(t._dbInfo.storeName),b=y.openCursor(),x=1;b.onsuccess=function(){var N=b.result;if(N){var U=N.value;Y(U)&&(U=D(U));var G=e(U,N.key,x++);G!==void 0?c(G):N.continue()}else c()},b.onerror=function(){s(b.error)}}catch(N){s(N)}})}).catch(s)});return I(i,n),i}function O(e,n,t){var i=this;e=k(e);var c=new m(function(s,d){var g;i.ready().then(function(){return g=i._dbInfo,_.call(n)==="[object Blob]"?P(g.db).then(function(y){return y?n:C(n)}):n}).then(function(y){ae(i._dbInfo,u,function(b,x){if(b)return d(b);try{var N=x.objectStore(i._dbInfo.storeName);y===null&&(y=void 0);var U=N.put(y,e);x.oncomplete=function(){y===void 0&&(y=null),s(y)},x.onabort=x.onerror=function(){var G=U.error?U.error:U.transaction.error;d(G)}}catch(G){d(G)}})}).catch(d)});return I(c,t),c}function z(e,n){var t=this;e=k(e);var i=new m(function(c,s){t.ready().then(function(){ae(t._dbInfo,u,function(d,g){if(d)return s(d);try{var y=g.objectStore(t._dbInfo.storeName),b=y.delete(e);g.oncomplete=function(){c()},g.onerror=function(){s(b.error)},g.onabort=function(){var x=b.error?b.error:b.transaction.error;s(x)}}catch(x){s(x)}})}).catch(s)});return I(i,n),i}function X(e){var n=this,t=new m(function(i,c){n.ready().then(function(){ae(n._dbInfo,u,function(s,d){if(s)return c(s);try{var g=d.objectStore(n._dbInfo.storeName),y=g.clear();d.oncomplete=function(){i()},d.onabort=d.onerror=function(){var b=y.error?y.error:y.transaction.error;c(b)}}catch(b){c(b)}})}).catch(c)});return I(t,e),t}function be(e){var n=this,t=new m(function(i,c){n.ready().then(function(){ae(n._dbInfo,L,function(s,d){if(s)return c(s);try{var g=d.objectStore(n._dbInfo.storeName),y=g.count();y.onsuccess=function(){i(y.result)},y.onerror=function(){c(y.error)}}catch(b){c(b)}})}).catch(c)});return I(t,e),t}function _e(e,n){var t=this,i=new m(function(c,s){if(e<0){c(null);return}t.ready().then(function(){ae(t._dbInfo,L,function(d,g){if(d)return s(d);try{var y=g.objectStore(t._dbInfo.storeName),b=!1,x=y.openKeyCursor();x.onsuccess=function(){var N=x.result;if(!N){c(null);return}e===0||b?c(N.key):(b=!0,N.advance(e))},x.onerror=function(){s(x.error)}}catch(N){s(N)}})}).catch(s)});return I(i,n),i}function Ne(e){var n=this,t=new m(function(i,c){n.ready().then(function(){ae(n._dbInfo,L,function(s,d){if(s)return c(s);try{var g=d.objectStore(n._dbInfo.storeName),y=g.openKeyCursor(),b=[];y.onsuccess=function(){var x=y.result;if(!x){i(b);return}b.push(x.key),x.continue()},y.onerror=function(){c(y.error)}}catch(x){c(x)}})}).catch(c)});return I(t,e),t}function qe(e,n){n=$.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;if(!e.name)c=m.reject("Invalid arguments");else{var s=e.name===t.name&&i._dbInfo.db,d=s?m.resolve(i._dbInfo.db):q(e).then(function(g){var y=H[e.name],b=y.forages;y.db=g;for(var x=0;x<b.length;x++)b[x]._dbInfo.db=g;return g});e.storeName?c=d.then(function(g){if(g.objectStoreNames.contains(e.storeName)){var y=g.version+1;F(e);var b=H[e.name],x=b.forages;g.close();for(var N=0;N<x.length;N++){var U=x[N];U._dbInfo.db=null,U._dbInfo.version=y}var G=new m(function(J,oe){var ne=R.open(e.name,y);ne.onerror=function(he){var Ke=ne.result;Ke.close(),oe(he)},ne.onupgradeneeded=function(){var he=ne.result;he.deleteObjectStore(e.storeName)},ne.onsuccess=function(){var he=ne.result;he.close(),J(he)}});return G.then(function(J){b.db=J;for(var oe=0;oe<x.length;oe++){var ne=x[oe];ne._dbInfo.db=J,K(ne._dbInfo)}}).catch(function(J){throw(W(e,J)||m.resolve()).catch(function(){}),J})}}):c=d.then(function(g){F(e);var y=H[e.name],b=y.forages;g.close();for(var x=0;x<b.length;x++){var N=b[x];N._dbInfo.db=null}var U=new m(function(G,J){var oe=R.deleteDatabase(e.name);oe.onerror=function(){var ne=oe.result;ne&&ne.close(),J(oe.error)},oe.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},oe.onsuccess=function(){var ne=oe.result;ne&&ne.close(),G(ne)}});return U.then(function(G){y.db=G;for(var J=0;J<b.length;J++){var oe=b[J];K(oe._dbInfo)}}).catch(function(G){throw(W(e,G)||m.resolve()).catch(function(){}),G})})}return I(c,n),c}var Pe={_driver:"asyncStorage",_initStorage:pe,_support:A(),iterate:ke,getItem:Re,setItem:O,removeItem:z,clear:X,length:be,key:_e,keys:Ne,dropInstance:qe};function de(){return typeof openDatabase=="function"}var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nt="~~local_forage_type~",ue=/^~~local_forage_type~([^~]+)~/,ye="__lfsc__:",je=ye.length,Ae="arbf",Me="blob",Be="si08",Fe="ui08",$e="uic8",He="si16",Ue="si32",Z="ur16",ee="ui32",Ee="fl32",ze="fl64",Le=je+Ae.length,Je=Object.prototype.toString;function Et(e){var n=e.length*.75,t=e.length,i,c=0,s,d,g,y;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var b=new ArrayBuffer(n),x=new Uint8Array(b);for(i=0;i<t;i+=4)s=ge.indexOf(e[i]),d=ge.indexOf(e[i+1]),g=ge.indexOf(e[i+2]),y=ge.indexOf(e[i+3]),x[c++]=s<<2|d>>4,x[c++]=(d&15)<<4|g>>2,x[c++]=(g&3)<<6|y&63;return b}function ot(e){var n=new Uint8Array(e),t="",i;for(i=0;i<n.length;i+=3)t+=ge[n[i]>>2],t+=ge[(n[i]&3)<<4|n[i+1]>>4],t+=ge[(n[i+1]&15)<<2|n[i+2]>>6],t+=ge[n[i+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function dr(e,n){var t="";if(e&&(t=Je.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Je.call(e.buffer)==="[object ArrayBuffer]")){var i,c=ye;e instanceof ArrayBuffer?(i=e,c+=Ae):(i=e.buffer,t==="[object Int8Array]"?c+=Be:t==="[object Uint8Array]"?c+=Fe:t==="[object Uint8ClampedArray]"?c+=$e:t==="[object Int16Array]"?c+=He:t==="[object Uint16Array]"?c+=Z:t==="[object Int32Array]"?c+=Ue:t==="[object Uint32Array]"?c+=ee:t==="[object Float32Array]"?c+=Ee:t==="[object Float64Array]"?c+=ze:n(new Error("Failed to get type for BinaryArray"))),n(c+ot(i))}else if(t==="[object Blob]"){var s=new FileReader;s.onload=function(){var d=nt+e.type+"~"+ot(this.result);n(ye+Me+d)},s.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(d){console.error("Couldn't convert value into a JSON string: ",e),n(null,d)}}function fr(e){if(e.substring(0,je)!==ye)return JSON.parse(e);var n=e.substring(Le),t=e.substring(je,Le),i;if(t===Me&&ue.test(n)){var c=n.match(ue);i=c[1],n=n.substring(c[0].length)}var s=Et(n);switch(t){case Ae:return s;case Me:return j([s],{type:i});case Be:return new Int8Array(s);case Fe:return new Uint8Array(s);case $e:return new Uint8ClampedArray(s);case He:return new Int16Array(s);case Z:return new Uint16Array(s);case Ue:return new Int32Array(s);case ee:return new Uint32Array(s);case Ee:return new Float32Array(s);case ze:return new Float64Array(s);default:throw new Error("Unkown type: "+t)}}var st={serialize:dr,deserialize:fr,stringToBuffer:Et,bufferToString:ot};function Ct(e,n,t,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,i)}function hr(e){var n=this,t={db:null};if(e)for(var i in e)t[i]=typeof e[i]!="string"?e[i].toString():e[i];var c=new m(function(s,d){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(g){return d(g)}t.db.transaction(function(g){Ct(g,t,function(){n._dbInfo=t,s()},function(y,b){d(b)})},d)});return t.serializer=st,c}function Se(e,n,t,i,c,s){e.executeSql(t,i,c,function(d,g){g.code===g.SYNTAX_ERR?d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(y,b){b.rows.length?s(y,g):Ct(y,n,function(){y.executeSql(t,i,c,s)},s)},s):s(d,g)},s)}function mr(e,n){var t=this;e=k(e);var i=new m(function(c,s){t.ready().then(function(){var d=t._dbInfo;d.db.transaction(function(g){Se(g,d,"SELECT * FROM "+d.storeName+" WHERE key = ? LIMIT 1",[e],function(y,b){var x=b.rows.length?b.rows.item(0).value:null;x&&(x=d.serializer.deserialize(x)),c(x)},function(y,b){s(b)})})}).catch(s)});return I(i,n),i}function pr(e,n){var t=this,i=new m(function(c,s){t.ready().then(function(){var d=t._dbInfo;d.db.transaction(function(g){Se(g,d,"SELECT * FROM "+d.storeName,[],function(y,b){for(var x=b.rows,N=x.length,U=0;U<N;U++){var G=x.item(U),J=G.value;if(J&&(J=d.serializer.deserialize(J)),J=e(J,G.key,U+1),J!==void 0){c(J);return}}c()},function(y,b){s(b)})})}).catch(s)});return I(i,n),i}function It(e,n,t,i){var c=this;e=k(e);var s=new m(function(d,g){c.ready().then(function(){n===void 0&&(n=null);var y=n,b=c._dbInfo;b.serializer.serialize(n,function(x,N){N?g(N):b.db.transaction(function(U){Se(U,b,"INSERT OR REPLACE INTO "+b.storeName+" (key, value) VALUES (?, ?)",[e,x],function(){d(y)},function(G,J){g(J)})},function(U){if(U.code===U.QUOTA_ERR){if(i>0){d(It.apply(c,[e,y,t,i-1]));return}g(U)}})})}).catch(g)});return I(s,t),s}function gr(e,n,t){return It.apply(this,[e,n,t,1])}function vr(e,n){var t=this;e=k(e);var i=new m(function(c,s){t.ready().then(function(){var d=t._dbInfo;d.db.transaction(function(g){Se(g,d,"DELETE FROM "+d.storeName+" WHERE key = ?",[e],function(){c()},function(y,b){s(b)})})}).catch(s)});return I(i,n),i}function yr(e){var n=this,t=new m(function(i,c){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(d){Se(d,s,"DELETE FROM "+s.storeName,[],function(){i()},function(g,y){c(y)})})}).catch(c)});return I(t,e),t}function br(e){var n=this,t=new m(function(i,c){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(d){Se(d,s,"SELECT COUNT(key) as c FROM "+s.storeName,[],function(g,y){var b=y.rows.item(0).c;i(b)},function(g,y){c(y)})})}).catch(c)});return I(t,e),t}function xr(e,n){var t=this,i=new m(function(c,s){t.ready().then(function(){var d=t._dbInfo;d.db.transaction(function(g){Se(g,d,"SELECT key FROM "+d.storeName+" WHERE id = ? LIMIT 1",[e+1],function(y,b){var x=b.rows.length?b.rows.item(0).key:null;c(x)},function(y,b){s(b)})})}).catch(s)});return I(i,n),i}function Sr(e){var n=this,t=new m(function(i,c){n.ready().then(function(){var s=n._dbInfo;s.db.transaction(function(d){Se(d,s,"SELECT key FROM "+s.storeName,[],function(g,y){for(var b=[],x=0;x<y.rows.length;x++)b.push(y.rows.item(x).key);i(b)},function(g,y){c(y)})})}).catch(c)});return I(t,e),t}function wr(e){return new m(function(n,t){e.transaction(function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,s){for(var d=[],g=0;g<s.rows.length;g++)d.push(s.rows.item(g).name);n({db:e,storeNames:d})},function(c,s){t(s)})},function(i){t(i)})})}function _r(e,n){n=$.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var i=this,c;return e.name?c=new m(function(s){var d;e.name===t.name?d=i._dbInfo.db:d=openDatabase(e.name,"","",0),e.storeName?s({db:d,storeNames:[e.storeName]}):s(wr(d))}).then(function(s){return new m(function(d,g){s.db.transaction(function(y){function b(G){return new m(function(J,oe){y.executeSql("DROP TABLE IF EXISTS "+G,[],function(){J()},function(ne,he){oe(he)})})}for(var x=[],N=0,U=s.storeNames.length;N<U;N++)x.push(b(s.storeNames[N]));m.all(x).then(function(){d()}).catch(function(G){g(G)})},function(y){g(y)})})}):c=m.reject("Invalid arguments"),I(c,n),c}var Er={_driver:"webSQLStorage",_initStorage:hr,_support:de(),iterate:pr,getItem:mr,setItem:gr,removeItem:vr,clear:yr,length:br,key:xr,keys:Sr,dropInstance:_r};function Cr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Tt(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Ir(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Tr(){return!Ir()||localStorage.length>0}function Rr(e){var n=this,t={};if(e)for(var i in e)t[i]=e[i];return t.keyPrefix=Tt(e,n._defaultConfig),Tr()?(n._dbInfo=t,t.serializer=st,m.resolve()):m.reject()}function kr(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var s=localStorage.key(c);s.indexOf(i)===0&&localStorage.removeItem(s)}});return I(t,e),t}function Nr(e,n){var t=this;e=k(e);var i=t.ready().then(function(){var c=t._dbInfo,s=localStorage.getItem(c.keyPrefix+e);return s&&(s=c.serializer.deserialize(s)),s});return I(i,n),i}function Ar(e,n){var t=this,i=t.ready().then(function(){for(var c=t._dbInfo,s=c.keyPrefix,d=s.length,g=localStorage.length,y=1,b=0;b<g;b++){var x=localStorage.key(b);if(x.indexOf(s)===0){var N=localStorage.getItem(x);if(N&&(N=c.serializer.deserialize(N)),N=e(N,x.substring(d),y++),N!==void 0)return N}}});return I(i,n),i}function Mr(e,n){var t=this,i=t.ready().then(function(){var c=t._dbInfo,s;try{s=localStorage.key(e)}catch{s=null}return s&&(s=s.substring(c.keyPrefix.length)),s});return I(i,n),i}function Lr(e){var n=this,t=n.ready().then(function(){for(var i=n._dbInfo,c=localStorage.length,s=[],d=0;d<c;d++){var g=localStorage.key(d);g.indexOf(i.keyPrefix)===0&&s.push(g.substring(i.keyPrefix.length))}return s});return I(t,e),t}function Dr(e){var n=this,t=n.keys().then(function(i){return i.length});return I(t,e),t}function Or(e,n){var t=this;e=k(e);var i=t.ready().then(function(){var c=t._dbInfo;localStorage.removeItem(c.keyPrefix+e)});return I(i,n),i}function Pr(e,n,t){var i=this;e=k(e);var c=i.ready().then(function(){n===void 0&&(n=null);var s=n;return new m(function(d,g){var y=i._dbInfo;y.serializer.serialize(n,function(b,x){if(x)g(x);else try{localStorage.setItem(y.keyPrefix+e,b),d(s)}catch(N){(N.name==="QuotaExceededError"||N.name==="NS_ERROR_DOM_QUOTA_REACHED")&&g(N),g(N)}})})});return I(c,t),c}function jr(e,n){if(n=$.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var i=this,c;return e.name?c=new m(function(s){e.storeName?s(Tt(e,i._defaultConfig)):s(e.name+"/")}).then(function(s){for(var d=localStorage.length-1;d>=0;d--){var g=localStorage.key(d);g.indexOf(s)===0&&localStorage.removeItem(g)}}):c=m.reject("Invalid arguments"),I(c,n),c}var Br={_driver:"localStorageWrapper",_initStorage:Rr,_support:Cr(),iterate:Ar,getItem:Nr,setItem:Pr,removeItem:Or,clear:kr,length:Dr,key:Mr,keys:Lr,dropInstance:jr},Fr=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},$r=function(n,t){for(var i=n.length,c=0;c<i;){if(Fr(n[c],t))return!0;c++}return!1},Rt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Ve={},kt={},De={INDEXEDDB:Pe,WEBSQL:Er,LOCALSTORAGE:Br},Hr=[De.INDEXEDDB._driver,De.WEBSQL._driver,De.LOCALSTORAGE._driver],Qe=["dropInstance"],it=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Qe),Ur={description:"",driver:Hr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function zr(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function at(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Rt(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var Vr=function(){function e(n){p(this,e);for(var t in De)if(De.hasOwnProperty(t)){var i=De[t],c=i._driver;this[t]=c,Ve[c]||this.defineDriver(i)}this._defaultConfig=at({},Ur),this._config=at({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":v(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var i in t){if(i==="storeName"&&(t[i]=t[i].replace(/\W/g,"_")),i==="version"&&typeof t[i]!="number")return new Error("Database version must be a number.");this._config[i]=t[i]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,i,c){var s=new m(function(d,g){try{var y=t._driver,b=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){g(b);return}for(var x=it.concat("_initStorage"),N=0,U=x.length;N<U;N++){var G=x[N],J=!$r(Qe,G);if((J||t[G])&&typeof t[G]!="function"){g(b);return}}var oe=function(){for(var Ke=function(Yr){return function(){var Gr=new Error("Method "+Yr+" is not implemented by the current driver"),Nt=m.reject(Gr);return I(Nt,arguments[arguments.length-1]),Nt}},ct=0,Wr=Qe.length;ct<Wr;ct++){var lt=Qe[ct];t[lt]||(t[lt]=Ke(lt))}};oe();var ne=function(Ke){Ve[y]&&console.info("Redefining LocalForage driver: "+y),Ve[y]=t,kt[y]=Ke,d()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(ne,g):ne(!!t._support):ne(!0)}catch(he){g(he)}});return B(s,i,c),s},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,i,c){var s=Ve[t]?m.resolve(Ve[t]):m.reject(new Error("Driver not found."));return B(s,i,c),s},e.prototype.getSerializer=function(t){var i=m.resolve(st);return B(i,t),i},e.prototype.ready=function(t){var i=this,c=i._driverSet.then(function(){return i._ready===null&&(i._ready=i._initDriver()),i._ready});return B(c,t,t),c},e.prototype.setDriver=function(t,i,c){var s=this;Rt(t)||(t=[t]);var d=this._getSupportedDrivers(t);function g(){s._config.driver=s.driver()}function y(N){return s._extend(N),g(),s._ready=s._initStorage(s._config),s._ready}function b(N){return function(){var U=0;function G(){for(;U<N.length;){var J=N[U];return U++,s._dbInfo=null,s._ready=null,s.getDriver(J).then(y).catch(G)}g();var oe=new Error("No available storage method found.");return s._driverSet=m.reject(oe),s._driverSet}return G()}}var x=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=x.then(function(){var N=d[0];return s._dbInfo=null,s._ready=null,s.getDriver(N).then(function(U){s._driver=U._driver,g(),s._wrapLibraryMethodsWithReady(),s._initDriver=b(d)})}).catch(function(){g();var N=new Error("No available storage method found.");return s._driverSet=m.reject(N),s._driverSet}),B(this._driverSet,i,c),this._driverSet},e.prototype.supports=function(t){return!!kt[t]},e.prototype._extend=function(t){at(this,t)},e.prototype._getSupportedDrivers=function(t){for(var i=[],c=0,s=t.length;c<s;c++){var d=t[c];this.supports(d)&&i.push(d)}return i},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,i=it.length;t<i;t++)zr(this,it[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Kr=new Vr;l.exports=Kr},{3:3}]},{},[4])(4)})})(cr);var Ao=cr.exports;const Kt=Qr(Ao);var xe=(r=>(r[r.LOAD_NEW=1]="LOAD_NEW",r[r.LOAD_OLD=2]="LOAD_OLD",r[r.LOAD_CACHE=3]="LOAD_CACHE",r))(xe||{});class Ge{constructor(){fe(this,"_initializeCachedMessages",[]);fe(this,"_messages",[]);fe(this,"_instantMessage",[]);fe(this,"listener");fe(this,"instantListener")}get messages(){return this._messages}onMessagesChanged(o,a){this.listener=o,this.instantListener=a}addCache(o){this._initializeCachedMessages=o}addEnd(o){this._messages=Ge.unique([...this._messages,...o]),this.sortDesc()}addHead(o){this._messages=Ge.unique([...o,...this._messages]),this.sortDesc()}addOne(o){this._messages=Ge.unique([...this._messages,o]),this.sortDesc()}notify(o=1){var a;(a=this.listener)==null||a.call(this,o==3?this._initializeCachedMessages:this._messages,o)}isExist(o){return this._messages.some(a=>a.id==o.id)}get isEmpty(){return this._messages.length==0}sortDesc(){this._messages.sort((o,a)=>+o.id-+a.id)}sortAsc(){this._messages.sort((o,a)=>+a.id-+o.id)}static unique(o){const a=[];for(const l of o)a.some(f=>f.id==l.id)||a.push(l);return a}setInstantMessages(o){var a;this._instantMessage=o,(a=this.instantListener)==null||a.call(this,this._instantMessage)}}class _t{constructor(o){fe(this,"room");fe(this,"socket",Xr.getInstance());fe(this,"lastId",null);fe(this,"messageHolder",new Ge);fe(this,"chatUserService",Zr.getInstance());this.room=o,this.socket.addListener("onmessage",this.onSocketMessageCome.bind(this)),this.loadCacheMessages(),this.getInstantMessages()}onSocketMessageCome(o){const{cmd:a,data:l}=JSON.parse(o);if(a==ut.group){if(console.log("msg from group",l),l.groupId!=this.room.id)return;const f=new Ce(l);if([ve.text,ve.image,ve.tipText].includes(f.type)&&!this.messageHolder.isExist(f)){this.messageHolder.addOne(f),this.messageHolder.notify();return}}if(a==ut.customer){console.log("msg from customer",l);const f=new Ce(l);if(f.type==ve.tipText&&f.recvId==this.chatUserService.userId&&!this.messageHolder.isExist(f)){this.messageHolder.addOne(f),this.messageHolder.notify();return}if([ve.text,ve.image].includes(f.type)&&!this.messageHolder.isExist(f)){this.messageHolder.addOne(f),this.messageHolder.notify();return}}if(a==ut.kickedOut){this.onKickedOut();return}}onKickedOut(){this.socket.dispose()}onMessagesChanged(o,a){this.messageHolder.onMessagesChanged(o,a)}async loadCacheMessages(){const o=`chat_room_${this.room.id}_user_${this.chatUserService.userId}`,a=await Kt.getItem(o);this.messageHolder.addCache((a??[]).map(l=>new Ce(l))),this.messageHolder.notify(xe.LOAD_CACHE)}async saveToCaches(){const o=`chat_room_${this.room.id}_user_${this.chatUserService.userId}`;await Kt.setItem(o,this.messageHolder.messages)}async sendTextMessage(o,a=ve.text){const l=await en({content:o,groupId:this.room.id,type:a},this.room.type);this.messageHolder.addOne(l),this.messageHolder.notify()}async sendImageMessage(o){const a=await tn(o);a&&await this.sendTextMessage(JSON.stringify(a),ve.image)}async getInstantMessages(){if(this.chatUserService.isVisistor)return;const o=await rn(this.room.id);this.messageHolder.setInstantMessages(o)}dispose(){console.log("chat.base.service,","disposed"),this.outRoom(),this.socket.removeListener("onmessage",this.onSocketMessageCome)}}class Mo extends _t{constructor(){super(...arguments);fe(this,"action")}async init(){await this.getAction(),await this.loadMessagesFromApi(),this.messageHolder.notify()}async loadMessagesFromApi(){var l,f;if(!this.action)return;const a=await No({actionId:(l=this.action)==null?void 0:l.id,pageSize:20,lastId:this.lastId??null});this.messageHolder.addEnd(a),this.lastId=((f=this.messageHolder.messages[0])==null?void 0:f.id)??null}async loadPreviousMessages(){await this.loadMessagesFromApi(),this.messageHolder.notify(xe.LOAD_OLD)}async getAction(){this.action=await ko(this.room.id)}async sendTextMessage(a,l=ve.text){await super.sendTextMessage(a,l),this.action||this.getAction()}async sendImageMessage(a){await super.sendImageMessage(a),this.action||this.getAction()}async outRoom(){}}async function lr(r){return await rt(we.chatApiUrl+"/group/joinGroup?groupId="+r,{headers:{accessToken:te.chatToken()}},{})}async function Lo(r){try{return(await rt(we.chatApiUrl+"/message/group/historyPage",{headers:{accessToken:te.chatToken()}},r)).data.datas.map(a=>new Ce(a))}catch(o){return console.error(o),[]}}async function ur(r){return nn(we.chatApiUrl+"/group/quit/"+r,{headers:{accessToken:te.chatToken()}})}class Do extends _t{async init(){this.joinGroup()}async __joinGroup(){return this.chatUserService.isVisistor?qt(this.room.id):lr(this.room.id)}async joinGroup(){const{code:o,message:a}=await this.__joinGroup();if(o==604){te.navigate(-1),te.showError(a);return}o!=200&&o!=601&&te.showError(a),o==200&&this.socket.send(JSON.stringify({cmd:8})),await this.loadMessagesFromApi(),this.messageHolder.notify()}async __getMessages(){return this.chatUserService.isVisistor?on({groupId:this.room.id,pageSize:20,lastId:this.lastId??null}):Lo({groupId:this.room.id,pageSize:20,lastId:this.lastId??null})}async loadMessagesFromApi(){var a;const o=await this.__getMessages();this.messageHolder.addEnd(o),this.lastId=((a=this.messageHolder.messages[0])==null?void 0:a.id)??null}async loadPreviousMessages(){await this.loadMessagesFromApi(),this.messageHolder.notify(xe.LOAD_OLD)}async outRoom(){await ur(this.room.id),this.socket.send(JSON.stringify({cmd:8}))}}async function Oo(r){return((await vt(we.chatApiUrl+"/message/group/newMessageByLiveRoom?groupId="+r,{headers:{accessToken:te.chatToken()}})).data??[]).map(a=>new Ce(a))}async function Po({groupId:r,lastId:o}){const{data:a}=await rt(we.chatApiUrl+"/message/group/historyByLiveRoom",{headers:{accessToken:te.chatToken()}},{groupId:r,lastId:o});return(a??[]).map(l=>new Ce(l))}async function jo(r){await vt(we.chatApiUrl+"/group/groupHeart/"+r,{headers:{accessToken:te.chatToken()}})}class Bo extends _t{constructor(){super(...arguments);fe(this,"intervalHeartBeat")}init(){this.joinGroup().then(()=>{this.sendHeartBeat()})}async __joinGroup(){return this.chatUserService.isVisistor?qt(this.room.id):lr(this.room.id)}async joinGroup(){const{code:a,message:l}=await this.__joinGroup();if(a==604){te.navigate(-1),te.showError(l);return}a!=200&&a!=601&&te.showError(l),a==200&&this.socket.send(JSON.stringify({cmd:8})),await this.loadMessagesFromApi(),this.messageHolder.notify()}async sendHeartBeat(){this.intervalHeartBeat=setInterval(()=>{jo(this.room.id)},3e3)}async __getLatestMessages(){return this.chatUserService.isVisistor?sn(this.room.id):Oo(this.room.id)}async loadMessagesFromApi(){var l;const a=await this.__getLatestMessages();this.messageHolder.addEnd(a),this.lastId=((l=this.messageHolder.messages[0])==null?void 0:l.id)??null}async __getPreviousMessages(){return Po({groupId:this.room.id,lastId:this.lastId})}async loadPreviousMessages(){var l;const a=await this.__getPreviousMessages();this.messageHolder.addHead(a),this.lastId=((l=this.messageHolder.messages[0])==null?void 0:l.id)??null,this.messageHolder.notify(xe.LOAD_OLD)}onKickedOut(){super.onKickedOut(),clearInterval(this.intervalHeartBeat)}async outRoom(){await ur(this.room.id),this.socket.send(JSON.stringify({cmd:8}))}dispose(){super.dispose(),clearInterval(this.intervalHeartBeat)}}const Fo=mn(()=>cn(()=>import("./chat-menu.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)).ChatMenu,mt=an.getInstance(),$o={nickname:"",errors:{nickname:""}},Ho=(r,o)=>{switch(o.type){case"change":return r.errors[o.field]="",{...r,[o.field]:o.value};default:return r}};function es({room:r,mode:o}){var ke;const{userInfo:a}=ln(At),l=un(At),f=S.useRef(),v=S.useRef(null),[p,E]=S.useState([]),[R,A]=S.useState([]),[j,m]=S.useState(!1),[I,B]=S.useState(!1),[k,$]=S.useReducer(Ho,$o),[M,V]=S.useState(!1),[H,_]=S.useState(!1),[L,u]=S.useState(""),T=S.useRef({old:0,new:0}),w=S.useRef(!1),P=S.useRef(""),F=S.useRef(null),K=S.useRef(!0),W=async()=>{w.current=!0,f.current&&(P.current=p[0].id,await f.current.loadPreviousMessages()),setTimeout(()=>w.current=!1,200)},Q=async()=>{if(te.accessToken()){const O=await hn();O!=null&&l(O)}},q=O=>{var z;return u(O+(((z=F.current)==null?void 0:z.value)??""))},se=async({e:O,keepFocus:z=!1})=>{var be,_e;if((be=f.current)!=null&&be.chatUserService.isVisistor){te.navigate(Mt.login);return}if(a&&a.updatedNickname===0){m(!0);return}O&&O.stopPropagation&&O.stopPropagation();const X=L.trim();if(u(""),F.current&&(z&&!H?F.current.focus():F.current.blur()),X.length)try{await((_e=f.current)==null?void 0:_e.sendTextMessage(X))}catch(Ne){console.log(Ne),te.showError(Ne.message)}},le=O=>{O.key==="Enter"&&se({keepFocus:!0})},C=async O=>{var z;if(O.msgType==Lt.link){window.open(O.msgContent,"_blank");return}if(O.msgType==Lt.window)return pt.emit(gt.showInstantMessageDialog,O);_(!1);try{await((z=f.current)==null?void 0:z.sendTextMessage(O.msgContent))}catch(X){te.showError(X.message)}},D=async O=>{var z,X;if((z=f.current)!=null&&z.chatUserService.isVisistor){te.navigate(Mt.login);return}try{if(!O[0])return;await((X=f.current)==null?void 0:X.sendImageMessage(O[0])),_(!1)}catch(be){te.showError(be.message)}};function Y(){v.current&&(P.current="",v.current.scrollToBottom("smooth"),K.current=!1),r&&mt.changeUnreadCount(r,0)}const me=(O,z)=>{var X;E(O),z!=xe.LOAD_CACHE&&((X=f.current)==null||X.saveToCaches()),(z==xe.LOAD_NEW||z==xe.LOAD_CACHE)&&setTimeout(Y,200),z==xe.LOAD_OLD},re=O=>A(O),ae=()=>{f.current||(f.current&&f.current.dispose(),r.type==dt.group&&(f.current=new Do(r)),r.type==dt.customer&&(f.current=new Mo(r)),r.type==dt.chatRoom&&(f.current=new Bo(r)),f.current&&(f.current.onMessagesChanged(me,re),f.current.init()))},ie=O=>{const z=O.currentTarget.scrollTop;T.current={old:T.current.new,new:z},T.current.new<T.current.old&&z<20&&!w.current&&W()};S.useEffect(()=>(ae(),mt.onListRoomsChanged(ae),()=>{var O;mt.off(ae),(O=f.current)==null||O.dispose()}),[]),S.useEffect(()=>{var X;const O=document.getElementById("ptr__children"),z=document.getElementById(P.current);!O||!z||(X=v.current)==null||X.setScrollPos(z.offsetTop-O.offsetTop)},[p]);const pe=O=>{const{name:z,value:X}=O.target;V(!1),$({type:"change",field:z,value:X})},Re=async()=>{var O;try{if(((O=k==null?void 0:k.nickname)==null?void 0:O.length)>0){const z={nickname:k==null?void 0:k.nickname};B(!0),await fn(z),await Q(),te.showToast(We.success())}}catch{te.showError("error")}finally{B(!1),m(!1)}};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"max-w-[800px] w-full mx-auto bg-[var(--page-mob-bg)] pc:relative overflow-hidden overflow-y-auto hide-scrollbar hide-scrollbar-all grow",children:h.jsx(nr,{pullingContent:"",onRefresh:W,onBodyScroll:ie,className:"hide-scrollbar-all",ref:v,children:h.jsx("div",{className:"px-3 pb-3 hide-scrollbar-all",children:p.map((O,z)=>{var X;return h.jsx(Ro,{message:O,className:"mt-3",myId:((X=f.current)==null?void 0:X.chatUserService.userId)??-1},z)})})})}),h.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-[var(--box-bg)] pt-1",children:[R.length>0?h.jsx("div",{className:"w-screen pl-3",children:h.jsx("div",{className:"flex items-center overflow-x-auto hide-scrollbar w-full",children:R.map((O,z)=>h.jsx("div",{onClick:()=>C(O),className:"quick-chat-item text-sm rounded-full mr-3 px-5 py-2 text-nowrap whitespace-nowrap",children:O.msgHeader},"instant_msg_"+z))})}):null,h.jsxs("div",{className:"flex items-center chat-sender",children:[h.jsx("button",{onClick:()=>_(!H),className:"circle flex-center arrow",children:h.jsx(dn,{color:"var(--chat-menu-arrow-color)",name:"ic_chevon_right",className:`w-4 h-4 ${H?"rotate-90":"-rotate-90"}`})}),h.jsx("div",{className:"border border-white border-opacity-10 input-all rounded-full px-5 py-2.5 w-full ml-3 mr-4",children:h.jsx("input",{ref:F,value:L,onChange:O=>u(O.target.value),onKeyDown:le,placeholder:We.enter_the_question_to_ask(),className:"input-all w-full","data-test":"input-chat"})}),h.jsx("button",{onClick:O=>se({e:O,keepFocus:!0}),"data-test":"send-btn",className:"w-11 h-11 min-w-11 circle sender-btn flex-center",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"1.75rem",height:"1.75rem",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M29.919 6.163l-4.225 19.925c-0.319 1.406-1.15 1.756-2.331 1.094l-6.438-4.744-3.106 2.988c-0.344 0.344-0.631 0.631-1.294 0.631l0.463-6.556 11.931-10.781c0.519-0.462-0.113-0.719-0.806-0.256l-14.75 9.288-6.35-1.988c-1.381-0.431-1.406-1.381 0.288-2.044l24.837-9.569c1.15-0.431 2.156 0.256 1.781 2.013z"})})})]}),h.jsx(pn,{LazyComponent:Fo,fallback:h.jsx("div",{}),lazyComponentProps:{open:H,onClose:()=>_(!1),onSelectEmoji:O=>q(O.emoji),onSelectFile:D}})]}),h.jsx(An,{open:j,onClose:()=>m(!1),showTitle:!0,title:We.update_nickname(),className:"!m-w-[200px] !w-[80%] text-black !top-[30%] !translate-y-0 !translate-x-[-50%] flex flex-col justify-center",children:h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative p-5 pb-2 pt-5 flex flex-col items-center justify-center gap-1",children:[h.jsx("input",{disabled:I,type:"text",id:"nickname",name:"nickname",value:k.nickname,onChange:pe,placeholder:We.please_set_nickname_first(),autoComplete:"off",className:"auth input-all input-all__border mt-2 px-2 py-2 w-full"}),M&&k.errors.nickname&&h.jsx("p",{className:"error",children:k.errors.nickname}),h.jsx(Mn,{loading:I,disable:!(((ke=k==null?void 0:k.nickname)==null?void 0:ke.length)>0),title:We.update(),onClick:()=>Re(),className:"uppercase mt-7"})]})})}),h.jsx(bo,{})]})}export{es as C};
