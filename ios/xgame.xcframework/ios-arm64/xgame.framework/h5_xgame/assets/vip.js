const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./side-menu.js","./index.sdk-0.0.1.js","./index.css","./language-selector.js","./SwipeableDrawer.js","./Drawer.js","./Modal.js","./index7.js","./popover.js","./main-layout.js","./lazy-load-component.js","./main-layout.css","./chains.js","./avatar-selector.js","./useConnections.js"])))=>i.map(i=>d[i]);
import{j as e,T as a,l as U,r as _,M as P,al as J,q as $,G as C,H as R,i as Q,b as X,h as Z,g as H,aA as ee,aB as se,aC as te,aq as V,aD as ae,R as T,Y as ie,aE as le}from"./index.sdk-0.0.1.js";import{N as re}from"./normal-layout.js";import{B as W}from"./bottom-sheet.js";import{a as c,B as A}from"./vip.dto.js";import{C as ne}from"./modals.js";import{a as ce}from"./avatar-selector.js";import{B as oe}from"./main-layout.js";import{S as D,a as O}from"./swiper-react.js";import{S as de}from"./tabs.js";import{L as me}from"./popover.js";import{l as pe,L as xe}from"./lazy-load-component.js";import"./SwipeableDrawer.js";import"./Drawer.js";import"./Modal.js";import"./index7.js";function ve({currentUserVip:t,onClose:x,open:u,vipLevel:d,bonusList:g,rules:i,onClaimed:m}){const l=o=>g.find(f=>f.bonusType==o&&f.vipLevel==d),p=()=>i[d-1]??{};return e.jsx(W,{open:u,onClose:x,title:`VIP ${d} ${a.level_privileges()}`,className:"!p-0 !rounded-t-xl pc:w-[780px] pc:mx-auto",children:e.jsxs("div",{className:"grid grid-cols-2 p-3 gap-2",children:[e.jsx(N,{onClaimed:m,type:c.LEVELUP,bonus:l(c.LEVELUP),currentRule:p(),userLevel:t}),e.jsx(N,{onClaimed:m,type:c.WEEKLY,bonus:l(c.WEEKLY),currentRule:p(),userLevel:t}),e.jsx(N,{onClaimed:m,type:c.MONTHLY,bonus:l(c.MONTHLY),currentRule:p(),userLevel:t}),e.jsx(N,{onClaimed:m,type:c.BIRTHDAY,bonus:l(c.BIRTHDAY),currentRule:p(),userLevel:t})]})})}const S=[{icon:"/assets/img/vip1.png",background:["#303d00","#90b908"],progressBg:"#344303"},{icon:"/assets/img/vip2.png",background:["#004333","#09785c"],progressBg:"#014333"},{icon:"/assets/img/vip3.png",background:["#b04600","#fe7112"],progressBg:"#7d3404"},{icon:"/assets/img/vip4.png",background:["#012c89","#651ee9"],progressBg:"#131c6f"},{icon:"/assets/img/vip5.png",background:["#39096d","#9f20d5"],progressBg:"#350a59"},{icon:"/assets/img/vip6.png",background:["#820074","#ee0cb6"],progressBg:"#730461"},{icon:"/assets/img/vip7.png",background:["#06176d","#0395e9"],progressBg:"#032d69"},{icon:"/assets/img/vip8.png",background:["#700015","#fd1a4f"],progressBg:"#64061a"},{icon:"/assets/img/vip9.png",background:["#01606c","#00dbcc"],progressBg:"#035d63"}];function K({codingVol:t,deposit:x,level:u,userLevel:d,className:g="",onClick:i}){const m=()=>{if(u==d)return a.processing();if(u<d)return a.completed();if(u>d)return a.not_unlocked()};let l=0,p=0;return t[1]==0?u==9&&d==9?l=100:l=0:l=Math.min(t[0]*100/t[1],100),x[1]==0?u==9&&d==9?p=100:p=0:p=Math.min(x[0]*100/x[1],100),e.jsxs("div",{className:`vip-card rounded-3xl py-3 px-4 flex justify-between relative ${g}`,style:{background:`linear-gradient(to top right, ${S[u-1].background[0]}, ${S[u-1].background[1]})`},onClick:i,children:[e.jsxs("div",{className:"grow flex flex-col text-[#ffffff]",children:[e.jsxs("div",{className:"text-3xl font-bold",children:["VIP ",u]}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-xs text-[#ffffff80] font-bold",children:a.deposit_requirement()}),x[1]>0&&e.jsxs("span",{className:"text-xs font-bold",children:[x[0],"/",x[1]]})]}),e.jsx("div",{className:"h-2 rounded-full bg-[#344303] mt-1",children:e.jsx("div",{className:"h-2 rounded-full bg-white",style:{width:`${p}%`}})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-xs text-[#ffffff80] font-bold",children:a.bet_requirement()}),t[1]>0&&e.jsxs("span",{className:"text-xs font-bold",children:[t[0],"/",t[1]]})]}),e.jsx("div",{className:"h-2 rounded-full bg-[#344303] mt-1",children:e.jsx("div",{className:"h-2 rounded-full bg-white",style:{width:`${l}%`}})})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(U,{src:S[u-1].icon,alt:"",className:"h-[100px]"}),e.jsx("span",{className:"rounded-full bg-[#344303] px-3 py-1 mt-[-8px] text-xs text-[#ffffff90]",children:m()})]})]})}function N({bonus:t,currentRule:x,type:u,onClaimed:d,userLevel:g}){const[i,m]=_.useState(!1);let l="",p="",o=0,f=!0,y=!1;switch(u){case c.LEVELUP:l=a.up_level_bonus(),o=g<x.vipLevel?x.nbrUpgradeGift:(t==null?void 0:t.amount)??0;break;case c.WEEKLY:l=a.weekly_bonus(),o=(t==null?void 0:t.amount)??x.nbrLucky??0;break;case c.MONTHLY:l=a.monthly_bonus(),o=(t==null?void 0:t.amount)??x.nbrMonth??0;break;case c.BIRTHDAY:l=a.birthday_bonus(),o=(t==null?void 0:t.amount)??x.nbrBirthday??0;break}f=!t||x.vipLevel>g,(t==null?void 0:t.status)==A.CLAIMED?(p=a.received(),y=!0):(t==null?void 0:t.status)==A.UNCLAIM?p=a.receive():p=a.to_be_unlocked(),!o&&x.vipLevel<=g&&(p=a.received(),f=!1,y=!0);const n=async()=>{if((t==null?void 0:t.status)==A.UNCLAIM&&o>0){m(!0);try{await J(t.bonusId),$.emit(C.onClaimBonus)}catch{}m(!1),d()}};return e.jsxs("div",{className:"rounded-lg p-2",style:{backgroundImage:"var(--vip-privilege-bg)"},children:[e.jsxs("div",{className:"text-xl flex justify-center items-end font-bold text-[var(--vip-tab-text)]",children:[o," ",e.jsx("span",{className:"text-base font-normal",children:"$"})]}),e.jsx("div",{className:"text-[var(--vip-privilege-hint)] text-sm text-center",children:l}),e.jsxs("button",{onClick:i?()=>{}:n,className:`rounded-lg bg-transparent border  w-full  py-0.5 mt-2 flex items-center justify-center gap-2 ${f||y?"text-[var(--vip-privilege-inactive)] border-[var(--vip-privilege-inactive)]":"text-[var(--vip-privilege-active)] border-[var(--vip-privilege-active)]"}`,children:[f&&e.jsx(P,{name:"ic_lock",color:"var(--vip-privilege-inactive)",className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-sm font-semibold",children:p}),i&&e.jsx("div",{className:"loader2 self-center w-3"})]})]})}function ue({open:t,onClose:x,rules:u,userInfo:d,extInfo:g,bonusList:i,onClaimed:m}){var M;const[l,p]=_.useState(-1),o=(d==null?void 0:d.vipLevel)??0,f=b=>{if(l>0){b.stopPropagation();return}x()},y=R.isPC()?ge:ve,n=(M=document.querySelector('div[data-query="main-content-view"]'))==null?void 0:M.getBoundingClientRect(),w=(n==null?void 0:n.width)??500,k=n==null?void 0:n.left;return e.jsx(W,{open:t,onClose:x,title:"",showTitle:!1,className:"!rounded-none !mt-0 overflow-hidden !bg-[var(--page-mob-bg)]",children:e.jsxs("div",{onClick:f,children:[e.jsxs("div",{className:"flex flex-col px-4 rounded-t-lg",style:{height:window.innerHeight,maxWidth:w,marginLeft:k},onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"relative rounded-full w-full py-3",children:[e.jsx("div",{className:"text-center text-lg font-semibold",children:a.vip_task_list()}),e.jsx(P,{name:"ic_chevon_right",color:"var(--main-text)",className:"w-4 h-4 absolute right-3 top-4 rotate-90",onClick:x})]}),e.jsx("div",{className:"overflow-y-auto grow hide-scrollbar flex flex-col gap-3 pb-3",children:u.map((b,B)=>{const E=(g==null?void 0:g.rechMoney)??0;let L=(d==null?void 0:d.cycleBetAmount)??0;const s=u[B+1];b.vipLevel==o+1&&(L=Math.min(L,(s==null?void 0:s.betMoney)??0)),b.vipLevel<o+1&&(L=(s==null?void 0:s.betMoney)??0),b.vipLevel>o+1&&(L=0);const r=(s==null?void 0:s.betMoney)??0,v=(s==null?void 0:s.rechargeAmount)??0;return e.jsx(K,{codingVol:[L,r],deposit:[E,v],level:b.vipLevel,userLevel:o,onClick:()=>p(b.vipLevel)},`vip_${B+1}`)})})]}),e.jsx(y,{bonusList:i,currentUserVip:o,onClaimed:m,onClose:b=>{p(-1),b.stopPropagation()},open:l>-1,rules:u,vipLevel:l})]})})}function ge({currentUserVip:t,onClose:x,open:u,vipLevel:d,bonusList:g,rules:i,onClaimed:m}){var y;const l=n=>g.find(w=>w.bonusType==n&&w.vipLevel==d),p=()=>i[d-1],o=(y=document.querySelector('div[data-query="main-content-view"]'))==null?void 0:y.getBoundingClientRect(),f=((o==null?void 0:o.left)??0)+((o==null?void 0:o.width)??0)/2;return e.jsx(ne,{open:u,onClose:x,title:`VIP ${d} ${a.level_privileges()}`,className:"!w-[95%] !top-[200px] !translate-y-0 !translate-x-[-50%] !pb-3",customStyles:{maxWidth:600,left:f},children:e.jsxs("div",{className:"grid grid-cols-2 p-3 pb-0 gap-2 ",children:[d>0&&e.jsx(N,{onClaimed:m,type:c.LEVELUP,bonus:l(c.LEVELUP),currentRule:p(),userLevel:t}),e.jsx(N,{onClaimed:m,type:c.WEEKLY,bonus:l(c.WEEKLY),currentRule:p(),userLevel:t}),e.jsx(N,{onClaimed:m,type:c.MONTHLY,bonus:l(c.MONTHLY),currentRule:p(),userLevel:t}),e.jsx(N,{onClaimed:m,type:c.BIRTHDAY,bonus:l(c.BIRTHDAY),currentRule:p(),userLevel:t})]})})}const he=pe(()=>le(()=>import("./side-menu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)).SideMenu;function Te(){var L;const{setSelectedMenu:t}=Q(),[x,u]=_.useState(!1),[d,g]=_.useState(1),{userInfo:i,extInfo:m}=X(Z),[l,p]=H(ee),[o,f]=H(se),y=_.useRef(null),n=(i==null?void 0:i.vipLevel)??0,w=s=>{var r;(r=y.current)==null||r.swiper.slideTo(s-1),g(s)},k=()=>l[(n||1)-1],M=s=>{const r=l[s-1],v=[{name:a.weekly_bonus(),value:(r==null?void 0:r.nbrLucky)??0},{name:a.monthly_bonus(),value:r==null?void 0:r.nbrMonth},{name:a.birthday_bonus(),value:(r==null?void 0:r.nbrBirthday)??0}];return s>0&&v.unshift({name:a.up_level_bonus(),value:(r==null?void 0:r.nbrUpgradeGift)??0}),v},b=s=>{const r=l[s-1],v=l[s];if(s==9)return[{name:a.relegation_requirements(),value:(r==null?void 0:r.note)??0}];const h=[{name:a.deposit_requirement(),value:(v==null?void 0:v.rechargeAmount)??0},{name:a.bet_requirement(),value:(v==null?void 0:v.betMoney)??0}];return s>0&&h.push({name:a.relegation_requirements(),value:Number((r==null?void 0:r.note)??0)}),h},B=(s,r)=>o.find(v=>v.bonusType==s&&(r??v.vipLevel==r)),E=()=>{V({isActive:!0,includeUsed:!0}).then(s=>f(s.data)),R.showToast(a.received_successfull()),$.emit(C.checkMoney)};return _.useEffect(()=>{l.length==0&&te().then(s=>{p(s)}),i!=null&&i.account||$.emit(C.refreshUserInfo)},[]),_.useEffect(()=>{!(i!=null&&i.account)||o.length>0||(w(n||1),V({isActive:!0,includeUsed:!0}).then(s=>f(s.data)))},[i]),_.useEffect(()=>{t(ae.VIP)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(re,{onBack:()=>R.navigate(T.home),title:"VIP",enableMenu:!0,className:"bg-[url('/assets/img/vip_bg.png')] bg-no-repeat bg-contain",headerClasses:"bg-[transparent]",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-hidden overflow-y-auto hide-scrollbar h-full pb-3",children:l.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 px-7",children:[e.jsx("div",{className:"w-10 h-10 circle bg-[var(--active)] flex-center",children:e.jsx(U,{src:((L=ce.find(s=>s.id==(i==null?void 0:i.avatarId)))==null?void 0:L.value)??"/assets/img/avatar/no.webp",alt:"",className:"w-10 h-10 circle"})}),i!=null&&i.account?e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"text-lg",children:i==null?void 0:i.account}),e.jsxs("div",{className:"bg-[var(--active)] text-black rounded-full px-2 h-[20px] flex items-center justify-center text-sm font-bold",children:["Vip ",n]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsxs("span",{className:"text-[#65703b]",children:[a.current_deposit(),":"]}),e.jsx("span",{className:"text-sm pl-2",children:(m==null?void 0:m.rechMoney)??0}),e.jsxs("span",{className:"text-[#65703b] pl-3",children:[a.current_bet_amount(),":"]}),e.jsx("span",{className:"text-sm pl-2",children:(i==null?void 0:i.cycleBetAmount)??0})]})]}):e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"font-semibold",onClick:()=>R.navigate(T.login),children:a.login()}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-semibold",onClick:()=>R.navigate(T.signup),children:a.sign_up()})]})]}),e.jsx(D,{className:"vip-swiper",centeredSlides:!0,initialSlide:Math.min(n,8),children:l.map((s,r)=>{var q,Y;const v=(m==null?void 0:m.rechMoney)??0;let h=(i==null?void 0:i.cycleBetAmount)??0;const z=((q=S[s.vipLevel-2])==null?void 0:q.background[1])??"transparent",G=((Y=S[s.vipLevel])==null?void 0:Y.background[0])??"transparent",j=l[r+1];s.vipLevel==n+1&&(h=Math.min(h,(j==null?void 0:j.betMoney)??0)),s.vipLevel<n+1&&(h=(j==null?void 0:j.betMoney)??0),s.vipLevel>n+1&&(h=0);const F=(j==null?void 0:j.betMoney)??0,I=(j==null?void 0:j.rechargeAmount)??0;return e.jsx(O,{children:e.jsxs("div",{className:"mt-4 relative px-4 mx-1",onClick:()=>u(!0),children:[e.jsx("div",{className:"absolute left-0 top-1/2 translate-y-[-50%] bg-gradient-to-r from-[#26001b] to-[#09765b] w-full h-[90%] rounded-2xl",style:{backgroundImage:`linear-gradient(to right, ${z}, ${G}`}}),e.jsx(K,{codingVol:[h,F],deposit:[v,I],level:s.vipLevel,userLevel:n,onClick:()=>u(!0),className:""},`vip_${r+1}`)]})},r)})}),e.jsxs("div",{className:"pt-5",children:[k()&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"h-[30px] flex",children:[e.jsxs("span",{className:"pl-4 pr-3 h-full flex items-end font-semibold text-[var(--vip-tab-text)] bg-[var(--vip-tab-bg)] rounded-tl-2xl",children:["VIP ",n||1," ",a.level_privileges()]}),e.jsx(P,{color:"var(--vip-tab-bg)",name:"ic_tab",className:"w-[28px] h-[30px]"})]}),e.jsxs("div",{className:"grid grid-cols-2 p-3 gap-2 mt-[-1px]",style:{background:"var(--vip-section-bg)"},children:[e.jsx(N,{onClaimed:E,type:c.LEVELUP,bonus:B(c.LEVELUP,n),currentRule:k(),userLevel:n}),e.jsx(N,{onClaimed:E,type:c.WEEKLY,bonus:B(c.WEEKLY,n),currentRule:k(),userLevel:n}),e.jsx(N,{onClaimed:E,type:c.MONTHLY,bonus:B(c.MONTHLY,n),currentRule:k(),userLevel:n}),e.jsx(N,{onClaimed:E,type:c.BIRTHDAY,bonus:B(c.BIRTHDAY,n),currentRule:k(),userLevel:n})]})]}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("div",{className:"h-[30px] flex",children:[e.jsxs("span",{className:"pl-4 pr-3 h-full flex items-end font-semibold text-[var(--vip-tab-text)] bg-[var(--vip-tab-bg)] rounded-tl-2xl",children:["VIP ",a.privileges()]}),e.jsx(P,{color:"var(--vip-tab-bg)",name:"ic_tab",className:"w-[28px] h-[30px]"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar py-2 px-3 mt-[-1px]",style:{background:"linear-gradient(to bottom, var(--vip-tab-bg), transparent)"},children:l.length>0&&e.jsx(de,{className:"gap-2",tabs:l.map(s=>`VIP${s.vipLevel}`),onChange:s=>w(s+1),selected:d-1,itemClassName:"text-sm leading-[14px] rounded-full w-14 min-w-14 py-1 flex items-center justify-center text-center bg-[var(--vip-chip-bg)] text-[var(--vip-chip-text)]",selectedItemClassName:"!text-[var(--active)]"})}),e.jsx(D,{centeredSlides:!0,initialSlide:n-1,onActiveIndexChange:s=>{g(s.activeIndex+1)},ref:y,children:l.map((s,r)=>e.jsxs(O,{children:[e.jsx("div",{className:"text-[var(--text-content-color)] px-3 mt-1",children:a.exclusive_gift_money()}),e.jsx("div",{className:"px-3",children:M(s.vipLevel).map((v,h)=>e.jsxs("div",{className:`px-3 py-2 text-sm flex items-center justify-between ${h%2==0?"bg-[var(--vip-rule2-bg)]":"bg-[var(--vip-rule1-bg)]"} ${h==0?"rounded-t-md":""} ${h==M.length-1?"rounded-b-md":""}`,children:[e.jsx("span",{className:"text-[#717175] w-1/2 ",children:v.name}),e.jsxs("span",{className:"text-center w-1/2",children:["$",v.value]})]},v.name))}),e.jsx("div",{className:"text-[var(--text-content-color)] mt-3 px-3",children:a.level_requirements()}),e.jsx("div",{className:"px-3",children:b(s.vipLevel).map((v,h)=>e.jsxs("div",{className:`px-3 py-2 text-sm flex items-center justify-between ${h%2==0?"bg-[var(--vip-rule2-bg)]":"bg-[var(--vip-rule1-bg)]"} ${h==0?"rounded-t-md":""} ${h==b.length-1?"rounded-b-md":""}`,children:[e.jsx("span",{className:"text-[var(--vip-rule2-text)] w-1/2 ",children:v.name}),e.jsxs("span",{className:"text-center w-1/2",children:["$",v.value]})]},v.name))})]},`privileges_${r}`))})]}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"h-[30px] flex",children:[e.jsx("span",{className:"pl-4 pr-3 h-full flex items-end font-semibold text-[var(--vip-tab-text)] bg-[var(--vip-tab-bg)] rounded-tl-2xl",children:a.vip_rules()}),e.jsx(P,{color:"var(--vip-tab-bg)",name:"ic_tab",className:"w-[28px] h-[30px]"})]}),e.jsxs("div",{className:"px-3 pt-3 mt-[-1px]",style:{background:"var(--vip-section-bg)"},children:[e.jsx("div",{className:"text-[var(--vip-rule2-title)]",children:a.promotion_conditions()}),e.jsx("p",{className:"text-sm text-[var(--vip-rule2-text)]",children:a.promotion_conditions_note()}),e.jsx("div",{className:"text-[var(--vip-rule2-title)] mt-3",children:a.relegation_requirements()}),e.jsx("p",{className:"text-sm text-[var(--vip-rule2-text)]",children:a.relegation_requirements_note1()}),e.jsx("p",{className:"text-sm text-[var(--vip-rule2-text)] py-3",children:a.relegation_requirements_note2()}),e.jsx("p",{className:"text-sm text-[var(--vip-rule2-text)]",children:a.relegation_requirements_note3()})]}),e.jsx(me,{className:"mx-auto mb-10 mt-12 w-[150px]",index:"3"})]})]}),i&&m&&e.jsx(ue,{open:x,onClose:()=>u(!1),rules:l,userInfo:i,extInfo:m,bonusList:o,onClaimed:E})]})}),l.length==0&&e.jsx(ie,{className:"mt-0 grow"}),e.jsx("div",{className:"pc:hidden",children:e.jsx(xe,{LazyComponent:he,fallback:e.jsx("div",{}),lazyComponentProps:{}})})]})}),e.jsx(oe,{})]})}export{Te as VipScreen};
