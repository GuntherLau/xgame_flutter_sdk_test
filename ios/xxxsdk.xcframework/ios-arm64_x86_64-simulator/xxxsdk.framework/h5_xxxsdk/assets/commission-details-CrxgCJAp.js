import{R as w,v as Y,r as l,aa as i,j as e,N as M,T as r,M as R,Z as o,aT as C,cV as S,c as y}from"./index-BRyeyo8a.js";function _(){var m,u,x;const{extInfo:a}=w(Y),[c,h]=l.useState(i(new Date).format("YYYY-MM-DD")),[j,d]=l.useState(!1),[t,p]=l.useState(null),v=()=>{const n=((t==null?void 0:t.rwReports)??[]).map(s=>({currency:s.currency,amount:s.rechMoney}));return o.convertToSystemCurrency(n)},b=()=>{const n=((t==null?void 0:t.busDayReportDl)??[]).map(s=>({currency:s.currency,amount:s.liveBetReport.bettingMoney+s.ftBetReport.bettingMoney+s.cpBetReport.bettingMoney}));return o.convertToSystemCurrency(n)},f=()=>{const n=((t==null?void 0:t.busDayReportDl)??[]).map(s=>({currency:s.currency,amount:s.dlDayWage+s.dlBonuus}));return o.convertToSystemCurrency(n)},D=n=>{d(!1);const s=i(n).format("YYYY-MM-DD");s!==c&&h(s)},N=()=>{const n=new Date(c);n.setHours(23,59,59,999);const s=new Date(c);s.setHours(0,0,0,0),S({userId:a.userId,beginDate:y(s),endDate:y(n)}).then(g=>p(g))};return l.useEffect(()=>{a!=null&&a.userId&&N()},[c,a==null?void 0:a.userId]),e.jsx(M,{title:r.commission_details(),className:"max-w-[800px] mx-auto",hideRightEl:!0,children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"flex gap-3 pb-2.5 bm-3",children:e.jsxs("div",{onClick:()=>d(!0),className:"min-w-[150px] flex items-center justify-between gap-3 text-sm text-[var(--text-content-color)] px-3 bg-[var(--agent-searchbox-bg)] rounded-full py-2",children:[c," ",e.jsx(R,{color:"#4b4b52",name:"ic_arrow_down",className:"w-2.5 h-2.5"})]})}),e.jsxs("div",{className:"rounded-md bg-[var(--box-bg)] text-xs text-[#69696e] p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xl text-[var(--active)]",children:["+",f()," ",e.jsx("span",{className:"text-xs",children:(m=o.defaultCurrency)==null?void 0:m.currency})]}),e.jsx("div",{className:"text-[#e5c36f] text-sm",children:r.settlement_successful()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-[#]",children:[e.jsx("div",{children:r.get_commission()}),e.jsx("div",{children:i(new Date).format("YYYY-MM-DD HH:mm:ss")})]}),e.jsx("div",{className:"h-[1px] w-full bg-[var(--box-separator)] my-2"}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx("div",{children:r.deposit_amount()}),e.jsxs("div",{className:"text-base text-[#d3d3d3] mb-1",children:[v()," ",e.jsx("span",{className:"text-xs",children:(u=o.defaultCurrency)==null?void 0:u.currency})]}),e.jsx("div",{children:r.number_of_bettors()}),e.jsx("div",{className:"text-base text-[#d3d3d3]",children:t==null?void 0:t.userBetCount})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx("div",{children:r.bet_amount()}),e.jsxs("div",{className:"text-base text-[#d3d3d3] mb-1",children:[b()," ",e.jsx("span",{className:"text-xs",children:(x=o.defaultCurrency)==null?void 0:x.currency})]}),e.jsx("div",{children:r.statistics_time()}),e.jsx("div",{className:"text-base text-[#d3d3d3]",children:i(new Date).format("YYYY-MM-DD HH:mm:ss")})]})]})]}),e.jsx(C,{isOpen:j,initialDate:i(c).toDate(),onCancel:()=>d(!1),onConfirm:D,maxDate:new Date})]})})}export{_ as CommissionDetails};
