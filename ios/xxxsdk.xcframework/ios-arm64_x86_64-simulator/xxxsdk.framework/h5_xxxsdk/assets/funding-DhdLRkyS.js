import{u as N,S as y,r as c,i as C,H as S,f as D,j as e,k as v,M as i,h as E,T as b,c as g,N as O,al as V}from"./index-BRyeyo8a.js";import{C as W}from"./currency-selector-CI5Ibmdo.js";import{T as I,a as q,F as k,b as Q,c as H}from"./common-BzoKyodQ.js";import{B as L,D as $,W as F,E as A,C as R,g as _}from"./funding-item-BeAwBoRX.js";function B(){var d,u;const p=N(),r=new y(p.search),[t,h]=c.useState(r.findNumber("time",1)),[n,x]=c.useState(r.findNumber("filter",I.ALL)),[l,f]=c.useState([]),o=C(),s=q(),m=async()=>{try{const a=new Date;a.setHours(23,59,59,999);const w=new Date(a);w.setDate(a.getDate()-t+1),w.setHours(0,0,0,0);const j={page:1,rows:30,dateFromIso:g(w),dateToIso:g(a),transferType:n},T=await _(j);f(T.data)}catch(a){console.log(a)}};return c.useEffect(()=>{r.setVal("time",t),r.setVal("filter",n),S.navigate(`${D.fundingHistory}${r.toSearchQuery()}`,{replace:!0}),m()},[t,n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-3 flex gap-3",children:[e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(d=o.find(a=>a.value==t))==null?void 0:d.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:o.map(a=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(a.value),children:[e.jsx("span",{className:`${a.value==t?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==t&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))}),e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52] text-nowrap whitespace-nowrap overflow-hidden text-ellipsis ",children:(u=s.find(a=>a.value==n))==null?void 0:u.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3 shrink-0"})]}),children:s.map(a=>e.jsxs("div",{onClick:()=>x(a.value),className:"flex items-center justify-between px-4 py-2",children:[e.jsx("span",{className:`${a.value==n?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==n&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))})]}),e.jsxs("div",{className:"py-3 flex grow flex-col gap-2",children:[l.length==0?e.jsx(E,{className:"grow"}):l.map(a=>a.bonusClassify==3||a.bonusClassify==4?e.jsx(L,{item:a},a.id):a.type==k.DEPOSIT?e.jsx($,{item:a},a.id):a.type==k.WITHDRAW?e.jsx(F,{item:a},a.id):a.type==k.EXCHANGE?e.jsx(A,{item:a},a.id):e.jsx(R,{item:a},a.id)),l.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function M(){var d,u;const p=N(),r=new y(p.search),[t,h]=c.useState(r.findNumber("time",1)),[n,x]=c.useState(r.findNumber("filter",-1)),[l,f]=c.useState([]),o=C(),s=Q(),m=async()=>{try{const a=new Date;a.setHours(23,59,59,999);const w=new Date(a);w.setDate(a.getDate()-t+1),w.setHours(0,0,0,0);const j={page:1,rows:30,dateFromIso:g(w),dateToIso:g(a),transferType:I.DEPOSIT};n!=-1&&(j.status=n);const T=await _(j);f(T.data)}catch(a){console.log(a)}};return c.useEffect(()=>{r.setVal("time",t),r.setVal("filter",n),S.navigate(`${D.fundingHistory}${r.toSearchQuery()}`,{replace:!0}),m()},[t,n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-3 flex gap-3",children:[e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(d=o.find(a=>a.value==t))==null?void 0:d.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:o.map(a=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(a.value),children:[e.jsx("span",{className:`${a.value==t?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==t&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))}),e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52] text-nowrap whitespace-nowrap overflow-hidden text-ellipsis ",children:(u=s.find(a=>a.value==n))==null?void 0:u.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3 shrink-0"})]}),children:s.map(a=>e.jsxs("div",{onClick:()=>x(a.value),className:"flex items-center justify-between px-4 py-2",children:[e.jsx("span",{className:`${a.value==n?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==n&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))})]}),e.jsxs("div",{className:"py-3 flex flex-col grow gap-2",children:[l.length==0?e.jsx(E,{className:"grow"}):l.map(a=>e.jsx($,{item:a},a.id)),l.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function P(){var d,u;const p=N(),r=new y(p.search),[t,h]=c.useState(r.findNumber("time",1)),[n,x]=c.useState(r.findNumber("filter",-1)),[l,f]=c.useState([]),o=C(),s=H(),m=async()=>{try{const a=new Date;a.setHours(23,59,59,59);const w=new Date(a);w.setDate(a.getDate()-t+1),w.setHours(0,0,0,0);const j={page:1,rows:30,dateFromIso:g(w),dateToIso:g(a),transferType:I.WITHDRAW};n!=-1&&(j.status=n);const T=await _(j);f(T.data)}catch(a){console.log(a)}};return c.useEffect(()=>{r.setVal("time",t),r.setVal("filter",n),S.navigate(`${D.fundingHistory}${r.toSearchQuery()}`,{replace:!0}),m()},[t,n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"py-3 flex gap-3",children:[e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(d=o.find(a=>a.value==t))==null?void 0:d.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:o.map(a=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(a.value),children:[e.jsx("span",{className:`${a.value==t?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==t&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))}),e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52] text-nowrap whitespace-nowrap overflow-hidden text-ellipsis ",children:(u=s.find(a=>a.value==n))==null?void 0:u.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3 shrink-0"})]}),children:s.map(a=>e.jsxs("div",{onClick:()=>x(a.value),className:"flex items-center justify-between px-4 py-2",children:[e.jsx("span",{className:`${a.value==n?"text-[var(--active)] font-semibold":""}`,children:a.name}),a.value==n&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},a.name))})]}),e.jsxs("div",{className:"py-3 flex flex-col gap-2 grow",children:[l.length==0?e.jsx(E,{className:"grow"}):l.map(a=>e.jsx(F,{item:a},a.id)),l.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function G(){var o;const p=N(),r=new y(p.search),[t,h]=c.useState(r.findNumber("time",1)),[n,x]=c.useState([]),l=C();H();const f=async()=>{try{const s=new Date;s.setHours(23,59,59,59);const m=new Date(s);m.setDate(s.getDate()-t+1),m.setHours(0,0,0,0);const d={page:1,rows:30,dateFromIso:g(m),dateToIso:g(s),transferType:I.COMMISSION},u=await _(d);x(u.data)}catch(s){console.log(s)}};return c.useEffect(()=>{r.setVal("time",t),S.navigate(`${D.fundingHistory}${r.toSearchQuery()}`,{replace:!0}),f()},[t]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"py-3 flex gap-3",children:e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(o=l.find(s=>s.value==t))==null?void 0:o.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:l.map(s=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(s.value),children:[e.jsx("span",{className:`${s.value==t?"text-[var(--active)] font-semibold":""}`,children:s.name}),s.value==t&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},s.name))})}),e.jsxs("div",{className:"py-3 flex flex-col gap-2 grow",children:[n.length==0?e.jsx(E,{className:"grow"}):n.map(s=>e.jsx(R,{item:s},s.id)),n.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function U(){var o;const p=N(),r=new y(p.search),[t,h]=c.useState(r.findNumber("time",1)),[n,x]=c.useState([]),l=C();H();const f=async()=>{try{const s=new Date;s.setHours(23,59,59,59);const m=new Date(s);m.setDate(s.getDate()-t+1),m.setHours(0,0,0,0);const d={page:1,rows:30,dateFromIso:g(m),dateToIso:g(s),transferType:I.BONUS},u=await _(d);x(u.data)}catch(s){console.log(s)}};return c.useEffect(()=>{r.setVal("time",t),S.navigate(`${D.fundingHistory}${r.toSearchQuery()}`,{replace:!0}),f()},[t]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"py-3 flex gap-3",children:e.jsx(v,{actionELClassName:"w-1/2",className:"anchor-arrow-top-right",actionEL:e.jsxs("button",{className:"rounded-full px-3 py-1 border border-[var(--box-separator)] w-full flex items-center justify-between",style:{backgroundImage:"var(--selector-bg)"},children:[e.jsx("span",{className:"text-[#4b4b52]",children:(o=l.find(s=>s.value==t))==null?void 0:o.name}),e.jsx(i,{color:"#4b4b52",name:"ic_arrow_down",className:"w-3 h-3"})]}),children:l.map(s=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",onClick:()=>h(s.value),children:[e.jsx("span",{className:`${s.value==t?"text-[var(--active)] font-semibold":""}`,children:s.name}),s.value==t&&e.jsx(i,{color:"var(--active)",name:"ic_tick",className:"w-5 h-5"})]},s.name))})}),e.jsxs("div",{className:"py-3 flex flex-col gap-2 grow",children:[n.length==0?e.jsx(E,{className:"grow"}):n.map(s=>e.jsx(L,{item:s},s.id)),n.length>0&&e.jsx("div",{className:"mt-8 text-sm text-[#444547] text-center",children:b.show_all()})]})]})}function Y(){const p=N(),r=new y(p.search),[t,h]=c.useState(r.findNumber("tab",0)),[n,x]=c.useState(!1),l=o=>{r.setVal("tab",o),r.del("filter"),S.navigate(`${D.fundingHistory}${r.toSearchQuery()}`,{replace:!0}),h(o)},f=[b.all(),b.deposit(),b.withdrawal(),b.event_bonus(),b.agent_bonus()];return e.jsx(O,{title:b.fundings(),className:"max-w-[800px] mx-auto ",hideRightEl:!0,tabEl:e.jsx(V,{onChange:l,selected:t,tabs:f,className:"px-2 sticky top-0 py-1 gap-2",itemClassName:"fundings-tab",selectedItemClassName:"tab-active"}),children:e.jsxs("div",{className:"flex flex-col p-3 overflow-hidden overflow-y-auto hide-scrollbar h-full grow",children:[t==0&&e.jsx(B,{}),t==1&&e.jsx(M,{}),t==2&&e.jsx(P,{}),t==3&&e.jsx(U,{}),t==4&&e.jsx(G,{}),e.jsx(W,{onChange:()=>{},onClose:()=>x(!1),open:n})]})})}export{Y as FundingHistory};
