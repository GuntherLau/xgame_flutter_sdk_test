import{U as b,r as l,l as d,G as h,H as o,f as v,j as a,N as f,T as t,M as n,W as j,L as u}from"./index-BRyeyo8a.js";import{c as N}from"./deposit-DeSSEGEb.js";function y(){var r,x;const{orderId:c}=b(),[e,m]=l.useState(null);l.useEffect(()=>{const s=setInterval(async()=>{i()},3e3);return()=>clearInterval(s)},[]);const i=async()=>{try{const s=await N({page:1,rows:1,orderNo:c});s&&s.id&&m(s)}catch(s){console.log(s)}};return l.useEffect(()=>{(e==null?void 0:e.status)==3&&(d.emit(h.refreshUserInfo),o.navigate(v.walletToken,{replace:!0})),(e==null?void 0:e.status)==4&&o.navigate("/deposit/failed",{replace:!0})},[e]),a.jsx(f,{title:t.recharge_details(),className:"max-w-[800px] mx-auto ",children:e&&c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col justify-center items-center pt-10",children:[a.jsx("div",{className:"p-6 bg-[var(--active)] rounded-full",children:a.jsx(n,{color:"#000000",name:"ic_white_history_icon",className:"w-[52px] h-[52px]"})}),a.jsx("span",{className:"text-xl text-[var(--active)] mt-3",children:t.order_in_progress()})]}),a.jsxs("div",{className:"w-full px-3  mt-[9vh] flex flex-col gap-4",children:[a.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[a.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.recharge_amount()}),a.jsx("span",{className:"text-[var(--active)]",children:(e==null?void 0:e.amount)==0?"< 0.0001":`+${e==null?void 0:e.amount}`}),a.jsx("span",{className:"ml-1",children:e==null?void 0:e.currency})]}),a.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[a.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.discount_amount()}),a.jsxs("span",{className:"text-[var(--active)]",children:["+",e==null?void 0:e.discountAmount]}),a.jsx("span",{className:"ml-1",children:e==null?void 0:e.currency})]}),a.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[a.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.order_number()}),a.jsxs("div",{className:"flex  max-w-[65%] items-center gap-2",children:[a.jsx("label",{className:"overflow-hidden overflow-ellipsis w-full",children:e==null?void 0:e.orderNo})," ",a.jsx(n,{onClick:()=>o.copy((e==null?void 0:e.orderNo)??""),color:"var(--text-color)",name:"ic_copy",className:"w-3.5 h-3.5"})]})]}),((e==null?void 0:e.payTypeName)||(e==null?void 0:e.payType))&&a.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[a.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.recharge_methods()}),a.jsx("span",{className:"",children:(e==null?void 0:e.payTypeName)||(e==null?void 0:e.payType)})]}),a.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[a.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.recharge_time()}),(e==null?void 0:e.addTime)&&a.jsx("span",{className:"",children:j(new Date(e==null?void 0:e.addTime))})]}),(e==null?void 0:e.remarks)&&a.jsxs("div",{className:"flex pb-2 border-b-[1px] justify-between border-b-[var(--box-separator)]",children:[a.jsx("span",{className:"text-[var(--text-content-color)] grow text-sm",children:t.remark()}),a.jsx("span",{className:"font-medium mr-1 text-ellipsis overflow-hidden",children:(x=(r=e==null?void 0:e.remarks)==null?void 0:r.split("ï¼š"))==null?void 0:x.pop()})]})]})]}):a.jsx(u,{className:"grow"})})}export{y as RechargeDetailView};
