import{aJ as h,R as j,v as N,A as _,cY as y,r,cZ as C,c3 as p,f as u,Z as i,j as e,N as w,T as a,aX as R,C as k,b2 as E,M as L,z as $,H as I,d as S}from"./index-BRyeyo8a.js";import{b as T}from"./browser-CeceZ__e.js";function z(){var o,x;const{i18n:{language:g}}=h(),{extInfo:s}=j(N),[n,m]=_(y),[l,v]=r.useState(""),[d,f]=r.useState(0);r.useEffect(()=>{!(s!=null&&s.userId)||n.length>0||C(s.userId).then(t=>m(t))},[s==null?void 0:s.userId]),r.useEffect(()=>{if(n.length==0)return;const t=`${p.apiUrl}${u.signup}?intrCode=${n[0].code}`;T.toDataURL(t,{errorCorrectionLevel:"Q"},(D,b)=>{v(b)})},[n]);const c=()=>{var t;return f(+S(((t=i.defaultCurrency)==null?void 0:t.sendMenoy)??0))};return r.useEffect(()=>(c(),i.addEventListener("defaultCurrencyChanged",c),()=>{i.removeEventListener("defaultCurrencyChanged",c)}),[]),e.jsx(w,{title:a.invite(),hideRightEl:!0,className:"agent-bg",headerClasses:"agent-header",contentClassName:"!bg-transparent",children:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl text-[var(--agent-invite-title)] font-semibold text-center leading-none py-3 px-8",children:a.agent_invite_title()}),e.jsx("div",{className:"bg-[url('/assets/icon/agent/invite-bg.png')] bg-contain bg-no-repeat bg-center px-8",children:e.jsxs("div",{className:"rounded-xl w-full border-2 border-[var(--active)] flex flex-col items-center px-5 pb-5 bg-[url('/assets/icon/agent/invite-card-bg.webp')] bg-cover bg-no-repeat",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:"agent-trapezoid "}),e.jsx(R,{className:"h-5 absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",index:g=="hi"?"":"2"})]}),e.jsx("div",{className:"text-2xl text-white  uppercase text-center font-bold pt-2 leading-none",children:a.agent_invite_card_1()}),e.jsx("div",{className:"text-xs text-[#00af99]  uppercase text-center p-1",children:a.agent_invite_card_2()}),d!=0&&e.jsxs("div",{className:"text-lg text-[var(--active)] uppercase text-center leading-none py-2",children:[a.agent_invite_card_3()," ",d," ",(o=i.defaultCurrency)==null?void 0:o.currency]}),e.jsx(k,{src:l,className:"w-[100px]",alt:""}),e.jsx("div",{className:"text-sm text-[#d4e79e] uppercase text-center py-1",children:a.invitation_code()}),e.jsx("span",{className:"rounded-full bg-[var(--active)] px-5 py-1 leading-none text-black text-2xl font-bold",children:(x=n[0])==null?void 0:x.code}),e.jsx("div",{className:"flex mt-5 flex-wrap",children:E().map(t=>e.jsxs("div",{className:"flex items-center gap-2 w-1/3",children:[e.jsx(L,{name:t.icon,color:"var(--active)",className:"h-4 w-4"}),e.jsx("span",{className:"text-nowrap whitespace-nowrap text-sm text-[var(--text-)]",children:t.name})]},t.name))})]})}),e.jsx("div",{className:"pb-3 mt-5 px-8",children:e.jsx("div",{className:"rounded-full bg-[var(--disable)] pb-[3px]",children:e.jsx("div",{onClick:()=>{var t;return $(l,`invite_${(t=n[0])==null?void 0:t.code}.png`)},className:"rounded-full bg-[var(--active)] p-2 pt-3 text-black uppercase text-xl font-bold text-center leading-none",children:a.save_image()})})}),e.jsx("div",{className:"pb-3 px-8",children:e.jsx("div",{className:"rounded-full bg-[#f08800]",children:e.jsxs("div",{onClick:()=>I.copy(`${p.apiUrl}${u.signup}?intrCode=${n[0].code}`),className:"rounded-full bg-[#ffcc00] p-2 pt-3 text-black uppercase text-xl font-bold text-center leading-none",children:[a.copy_share_link()," "]})})})]})})}export{z as AgentInvite};
