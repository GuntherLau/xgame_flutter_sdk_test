import{u as D,S as $,aJ as q,r as h,b2 as B,ag as n,T as m,b_ as J,E as w,a$ as Q,j as s,N as Y,al as K,H as v,aA as W,C as X,f as Z,M as j,c_ as S,c$ as E,d0 as G,d1 as R}from"./index-BRyeyo8a.js";function ae(){const L=D(),I=new $(L.search),{i18n:{language:y}}=q(),[T,N]=h.useState(!1),[t,_]=h.useState(I.findNumber("tab",0)),r=B().map(o=>({value:o.type,name:o.type==n.ALL?m.all():o.name})),{getGameByCate:P,games:V,getGames:A,getProviders:O,getGameLivePair:M}=J(),l=h.useMemo(()=>{var g;const o=((g=w.getInstance().getLang(y))==null?void 0:g.verticalCategories)??[],i=[];for(const a of o){const e=Q({showChat:!1}).find(u=>u.type==a);e&&i.push({...e,games:P(e.code,{recent:!0})})}const p=[];i.map(a=>{p.push(a.code)});const x=(i||[]).slice();return p.map(a=>{var e,u;if((e=w.getInstance().getLang(y))!=null&&e[a]){const U=(u=w.getInstance().getLang(y))==null?void 0:u[a];let C=0;const c=x.find((f,d)=>f.code===a?(C=d,!0):!1);if(c){const f=(c==null?void 0:c.games.slice())||[];let d=[];U.map(H=>{c==null||c.games.slice().map((b,ee)=>{if(b.gameId===H){const z=f.indexOf(b);f.splice(z,1),d.push(b)}})}),d=[...d,...f],x[C].games=d}}}),x},[V,L.search,y,T]),k=()=>{var i,p,x,g,a;const o=((i=l.find(e=>e.type==r[t].value))==null?void 0:i.games)??[];return l.every(e=>e.games.length==0)||t>0&&o.length==0?s.jsxs("div",{className:"flex-center flex-col pt-32",children:[s.jsx(X,{src:"/assets/img/no_record.png",className:"w-[100px] ml-5",alt:""}),s.jsx("div",{className:"pt-6 text-[var(--text-not-found)] font-light text-sm",children:m.no_record_found()}),s.jsx("button",{onClick:()=>v.navigate(Z.home,{replace:!0}),className:"w-4/5 bg-[var(--active)] rounded-md py-2 text-black uppercase text-xl font-semibold mt-12",children:m.game_lobby()})]}):t==0?l.map((e,u)=>e.games.length==0?s.jsx(h.Fragment,{},e.type):(e.expandClass,e.code=="future"?s.jsxs("div",{className:"py-3",children:[s.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[s.jsx(j,{name:e.icon,color:"var(--cate-icon-color)",className:"h-4 min-w-4 !max-w-6 mr-1"}),s.jsx("h2",{className:"font-bold text-[17px] text-[var(--cate-color)] uppercase",children:e.name})]}),s.jsx(S,{games:e.games})]},e.code):e.code=="live"?s.jsxs("div",{className:"py-3",children:[s.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[s.jsx(j,{name:e.icon,color:"var(--cate-icon-color)",className:"h-4 min-w-4 !max-w-6 mr-1"}),s.jsx("h2",{className:"font-bold text-[17px] text-[var(--cate-color)] uppercase",children:e.name})]}),s.jsx(E,{games:e.games})]},e.code):e.code=="lottery"?s.jsxs("div",{className:"py-3",children:[s.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[s.jsx(j,{name:e.icon,color:"var(--cate-icon-color)",className:"h-4 min-w-4 !max-w-6 mr-1"}),s.jsx("h2",{className:"font-bold text-[17px] text-[var(--cate-color)] uppercase",children:e.name})]}),s.jsx(G,{games:e.games,type:n.LOTTERY})]},e.code):e.code=="sport"?s.jsxs("div",{className:"py-3",children:[s.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[s.jsx(j,{name:e.icon,color:"var(--cate-icon-color)",className:"h-4 min-w-4 !max-w-6 mr-1"}),s.jsx("h2",{className:"font-bold text-[17px] text-[var(--cate-color)] uppercase",children:e.name})]}),s.jsx(R,{games:e.games})]},e.code):s.jsxs("div",{className:"py-3",children:[s.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[s.jsx(j,{name:e.icon,color:"var(--cate-icon-color)",className:"h-4 min-w-4 !max-w-6 mr-1"}),s.jsx("h2",{className:"font-bold text-[17px] text-[var(--cate-color)] uppercase",children:e.name})]}),s.jsx(G,{games:e.games,type:e.type})]},e.code))):r[t].value==n.FUTURE?s.jsx(S,{games:((p=l.find(e=>e.type==n.FUTURE))==null?void 0:p.games)??[]}):r[t].value==n.LIVE?s.jsx(E,{games:((x=l.find(e=>e.type==n.LIVE))==null?void 0:x.games)??[]}):r[t].value==n.SPORTS?s.jsx(R,{games:((g=l.find(e=>e.type==n.SPORTS))==null?void 0:g.games)??[]}):s.jsx(G,{games:((a=l.find(e=>e.type==r[t].value))==null?void 0:a.games)??[],type:r[t].value})},F=()=>{v.getRecentPlayGameIds().length!=0&&(v.clearRecentPlayGame(),v.showToast(m.clear_successfully()),N(!1))};return h.useEffect(()=>{A(),O(),M()},[]),s.jsx(Y,{title:m.recent_play(),className:"max-w-[800px] mx-auto",tabEl:s.jsx(K,{onChange:_,selected:t,tabs:r,className:"px-2 sticky top-0"}),rightEl:s.jsx("div",{className:"text-[var(--arrow-color)] font-light text-sm",onClick:()=>N(v.getRecentPlayGameIds().length>0),children:m.cancel_all()}),children:s.jsxs("div",{className:"p-3 pt-2",children:[s.jsx(k,{}),s.jsx(W,{content:m.clear_everything(),onClose:()=>N(!1),onConfirm:F,open:T})]})})}export{ae as RecentPlayGames};
